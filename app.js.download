(function(){var e={964779:function(e,t,s){"use strict";s.d(t,{Z:function(){return d}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"stream-new-like",style:{left:e.left+"px",top:e.top}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-like",style:{left:e.iconLeft+"px"}})])},n=[],a={name:"StreamingLike",props:{startLeft:{type:Number,required:!0},startTop:{type:[String,Number],required:!0}},data(){return{left:this.startLeft,top:Number.isNaN(this.startTop)?this.startTop:`${this.startTop}px`,iconLeft:0}},mounted(){this.animate()},destroyed(){cancelAnimationFrame(this.animationId)},methods:{animate(){setTimeout((()=>{this.animationId=requestAnimationFrame(this.animate)}),1e3/30),this.iconLeft+=this.getRandomInt(-3,4)},getRandomInt(e,t){return Math.floor(Math.random()*(t-e))+e}}},i=a,o=s(801001),c=(0,o.Z)(i,r,n,!1,null,"5ca7780e",null),d=c.exports},94739:function(e,t,s){var r={"./af.js":[915903,5903],"./am.js":[329911,9911],"./ar-dz.js":[47200,7200],"./ar-iq.js":[487719,7719],"./ar-kw.js":[62376,2376],"./ar-ly.js":[848540,8540],"./ar-ma.js":[996817,6817],"./ar-sa.js":[511573,1573],"./ar-tn.js":[599339,9339],"./ar.js":[963939,3939],"./az.js":[888092,8092],"./be.js":[960504,504],"./bg.js":[119091,9091],"./bi.js":[419149,9149],"./bm.js":[415287,5287],"./bn-bd.js":[654067,4067],"./bn.js":[35254,5254],"./bo.js":[852502,2502],"./br.js":[308864,8864],"./bs.js":[604502,4502],"./ca.js":[333646,3646],"./cs.js":[498507,8507],"./cv.js":[916636,6636],"./cy.js":[228792,8792],"./da.js":[917427,7427],"./de-at.js":[373237,3237],"./de-ch.js":[716148,7608],"./de.js":[180790,790],"./dv.js":[911794,1794],"./el.js":[565423,5423],"./en-au.js":[885109,5109],"./en-ca.js":[55105,5105],"./en-gb.js":[899517,2064],"./en-ie.js":[230758,758],"./en-il.js":[995805,5805],"./en-in.js":[388529,8529],"./en-nz.js":[250302,302],"./en-sg.js":[935941,5941],"./en-tt.js":[746183,6183],"./en.js":[125054,5054],"./eo.js":[474990,4990],"./es-do.js":[603864,3864],"./es-mx.js":[337118,7118],"./es-pr.js":[723521,3521],"./es-us.js":[636165,6165],"./es.js":[667763,7763],"./et.js":[599670,9670],"./eu.js":[946629,6629],"./fa.js":[596953,6953],"./fi.js":[847822,7822],"./fo.js":[269197,9197],"./fr-ca.js":[477989,7989],"./fr-ch.js":[454254,4254],"./fr.js":[496023,6023],"./fy.js":[793220,3220],"./ga.js":[47467,7467],"./gd.js":[754855,4855],"./gl.js":[290229,229],"./gom-latn.js":[646312,6312],"./gu.js":[287632,7632],"./he.js":[645418,5418],"./hi.js":[577573,7573],"./hr.js":[496257,7935],"./ht.js":[698889,8889],"./hu.js":[968562,8562],"./hy-am.js":[38242,8242],"./id.js":[83783,3783],"./is.js":[998980,8980],"./it-ch.js":[283706,3706],"./it.js":[715551,5551],"./ja.js":[176831,6831],"./jv.js":[542641,2641],"./ka.js":[246622,6622],"./kk.js":[32921,2921],"./km.js":[845567,5567],"./kn.js":[321113,1113],"./ko.js":[919132,9132],"./ku.js":[994888,4888],"./ky.js":[660466,466],"./lb.js":[891796,6544],"./lo.js":[468894,8894],"./lt.js":[78768,8768],"./lv.js":[630953,953],"./me.js":[818066,8066],"./mi.js":[268602,8602],"./mk.js":[951560,1560],"./ml.js":[404017,4017],"./mn.js":[894717,4717],"./mr.js":[15473,5473],"./ms-my.js":[177387,7387],"./ms.js":[505742,5742],"./mt.js":[828477,8477],"./my.js":[462966,2966],"./nb.js":[119682,9682],"./ne.js":[14149,4149],"./nl-be.js":[737496,7496],"./nl.js":[899182,9182],"./nn.js":[992722,2722],"./oc-lnc.js":[776159,6159],"./pa-in.js":[135914,5914],"./pl.js":[581987,1987],"./pt-br.js":[457548,7548],"./pt.js":[515001,5001],"./rn.js":[300123,123],"./ro.js":[318146,8146],"./ru.js":[270600,600],"./rw.js":[206509,6509],"./sd.js":[465437,5437],"./se.js":[200772,772],"./si.js":[277109,7109],"./sk.js":[935627,5627],"./sl.js":[382544,2544],"./sq.js":[588341,8341],"./sr-cyrl.js":[137101,7101],"./sr.js":[450617,617],"./ss.js":[864127,4127],"./sv-fi.js":[819911,6421],"./sv.js":[991876,1876],"./sw.js":[146148,6148],"./ta.js":[255596,5596],"./te.js":[45159,5159],"./tet.js":[799157,9157],"./tg.js":[509928,9928],"./th.js":[262019,2019],"./tk.js":[675817,5817],"./tl-ph.js":[46513,6513],"./tlh.js":[997296,7296],"./tr.js":[373035,3035],"./tzl.js":[557797,1825],"./tzm-latn.js":[330261,261],"./tzm.js":[284722,4722],"./ug-cn.js":[580313,313],"./uk.js":[564144,4144],"./ur.js":[592957,2957],"./uz-latn.js":[98727,8727],"./uz.js":[307486,7486],"./vi.js":[337553,7553],"./x-pseudo.js":[955321,5321],"./yo.js":[114724,4724],"./zh-cn.js":[533852,3852],"./zh-hk.js":[502390,2390],"./zh-tw.js":[543901,3901],"./zh.js":[132009,2009]};function n(e){if(!s.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],n=t[0];return s.e(t[1]).then((function(){return s.t(n,23)}))}n.keys=function(){return Object.keys(r)},n.id=94739,e.exports=n},888638:function(e,t,s){"use strict";s.d(t,{$t:function(){return n},BA:function(){return l},Ck:function(){return u},L5:function(){return i},UG:function(){return d},V4:function(){return o},ok:function(){return a},sB:function(){return c}});var r=s(975701);const n=e=>{const t=`${r.tW}/trials/claim`;return r.ZP.post(t,{code:e}).then((e=>e.data))},a=e=>{const t=`${r.tW}/trials/check`;return r.ZP.post(t,{code:e,reserve:!0}).then((e=>e.data))},i=e=>{const t=`${r.tW}/promotions/claim`;return r.ZP.post(t,{code:e,strictAuthCheck:1}).then((e=>e.data))},o=e=>{const t=`${r.tW}/promotions/offer/${e}`;return r.ZP.get(t).then((e=>e.data))},c=e=>{const t=`${r.tW}/users/restore-access`;return r.ZP.post(t,{code:e}).then((e=>e.data))},d=(e,t={})=>{const s=(0,r.XP)(t),n=`${r.tW}/emails/confirm/${e}${s}`;return r.ZP.get(n).then((e=>e.data))},u=e=>{const t=`${r.tW}/users/clicks-stats`;return r.ZP.post(t,e).then((e=>e.data))},l=(e,t="view")=>{const s=(0,r.XP)({op:t}),n=`${r.tW}/gdpr/${e}${s}`;return r.ZP.get(n).then((e=>e.data))}},97386:function(e,t,s){"use strict";s.d(t,{To:function(){return u},UC:function(){return l},be:function(){return m},cN:function(){return d},jK:function(){return c},pP:function(){return o},uf:function(){return a},x4:function(){return n},z2:function(){return i}});var r=s(975701);const n=e=>{const t=`${r.tW}/users/login`;return r.ZP.post(t,e).then((e=>e.data))},a=()=>{const e=`${r.tW}/users/logout`;return r.ZP.post(e).then((e=>e.data))},i=e=>{const t=`${r.tW}/users/register`;return r.ZP.post(t,e).then((e=>e.data))},o=e=>{const t=`${r.tW}/users/login-as-referral/${e}`;return r.ZP.get(t).then((e=>e.data))},c=()=>{const e=`${r.tW}/users/logout-from-referral`;return r.ZP.get(e).then((e=>e.data))},d=()=>{const e=`${r.tW}/oauth/confirm`;return r.ZP.get(e).then((e=>e.data))},u=()=>{const e=`${r.tW}/access-token`;return r.ZP.get(e).then((e=>e.data))},l=()=>{const e=`${r.tW}/webauthn/credentials`;return r.ZP.get(e).then((e=>e.data))},m=e=>{const t=`${r.tW}/webauthn/credentials`;return r.ZP["delete"](t,{data:e}).then((e=>e.data))}},398563:function(e,t,s){"use strict";s.d(t,{Bw:function(){return d},CP:function(){return u},GG:function(){return y},Jd:function(){return o},KD:function(){return f},Pz:function(){return p},SH:function(){return S},VN:function(){return v},cD:function(){return a},do:function(){return b},iO:function(){return m},jA:function(){return l},jV:function(){return i},mt:function(){return h},oY:function(){return w},t1:function(){return P},uI:function(){return g},ys:function(){return c}});var r=s(975701),n=s(427166);const a=()=>{const e=`${r.tW}/payouts/account`;return r.ZP.get(e).then((e=>e.data))},i=e=>{const t=`${r.tW}/payouts/account`;return r.ZP.post(t,e).then((e=>e.data))},o=()=>{const e=`${r.tW}/payouts/legal`;return r.ZP.get(e).then((e=>(0,n.P)(e.data)))},c=e=>{const t=`${r.tW}/payouts/legal`;return r.ZP.post(t,e).then((e=>e.data))},d=e=>{const t=`${r.tW}/payouts/legal/twitter`;return r.ZP.post(t,e).then((e=>e.data))},u=e=>{const t=`${r.tW}/payouts/legal/instagram`;return r.ZP.post(t,e).then((e=>e.data))},l=()=>{const e=`${r.tW}/iv/skip-secondary`;return r.ZP.post(e).then((e=>e.data))},m=(e={})=>{const t=`${r.tW}/payouts/bank${(0,r.XP)(e)}`;return r.ZP.get(t).then((e=>e.data))},h=()=>{const e=`${r.tW}/payouts/other/bank`;return r.ZP.get(e).then((e=>e.data))},f=e=>{const t=`${r.tW}/payouts/bank`;return r.ZP.post(t,e).then((e=>e.data))},p=e=>{const t=`${r.tW}/payouts/bank`;return r.ZP.patch(t,e).then((e=>e.data))},g=()=>{const e=`${r.tW}/payouts/bank`;return r.ZP["delete"](e).then((e=>e.data))},y=()=>{const e=`${r.tW}/payouts/stripe`;return r.ZP.get(e).then((e=>e.data))},S=()=>{const e=`${r.tW}/payouts/stripe/legal`;return r.ZP.get(e).then((e=>e.data))},P=e=>{const t=`${r.tW}/payouts/stripe/legal`;return r.ZP.post(t,e).then((e=>e.data))},v=(e=!1)=>{let t=`${r.tW}/payouts/stripe/account`;return e&&(t+="-edit"),r.ZP.get(t).then((e=>e.data))},w=e=>{const t=`${r.tW}/payouts/stripe/account`;return r.ZP.post(t,e).then((e=>e.data))},b=e=>{const t=`${r.tW}/zip/${e}/state`;return r.ZP.get(t).then((e=>e.data))}},410697:function(e,t,s){"use strict";s.d(t,{AT:function(){return m},DP:function(){return o},GO:function(){return u},JK:function(){return S},Jn:function(){return T},O4:function(){return p},P$:function(){return M},Re:function(){return v},SL:function(){return y},SR:function(){return E},U2:function(){return $},XC:function(){return k},ad:function(){return I},ae:function(){return f},bG:function(){return d},bh:function(){return g},cJ:function(){return C},d9:function(){return w},dU:function(){return F},j2:function(){return _},kd:function(){return P},lg:function(){return x},mb:function(){return i},o8:function(){return a},qP:function(){return l},rY:function(){return A},sl:function(){return c},tY:function(){return b},tx:function(){return h},yq:function(){return L},zG:function(){return n}});var r=s(975701);const n=({limit:e=r.P9,offset:t=0,filter:s,order:n,query:a,field:i,list_id:o,muted:c,recent:d}={},u)=>{const l=(0,r.XP)({limit:e,offset:t,filter:s,order:n,query:a,field:i,list_id:o,skip_users:"all",muted:c,recent:d}),m=`${r.tW}/chats${l}`;return r.ZP.get(m,{cancelToken:u}).then((e=>e.data))},a=({limit:e=r.P9,offset:t=0,query:s,sort:n,field:a,filter:i,total:o,skip_users:c,scheduledSubscribedOn:d},u)=>{const l=(0,r.XP)({limit:e,offset:t,query:s,sort:n,field:a,filter:i,total:o,skip_users:c,skip_users_dups:c?void 0:1,scheduledSubscribedOn:d}),m=`${r.tW}/chats/users${l}`;return r.ZP.get(m,{cancelToken:u}).then((e=>e.data))},i=e=>{const t=(0,r.XP)({skip_users:"all"}),s=`${r.tW}/chats/${encodeURIComponent(e)}${t}`;return r.ZP.get(s).then((e=>e.data))},o=(e,{limit:t=r.P9,lastId:s,firstId:n,groupId:a,id:i,skip_users:o,filter:c,order:d="desc"}={})=>{const u=(0,r.XP)({limit:t,lastId:s,firstId:n,group_id:a,id:i,order:d,skip_users:o,skip_users_dups:o?void 0:1,filter:c}),l=`${r.tW}/chats/${encodeURIComponent(e)}/messages${u}`;return r.ZP.get(l).then((e=>e.data))},c=(e,{query:t,filter:s}={})=>{const n=(0,r.XP)({query:t,filter:s}),a=`${r.tW}/chats/${encodeURIComponent(e)}/messages/search${n}`;return r.ZP.get(a).then((e=>e.data))},d=(e,t)=>{const s=`${r.tW}/chats/${e}/messages`;return r.ZP.post(s,t).then((e=>e.data))},u=e=>{const t=`${r.tW}/chats/${e}`;return r.ZP["delete"](t).then((e=>e.data))},l=(e,t)=>{const s=`${r.tW}/messages/${e}`;return r.ZP["delete"](s,{data:{withUserId:t}}).then((e=>e.data))},m=e=>{const t=`${r.tW}/messages/${e}`;return r.ZP.get(t).then((e=>e.data))},h=()=>{const e=`${r.tW}/messages/queue`;return r.ZP.get(e).then((e=>e.data))},f=(e,t="scheduled",s)=>{const n=(0,r.XP)({format:t}),a=`${r.tW}/messages/queue/${e}${n}`;return r.ZP.get(a,{cancelToken:s}).then((e=>e.data))},p=e=>{const t=`${r.tW}/messages/queue`;return r.ZP.post(t,e).then((e=>e.data))},g=(e,t)=>{const s=`${r.tW}/messages/queue/${t}`;return r.ZP.put(s,e).then((e=>e.data))},y=e=>{const t=`${r.tW}/messages/queue/${e}`;return r.ZP["delete"](t).then((e=>e.data))},S=e=>{const t=`${r.tW}/chats/${e}/mark-as-read`;return r.ZP.post(t).then((e=>e.data))},P=e=>{const t=`${r.tW}/chats/${e}/mark-as-read`;return r.ZP["delete"](t).then((e=>e.data))},v=e=>{const t=`${r.tW}/chats/mark-as-read`;return r.ZP.post(t,{data:{currentFiltersIds:e}}).then((e=>e.data))},w=(e,t)=>{const s=`${r.tW}/messages/${e}/like`;return r.ZP.post(s,{withUserId:t}).then((e=>e.data))},b=(e,t)=>{const s=`${r.tW}/messages/${e}/like`;return r.ZP["delete"](s,{data:{withUserId:t}}).then((e=>e.data))},I=e=>{const t=`${r.tW}/chats/${e}/hide`;return r.ZP.post(t).then((e=>e.data))},k=e=>{const t=`${r.tW}/chats/${e}/mute`;return r.ZP.post(t).then((e=>e.data))},C=e=>{const t=`${r.tW}/chats/${e}/mute`;return r.ZP["delete"](t).then((e=>e.data))},T=({offset:e=0,limit:t=30,query:s},n)=>{const a=(0,r.XP)({offset:e,limit:t,query:s,format:"infinite"}),i=`${r.tW}/messages/queue/stats${a}`;return r.ZP.get(i,{cancelToken:n}).then((e=>e.data))},$=e=>{const t=`${r.tW}/messages/queue/size`;return r.ZP.post(t,{queueBuyers:e}).then((e=>e.data))},L=({userId:e,type:t="",opened:s,lastId:n,limit:a=20}={})=>{const i=(0,r.XP)({opened:s,last_id:n,limit:a,skip_users:"all"}),o=`${r.tW}/chats/${encodeURIComponent(e)}/media/${t}${i}`;return r.ZP.get(o).then((e=>e.data))},M=({offset:e=0,skipUsers:t})=>{const s=(0,r.XP)({limit:r.P9,offset:e,skip_users:t}),n=`${r.tW}/messages/scheduled${s}`;return r.ZP.get(n).then((e=>e.data))},_=({queueId:e,limit:t=r.P9,offset:s=0,skip_users:n,marker:a})=>{const i=(0,r.XP)({limit:t,offset:s,skip_users:n,skip_users_dups:n?void 0:1,marker:a}),o=`${r.tW}/messages/queue/${e}/buyers${i}`;return r.ZP.get(o).then((e=>e.data))},A=(e,t)=>{let s=`${r.tW}/messages/${e}/pin`;return t&&(s+=`/user/${t}`),r.ZP.post(s).then((e=>e.data))},x=(e,t)=>{let s=`${r.tW}/messages/${e}/pin`;return t&&(s+=`/user/${t}`),r.ZP["delete"](s).then((e=>e.data))},F=e=>{const t=`${r.tW}/chats/${e}/messages/pin`;return r.ZP["delete"](t).then((e=>e.data))},E=e=>{const t=`${r.tW}/messages/${e}/hide`;return r.ZP.put(t).then((e=>e.data))}},329732:function(e,t,s){"use strict";s.d(t,{Ru:function(){return i},ar:function(){return n},vO:function(){return a}});var r=s(975701);const n=e=>{const t=`${r.tW}/comments/${e}/like`;return r.ZP.post(t).then((e=>e.data))},a=e=>{const t=`${r.tW}/comments/${e}/like`;return r.ZP["delete"](t).then((e=>e.data))},i=e=>{const t=`${r.tW}/comments/${e}`;return r.ZP["delete"](t).then((e=>e.data))}},8056:function(e,t,s){"use strict";s.d(t,{$z:function(){return n},GK:function(){return i},J8:function(){return d},Pt:function(){return c},bm:function(){return o},m_:function(){return a}});var r=s(975701);const n=e=>{const t=`${r.tW}/users/opensea/wallet`;return r.ZP.post(t,e).then((e=>e.data))},a=()=>{const e=`${r.tW}/users/opensea/wallet`;return r.ZP["delete"](e).then((e=>e.data))},i=({offset:e=0,limit:t=r.P9})=>{const s=(0,r.XP)({offset:e,limit:t}),n=`${r.tW}/users/opensea/assets${s}`;return r.ZP.get(n).then((e=>e.data))},o=({offset:e=0,limit:t=r.P9})=>{const s=(0,r.XP)({offset:e,limit:t}),n=`${r.tW}/users/opensea/assets/nft${s}`;return r.ZP.get(n).then((e=>e.data))},c=e=>{const t=`${r.tW}/users/opensea/nft`;return r.ZP.put(t,e).then((e=>e.data))},d=e=>{const t=`${r.tW}/users${e?`/${e}`:""}/opensea/nft`;return r.ZP.get(t).then((e=>e.data))}},218684:function(e,t,s){"use strict";s.d(t,{B8:function(){return i},Eh:function(){return v},F2:function(){return a},Gf:function(){return y},WG:function(){return b},_P:function(){return n},_v:function(){return u},f1:function(){return p},j1:function(){return l},j2:function(){return h},jm:function(){return w},kN:function(){return m},oX:function(){return d},t$:function(){return f},tT:function(){return I},u6:function(){return P},uX:function(){return S},vm:function(){return o},wT:function(){return g},xR:function(){return c}});s(227361);var r=s(975701);s(550615);const n=()=>{const e=`${r.tW}/payments/3ds-js?isExtendedVendorFormat=1`;return r.ZP.get(e).then((e=>e.data))},a=(e={})=>{const t=`${r.tW}/payments/pay`;return r.ZP.post(t,e).then((e=>e.data))},i=(e,t)=>{const s=`${r.tW}/payments/cards/${e}`;return r.ZP.put(s,t).then((e=>e.data))},o=()=>{const e=`${r.tW}/payments/cards`;return r.ZP.get(e).then((e=>e.data))},c=e=>{const t=(0,r.XP)(e),s=`${r.tW}/payments/cards-vat${t}`;return r.ZP.get(s).then((e=>e.data))},d=({limit:e,offset:t}={})=>{const s=(0,r.XP)({limit:e,offset:t}),n=`${r.tW}/payments/transactions${s}`;return r.ZP.get(n).then((e=>e.data))},u=({limit:e=r.P9,marker:t,type:s,dateFrom:n,dateTo:a}={})=>{const i=(0,r.XP)({limit:e,marker:t,type:s,date_from:n,date_to:a}),o=`${r.tW}/payments/all/transactions${i}`;return r.ZP.get(o).then((e=>e.data))},l=()=>{const e=`${r.tW}/payments/all/has-transactions`;return r.ZP.get(e).then((e=>e.data))},m=(e={})=>{const t=(0,r.XP)(e),s=`${r.tW}/payments/token/ccbill${t}`;return r.ZP.get(s).then((e=>e.data))},h=(e,t)=>r.ZP.post(e,t),f=e=>{const t=`${r.tW}/payments/cards/${e}/default`;return r.ZP.put(t).then((e=>e.data))},p=e=>{const t=`${r.tW}/payments/cards/${e}`;return r.ZP["delete"](t).then((e=>e.data))},g=(e,t,s,n)=>{const a=`${e}payments/scan-card`,i=new FormData;return n?i.append("fileBase64",n):s&&i.append("files[]",s,s.name),r.ZP.post(a,i,{headers:{post:{Authorization:`Bearer ${t}`}}}).then((e=>e.data))},y=(e,t)=>{const s=`${r.tW}/payments/cards/${e}/verification`;return r.ZP.post(s,{zip:t}).then((e=>e.data))},S=()=>{const e=`${r.tW}/alternative-payment-methods`;return r.ZP.get(e).then((e=>e.data))},P=(e={})=>{const t=(0,r.XP)(e),s=`${r.tW}/alternative-payment-methods/form${t}`;return r.ZP.get(s).then((e=>e.data))},v=(e={})=>{const t=`${r.tW}/alternative-payment-methods/form`;return r.ZP.post(t,e).then((e=>e.data))},w=({id:e,amount:t})=>{const s=`${r.tW}/alternative-payment-methods/pay`;return r.ZP.post(s,{id:e,amount:t}).then((e=>e.data))},b=e=>{const t=`${r.tW}/alternative-payment-methods`;return r.ZP["delete"](t,{data:{id:e}}).then((e=>e.data))},I=(e,t={})=>{const s=`${r.tW}/payments/cards/${e}/verify`;return r.ZP.post(s,t).then((e=>e.data))}},865273:function(e,t,s){"use strict";s.d(t,{$m:function(){return d},$p:function(){return f},E8:function(){return l},Ee:function(){return p},Gw:function(){return g},Ju:function(){return y},K3:function(){return x},K4:function(){return I},KE:function(){return T},M5:function(){return c},Nb:function(){return h},Nl:function(){return A},Nv:function(){return u},PF:function(){return b},Rp:function(){return _},Xj:function(){return C},_5:function(){return S},eq:function(){return m},gG:function(){return w},k7:function(){return M},l8:function(){return v},mG:function(){return k},n1:function(){return P},nj:function(){return $},yx:function(){return L}});var r=s(406557),n=s.n(r),a=s(535937),i=s.n(a),o=s(975701);const c=({limit:e=o.P9,marker:t}={})=>{const s=(0,o.XP)({limit:e,marker:t}),r=`${o.tW}/payouts/transactions${s}`;return o.ZP.get(r).then((e=>e.data))},d=(e=!1)=>{let t=`${o.tW}/payouts/balances`;return e&&(t+="/stripe"),o.ZP.get(t).then((e=>e.data))},u=(e,t,s)=>{const r=(0,o.XP)({startDate:e,endDate:t,timeZone:s}),n=`${o.tW}/payouts/stats${r}`;return o.ZP.get(n).then((e=>e.data))},l=({limit:e,offset:t}={})=>{const s=(0,o.XP)({limit:e,offset:t}),r=`${o.tW}/payouts/requests${s}`;return o.ZP.get(r).then((e=>e.data))},m=({limit:e,currentStep:t,lastPayoutId:s}={})=>{const r=(0,o.XP)(i()({limit:e,currentStep:t,lastPayoutId:s},n())),a=`${o.tW}/payouts/requests/stripe${r}`;return o.ZP.get(a).then((e=>e.data))},h=({withdrawalPeriod:e,isStripe:t=!1}={})=>{let s=`${o.tW}/payouts/requests`;return t&&(s+="/stripe"),o.ZP.patch(s,{withdrawalPeriod:e}).then((e=>e.data))},f=e=>{const t=`${o.tW}/payouts/requests`;return o.ZP.post(t,{withdrawal_amount:e}).then((e=>e.data))},p=({data:e,type:t=null})=>{let s=`${o.tW}/payouts/w9`;return t&&(s+=`/${t}`),o.ZP.post(s,e).then((e=>e.data))},g=e=>{const t=`${o.tW}/payouts/tin`;return o.ZP.post(t,{tin:e}).then((e=>e.data))},y=({limit:e=o.P9,offset:t,marker:s}={})=>{const r=(0,o.XP)({limit:e,offset:t,marker:s}),n=`${o.tW}/payouts/disputes${r}`;return o.ZP.get(n).then((e=>e.data))},S=()=>{const e=`${o.tW}/payouts/check-receive/`;return o.ZP.get(e).then((e=>e.data))},P=e=>{const t=`${o.tW}/payouts/vat`;return o.ZP.post(t,{vat:e}).then((e=>e.data))},v=e=>{const t=`${o.tW}/payouts/vat-requests`;return o.ZP.post(t,{...e}).then((e=>e.data))},w=()=>{const e=`${o.tW}/payouts/vat`;return o.ZP.get(e).then((e=>e.data))},b=({limit:e,offset:t}={})=>{const s=(0,o.XP)({limit:e,offset:t}),r=`${o.tW}/payouts/requests/vat-documents${s}`;return o.ZP.get(r).then((e=>e.data))},I=e=>{const t=`${o.tW}/payouts/requests/vat/${e}`;return o.ZP.get(t).then((e=>e.data))},k=({year:e,month:t}={})=>{const s=(0,o.XP)({year:e,month:t}),r=`${o.tW}/payouts/vat-invoice${s}`;return o.ZP.get(r).then((e=>e.data))},C=({year:e,month:t,amount:s}={})=>{const r=(0,o.XP)({invoiceYear:e,invoiceMonth:t,creatorVatAmount:s}),n=`${o.tW}/payouts/download/vat-invoice${r}`;return o.ZP.get(n).then((e=>e.data))},T=e=>{const t=`${o.tW}/payouts/download/vat/${e}`;return o.ZP.get(t).then((e=>e.data))},$=()=>{const e=`${o.tW}/payouts/vats`;return o.ZP.get(e).then((e=>e.data))},L=()=>{const e=`${o.tW}/payouts/vat`;return o.ZP["delete"](e).then((e=>e.data))},M=()=>{const e=`${o.tW}/payouts/w9/address`;return o.ZP.get(e).then((e=>e.data))},_=e=>{const t=`${o.tW}/payouts/w9/address`;return o.ZP.post(t,e).then((e=>e.data))},A=()=>{const e=`${o.tW}/payouts/can-add-vat-documents`;return o.ZP.get(e).then((e=>e.data))},x=({limit:e=o.P9,offset:t,marker:s,startDate:r,endDate:n}={})=>{const a=(0,o.XP)({limit:e,offset:t,marker:s,startDate:r,endDate:n}),i=`${o.tW}/payouts/chargebacks${a}`;return o.ZP.get(i).then((e=>e.data))}},547732:function(e,t,s){"use strict";s.d(t,{HH:function(){return o},He:function(){return c},KZ:function(){return a},f9:function(){return n},ov:function(){return d},wq:function(){return i}});var r=s(975701);const n=()=>{const e=`${r.tW}/helpers`;return r.ZP.get(e).then((e=>e.data))},a=e=>{const t=`${r.tW}/helpers/${e}`;return r.ZP.get(t).then((e=>e.data))},i=()=>{const e=`${r.tW}/helpers/permissions`;return r.ZP.get(e).then((e=>e.data))},o=(e,t=[])=>{const s=`${r.tW}/helpers/${e}`;return r.ZP.post(s,{permissions:t}).then((e=>e.data))},c=e=>{const t=`${r.tW}/users/login-as-helper/${e}`;return r.ZP.post(t).then((e=>e.data))},d=()=>{const e=`${r.tW}/users/helper-logout`;return r.ZP.post(e).then((e=>e.data))}},605889:function(e,t,s){"use strict";s.d(t,{AS:function(){return l},GX:function(){return o},Lp:function(){return d},NN:function(){return c},Ni:function(){return n},O:function(){return m},Pj:function(){return a},ZH:function(){return u},c$:function(){return h},iZ:function(){return i}});var r=s(975701);const n=({limit:e=r.P9,offset:t=0,labelsIds:s=!1}={},n)=>{let a;a=s?(0,r.XP)({offset:t,ids:s}):(0,r.XP)({limit:e,offset:t});const i=`${r.tW}/labels${a}`;return r.ZP.get(i,{cancelToken:n}).then((e=>e.data))},a=({limit:e=r.P9,offset:t=0,userId:s}={},n)=>{const a=(0,r.XP)({limit:e,offset:t,"non-empty":1}),i=`${r.tW}/users/${s}/labels${a}`;return r.ZP.get(i,{cancelToken:n}).then((e=>e.data))},i=e=>{const t=`${r.tW}/labels`;return r.ZP.post(t,{name:e}).then((e=>e.data))},o=({id:e,name:t})=>{const s=`${r.tW}/labels/${e}`;return r.ZP.patch(s,{name:t}).then((e=>e.data))},c=e=>{const t=`${r.tW}/labels/${e}`;return r.ZP.get(t).then((e=>e.data))},d=e=>{const t=`${r.tW}/labels/sort`;return r.ZP.post(t,e).then((e=>e.data))},u=e=>{const t=`${r.tW}/labels/${e}/posts`;return r.ZP["delete"](t).then((e=>e.data))},l=(e,t=[])=>{const s=`${r.tW}/labels/${e}/posts`;return r.ZP.post(s,{posts:t}).then((e=>e.data))},m=e=>{const t=`${r.tW}/labels/${e}`;return r.ZP["delete"](t).then((e=>e.data))},h=(e,t)=>{const s=`${r.tW}/labels/${e}/post/${t}`;return r.ZP["delete"](s).then((e=>e.data))}},849344:function(e,t,s){"use strict";s.d(t,{BB:function(){return w},Cs:function(){return l},F3:function(){return S},GX:function(){return k},Gi:function(){return f},HG:function(){return T},Jq:function(){return n},Ls:function(){return a},RD:function(){return h},Vl:function(){return b},XX:function(){return o},Z1:function(){return C},_D:function(){return M},aF:function(){return $},b0:function(){return L},fR:function(){return p},j7:function(){return A},jp:function(){return y},lT:function(){return m},n3:function(){return I},qb:function(){return g},u_:function(){return i},vc:function(){return v},w8:function(){return c},wr:function(){return P},wy:function(){return u},xZ:function(){return d},yI:function(){return _}});var r=s(975701);const n=({offset:e,limit:t=r.P9,query:s,cancelToken:n,beforePublishTime:a,afterPublishTime:i,headMarker:o,tailMarker:c,listId:d,user:u,onlyCanView:l}={})=>{let m=`${r.tW}/posts`;d&&!+d&&(m+=`/${d}`),"purchased"===d&&(m+="/paid"),"needTag"===d&&(m+="/need-tag");const h=!d||!!+d;let f={limit:t,query:s,skip_users:"all",format:"infinite",list_id:+d||void 0,user_id:u?encodeURIComponent(u):void 0};f=h?{...f,beforePublishTime:a,afterPublishTime:i,only_can_view:l}:{...f,offset:e},(o||c)&&(delete f.offset,f={...f,headMarker:o,tailMarker:c});const p=(0,r.XP)(f);return m+=`${p}`,r.ZP.get(m,{cancelToken:n}).then((e=>e.data))},a=({limit:e=r.P9,offset:t=0,cancelToken:s,type:n,filter:a,order:i}={})=>{const o=(0,r.XP)({limit:e,offset:t,filter:a,order:i,skip_users:"all",format:"infinite"});n&&(n=`/${n}`);const c=`${r.tW}/posts/bookmarks${n}${o}`;return r.ZP.get(c,{cancelToken:s}).then((e=>e.data))},i=e=>{const t=(0,r.XP)({skip_users:"all"}),s=`${r.tW}/posts/${e}${t}`;return r.ZP.get(s).then((e=>e.data))},o=(e,t)=>{const s=`${r.tW}/posts/${e}`;return r.ZP.put(s,t).then((e=>e.data))},c=({id:e,limit:t=r.P9,offset:s=0})=>{const n=(0,r.XP)({limit:t,offset:s,sort:"desc",skip_users:"all"}),a=`${r.tW}/posts/${e}/comments${n}`;return r.ZP.get(a).then((e=>e.data))},d=({id:e,authorId:t})=>{const s=`${r.tW}/posts/${e}/favorites/${t}`;return r.ZP.post(s).then((e=>e.data))},u=e=>{const t=`${r.tW}/posts/${e}/pin?format=status`;return r.ZP.post(t).then((e=>e.data))},l=({id:e,text:t,answerTo:s,giphyId:n})=>{const a=`${r.tW}/posts/${e}/comments`;return r.ZP.post(a,{text:t,answerTo:s,giphyId:n}).then((e=>e.data))},m=({data:e,url:t})=>r.ZP.post(t,e,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>e.data)),h=e=>{const t=`${e}`;return r.ZP["delete"](t).then((e=>e.data))},f=(e,t)=>{const s=`${r.tW}/posts/${e}/vote`;return r.ZP.post(s,{optionId:t}).then((e=>e.data))},p=e=>{const t=`${r.tW}/posts/${e}`;return r.ZP["delete"](t).then((e=>e.data))},g=e=>{const t=`${r.tW}/posts`;return r.ZP.post(t,e).then((e=>e.data))},y=e=>{const t=`${r.tW}/posts/${e}/hide`;return r.ZP.put(t).then((e=>e.data))},S=({postId:e,offset:t})=>{const s=(0,r.XP)({limit:r.P9,offset:t}),n=`${r.tW}/posts/${e}/favorites${s}`;return r.ZP.get(n).then((e=>e.data))},P=({postId:e,offset:t})=>{const s=(0,r.XP)({limit:r.P9,offset:t}),n=`${r.tW}/posts/${e}/tips${s}`;return r.ZP.get(n).then((e=>e.data))},v=e=>{const t=`${r.tW}/posts/${e}/archive`;return r.ZP.post(t).then((e=>e.data))},w=e=>{const t=`${r.tW}/posts/${e}/unarchive`;return r.ZP.post(t).then((e=>e.data))},b=e=>{const t=`${r.tW}/posts/${e}/archive?action=private_archive`;return r.ZP.post(t).then((e=>e.data))},I=e=>{const t=`${r.tW}/posts/${e}/unarchive?action=private_archive`;return r.ZP.post(t).then((e=>e.data))},k=(e,t)=>{const s=`${r.tW}/posts/${e}/bookmarks/${t}`;return r.ZP.post(s).then((e=>e.data))},C=e=>{const t=`${r.tW}/posts/${e}/bookmarks`;return r.ZP["delete"](t).then((e=>e.data))},T=e=>{const t=`${r.tW}/posts/${e}/fund-raising-contributors/count`;return r.ZP.get(t).then((e=>e.data))},$=e=>{const t=`${r.tW}/posts/stats-collect`;return r.ZP.post(t,{actions:e}).then((e=>e.data))},L=e=>{const t=`${r.tW}/posts/pinned/sort?format=ids`;return r.ZP.post(t,{order:e}).then((e=>e.data))},M=({postId:e,offset:t})=>{const s=(0,r.XP)({limit:r.P9,offset:t}),n=`${r.tW}/posts/${e}/buyers${s}`;return r.ZP.get(n).then((e=>e.data))},_=({postId:e,optionId:t,offset:s,marker:n})=>{const a=(0,r.XP)({limit:r.P9,offset:s,marker:n}),i=`${r.tW}/posts/${e}/voters${t?`/${t}`:""}${a}`;return r.ZP.get(i).then((e=>e.data))},A=e=>{const t=(0,r.XP)({limit:e}),s=`${r.tW}/posts/login${t}`;return r.ZP.get(s).then((e=>e.data))}},201505:function(e,t,s){"use strict";s.d(t,{DE:function(){return u},PK:function(){return o},S4:function(){return i},aC:function(){return d},kb:function(){return n},pc:function(){return c},uH:function(){return l},yK:function(){return a}});var r=s(975701);const n=e=>{const t=`${r.tW}/promotions`;return r.ZP.post(t,e).then((e=>e.data))},a=e=>{const t=`${r.tW}/promotions/${e}/finish`;return r.ZP.post(t).then((e=>e.data))},i=e=>{const t=`${r.tW}/promotions/${e}`;return r.ZP["delete"](t).then((e=>e.data))},o=e=>{const t=`${r.tW}/promotions/invite`;return r.ZP.post(t,e).then((e=>e.data))},c=({limit:e=r.P9,offset:t=0,query:s,sort:n,field:a,filter:i,cancelToken:o}={})=>{const c=(0,r.XP)({limit:e,offset:t,query:s,sort:n,field:a,filter:i,skip_users:"all"}),d=`${r.tW}/promotions/offers${c}`;return r.ZP.get(d,{cancelToken:o}).then((e=>e.data))},d=()=>{const e=`${r.tW}/promotions/offers`;return r.ZP["delete"](e).then((e=>e.data))},u=e=>{const t=`${r.tW}/promotions/offer/${e}`;return r.ZP["delete"](t).then((e=>e.data))},l=()=>{const e=`${r.tW}/promotions/offers/hide`;return r.ZP.post(e).then((e=>e.data))}},527557:function(e,t,s){"use strict";s.d(t,{$d:function(){return n},Hh:function(){return i},K$:function(){return d},dc:function(){return o},eZ:function(){return a},iF:function(){return c}});var r=s(975701);const n=(e={})=>{const t=(0,r.XP)(e),s=`${r.tW}/users/referrals${t}`;return r.ZP.get(s).then((e=>e.data))},a=(e={})=>{const t=(0,r.XP)(e),s=`${r.tW}/users/referrals/count${t}`;return r.ZP.get(s).then((e=>e.data))},i=()=>{const e=`${r.tW}/payments/referrals/balance`;return r.ZP.get(e).then((e=>e.data))},o=({limit:e,offset:t}={})=>{const s=(0,r.XP)({limit:e,offset:t}),n=`${r.tW}/payouts/requests/referral${s}`;return r.ZP.get(n).then((e=>e.data))},c=({phone:e,type:t="user"})=>{const s=`${r.tW}/sms/invite/${t}`;return r.ZP.post(s,{phone:e}).then((e=>e.data))},d=()=>{const e=`${r.tW}/sms/templates`;return r.ZP.get(e).then((e=>e.data))}},248556:function(e,t,s){"use strict";s.d(t,{AE:function(){return h},Dp:function(){return f},IM:function(){return l},Ke:function(){return c},Qo:function(){return u},e0:function(){return m},f3:function(){return n},fg:function(){return i},ku:function(){return o},lJ:function(){return d},uT:function(){return a}});var r=s(975701);const n=e=>r.ZP.get(`${r.tW}/release-form-links/${e}`).then((e=>e.data)),a=e=>r.ZP.post(`${r.tW}/release-form-links/${e}/guest`).then((e=>e.data)),i=e=>r.ZP.post(`${r.tW}/release-form-links/${e}/start`).then((e=>e.data)),o=e=>r.ZP.post(`${r.tW}/release-form-links/${e}/url`).then((e=>e.data)),c=(e={})=>r.ZP.post(`${r.tW}/release-form-documents`,e).then((e=>e.data)),d=e=>r.ZP.post(`${r.tW}/release-forms/attach`,e).then((e=>e.data)),u=(e={})=>r.ZP.get(`${r.tW}/posts/tagged-friend-users${(0,r.XP)(e)}`).then((e=>e.data)),l=(e={})=>r.ZP.post(`${r.tW}/release-form-links`,e),m=e=>r.ZP.get(`${r.tW}/release-forms${(0,r.XP)(e)}`).then((e=>e.data)),h=e=>r.ZP.get(`${r.tW}/release-forms/hints${(0,r.XP)(e)}`),f=e=>r.ZP.get(`${r.tW}/${e.type}/${e.id}/hints`).then((e=>e.data))},481274:function(e,t,s){"use strict";s.d(t,{Fr:function(){return m},Is:function(){return a},LF:function(){return d},Lk:function(){return u},Pj:function(){return n},QN:function(){return c},TJ:function(){return i},mK:function(){return o},sg:function(){return l}});var r=s(975701);const n=()=>{const e=`${r.tW}/reports/reasons`;return r.ZP.get(e).then((e=>e.data))},a=()=>{const e=`${r.tW}/reports/abuse-options`;return r.ZP.get(e).then((e=>e.data))},i=(e,t,s={})=>{const n=`${r.tW}/users/${e}/report`;return r.ZP.post(n,{reasonId:t,...s}).then((e=>e.data))},o=(e,t,s={})=>{const n=`${r.tW}/posts/${e}/report`;return r.ZP.post(n,{reasonId:t,...s}).then((e=>e.data))},c=(e,t,s={})=>{const n=`${r.tW}/stories/${e}/report`;return r.ZP.post(n,{reasonId:t,...s}).then((e=>e.data))},d=(e,t,s={})=>{const n=`${r.tW}/messages/${e}/report`;return r.ZP.post(n,{reasonId:t,...s}).then((e=>e.data))},u=(e,t,s={})=>{const n=`${r.tW}/streams/${e}/report`;return r.ZP.post(n,{reasonId:t,...s}).then((e=>e.data))},l=()=>{const e=`${r.tW}/unsubscribe/reasons`;return r.ZP.get(e).then((e=>e.data))},m=(e={})=>{const t=`${r.tW}/users/appeal`;return r.ZP.post(t,e).then((e=>e.data))}},596012:function(e,t,s){"use strict";s.d(t,{F4:function(){return m},HC:function(){return d},PF:function(){return l},SM:function(){return u},o6:function(){return c},vw:function(){return h}});var r=s(975701),n=s(727484),a=s.n(n),i=s(629387),o=s.n(i);a().extend(o());const c=({params:e={},cancelToken:t})=>{const s=(0,r.XP)(e),n=`${r.tW}/schedules${s}`;return r.ZP.get(n,{cancelToken:t}).then((e=>e.data))},d=({params:e={},cancelToken:t})=>{const s=(0,r.XP)(e),n=`${r.tW}/schedules/counters${s}`;return r.ZP.get(n,{cancelToken:t}).then((e=>e.data))},u=({params:e={}})=>{const{limit:t=30}=e,s=(0,r.XP)({...e,limit:t}),n=`${r.tW}/schedules/later${s}`;return r.ZP.get(n).then((e=>e.data))},l=e=>{const t=`${r.tW}/schedules/${e}/publish`;return r.ZP.put(t).then((e=>e.data))},m=()=>{const e=(0,r.XP)({"filter[type][0]":"stream",limit:1,"filter[timeZone]":a().tz.guess()}),t=`${r.tW}/schedules${e}`;return r.ZP.get(t).then((e=>e.data))},h=(e={})=>{const t=(0,r.XP)(e),s=`${r.tW}/streams/reminder${t}`;return r.ZP.get(s).then((e=>e.data))}},617875:function(e,t,s){"use strict";s.d(t,{Ei:function(){return c},F2:function(){return d},G:function(){return i},Hz:function(){return h},Wj:function(){return p},Xg:function(){return g},Yx:function(){return a},Z5:function(){return f},Zt:function(){return l},_p:function(){return u},ar:function(){return y},ox:function(){return n},vY:function(){return m},zr:function(){return o}});var r=s(975701);const n=()=>{const e=`${r.tW}/countries`;return r.ZP.get(e).then((e=>e.data))},a=e=>{const t=`${r.tW}/countries/${e}/states`;return r.ZP.get(t).then((e=>e.data))},i=e=>{const t=`${r.tW}/iso/countries/${e}/states`;return r.ZP.get(t).then((e=>e.data))},o=()=>{const e=`${r.tW}/countries/payouts`;return r.ZP.get(e).then((e=>e.data))},c=()=>{const e=`${r.tW}/users/me/settings/api-tokens`;return r.ZP.post(e).then((e=>e.data))},d=e=>{const t=`${r.tW}/users/me/settings/api-tokens/${e}`;return r.ZP["delete"](t).then((e=>e.data))},u=e=>{const t=`${r.tW}/messages/templates/reply_on_subscribe`;return r.ZP.post(t,e).then((e=>e.data))},l=()=>{const e=`${r.tW}/messages/templates`;return r.ZP.get(e).then((e=>e.data))},m=e=>{const t=`${r.tW}/messages/templates/${e}`;return r.ZP["delete"](t).then((e=>e.data))},h=e=>{const t=`${r.tW}/users/me/settings/messages`;return r.ZP.patch(t,e).then((e=>e.data))},f=e=>{const t=`${r.tW}/emails/change`;return r.ZP.post(t,e).then((e=>e.data))},p=()=>{const e=`${r.tW}/emails/change`;return r.ZP["delete"](e).then((e=>e.data))},g=e=>{const t=`${r.tW}/users/settings/notifications/${e}?group=1`;return r.ZP.get(t).then((e=>e.data))},y=e=>{const t=(0,r.XP)({type:e}),s=`${r.tW}/streams/obs/key${t}`;return r.ZP["delete"](s).then((e=>e.data))}},483190:function(e,t,s){"use strict";s.d(t,{$d:function(){return o},JT:function(){return u},MO:function(){return l},U1:function(){return a},Zo:function(){return d},mp:function(){return n},q6:function(){return i},tf:function(){return c}});var r=s(975701);const n=({accessToken:e,tokenExpiration:t,refreshToken:s})=>{const n=`${r.tW}/users/social/spotify`;return r.ZP.post(n,{accessToken:e,tokenExpiration:t,refreshToken:s}).then((e=>e.data))},a=e=>{const t=`${r.tW}/users${e?`/${e}`:""}/social/spotify`;return r.ZP.get(t).then((e=>e.data))},i=()=>{const e=`${r.tW}/users/social/spotify/top`;return r.ZP.get(e).then((e=>e.data))},o=()=>{const e=`${r.tW}/users/social/spotify/top/artists`;return r.ZP.get(e).then((e=>e.data))},c=e=>{const t=`${r.tW}/users/social/spotify/artists`;return r.ZP.put(t,{topArtistsIds:e}).then((e=>e.data))},d=()=>{const e=`${r.tW}/users/social/spotify/top/tracks`;return r.ZP.get(e).then((e=>e.data))},u=e=>{const t=`${r.tW}/users/social/spotify/anthem`;return r.ZP.put(t,{anthemId:e}).then((e=>e.data))},l=e=>{const t=(0,r.XP)({query:e}),s=`${r.tW}/users/social/spotify/search${t}`;return r.ZP.get(s).then((e=>e.data))}},749832:function(e,t,s){"use strict";s.d(t,{Af:function(){return h},Bd:function(){return p},Cb:function(){return a},DZ:function(){return n},EB:function(){return i},H:function(){return b},IA:function(){return f},ON:function(){return m},UU:function(){return S},WL:function(){return c},ZO:function(){return C},d_:function(){return g},gm:function(){return l},ix:function(){return k},j6:function(){return I},ke:function(){return v},oh:function(){return w},qn:function(){return d},sd:function(){return P},wJ:function(){return y},x4:function(){return o},xg:function(){return u}});var r=s(975701);const n=e=>{const t=`${r.tW}/stories`;return r.ZP.post(t,e).then((e=>e.data))},a=e=>{const t=`${r.tW}/users/me/stories`;return r.ZP.get(t,{cancelToken:e}).then((e=>e.data))},i=(e={},t)=>{const s=(0,r.XP)(e),n=`${r.tW}/stories${s}`;return r.ZP.get(n,{cancelToken:t}).then((e=>e.data))},o=e=>{const t=`${r.tW}/stories/${e}`;return r.ZP.get(t).then((e=>e.data))},c=e=>{const t=(0,r.XP)({limit:12,offset:e,format:"infinite"}),s=`${r.tW}/stories/archive${t}`;return r.ZP.get(s).then((e=>e.data))},d=e=>{const t=`${r.tW}/users/${e}/stories`;return r.ZP.get(t).then((e=>e.data))},u=e=>{const t=`${r.tW}/stories/${e}/watched`;return r.ZP.put(t).then((e=>e.data))},l=e=>{const t=`${r.tW}/stories/${e}`;return r.ZP["delete"](t).then((e=>e.data))},m=e=>{const t=`${r.tW}/stories/${e}/like`;return r.ZP.post(t).then((e=>e.data))},h=e=>{const t=`${r.tW}/stories/${e}/like`;return r.ZP["delete"](t).then((e=>e.data))},f=({userId:e,offset:t=0,limit:s=10,storyIdToCheck:n=null})=>{const a=(0,r.XP)({limit:s,offset:t,storyIdToCheck:n}),i=`${r.tW}/users/${e}/stories/highlights${a}`;return r.ZP.get(i).then((e=>e.data))},p=e=>{const t=`${r.tW}/stories/highlights/${e}`;return r.ZP.get(t).then((e=>e.data))},g=e=>{const t=`${r.tW}/stories/highlights/${e}`;return r.ZP["delete"](t).then((e=>e.data))},y=e=>{const t=`${r.tW}/stories/highlights`;return r.ZP.post(t,e).then((e=>e.data))},S=(e,t)=>{const s=`${r.tW}/stories/highlights/${e}`;return r.ZP.patch(s,t).then((e=>e.data))},P=e=>{const t=`${r.tW}/stories/highlights/${e.id}`;return r.ZP.put(t,e).then((e=>e.data))},v=()=>{const e=`${r.tW}/stories/users/blocked`;return r.ZP.get(e).then((e=>e.data))},w=e=>{const t=`${r.tW}/stories/users/${e}/block`;return r.ZP.post(t).then((e=>e.data))},b=e=>{const t=`${r.tW}/stories/users/${e}/block`;return r.ZP["delete"](t).then((e=>e.data))},I=(e,t)=>{const s=`${r.tW}/stories/${e}/answer`;return r.ZP.post(s,t).then((e=>e.data))},k=({storyId:e,offset:t=0,limit:s=8,cancelToken:n})=>{const a=(0,r.XP)({limit:s,offset:t}),i=`${r.tW}/stories/${e}/answer${a}`;return r.ZP.get(i,{cancelToken:n}).then((e=>e.data))},C=e=>{const t=`${r.tW}/stories/answer/${e}`;return r.ZP["delete"](t).then((e=>e.data))}},849491:function(e,t,s){"use strict";s.d(t,{$n:function(){return M},TJ:function(){return O},ml:function(){return w},EC:function(){return _},f4:function(){return S},NB:function(){return k},AP:function(){return y},Km:function(){return v},z:function(){return d},fI:function(){return l},W7:function(){return D},QH:function(){return u},a9:function(){return b},$1:function(){return U},ip:function(){return $},UD:function(){return h},QM:function(){return m},mJ:function(){return L},dM:function(){return R},Nt:function(){return T},Jz:function(){return g},Jc:function(){return I},CI:function(){return C},T0:function(){return p},WH:function(){return f},K8:function(){return E},pL:function(){return F},Bd:function(){return A},_K:function(){return x},jI:function(){return P}});var r=s(436968),n=s.n(r),a=s(227361),i=s.n(a),o=s(975701),c={streamType:"webrtc"};const d=async(e=c.streamType)=>{const t=(0,o.XP)({data:JSON.stringify({streamtype:e,type:"get.streamer.server.list"})}),s=`${o.tW}/streams/ms_service${t}`,r=await o.ZP.get(s);return i()(r,"data.Message.ServerList",[])},u=async(e=c.streamType,t=[])=>{const s={streamtype:e,sbp:!0,preferred_servers:t};"string"===typeof window.streamingTranscoderVersion&&n()(s,"extra_stream_settings.transcoder_version",window.streamingTranscoderVersion);const r=(0,o.XP)({extension:JSON.stringify(s)}),a=`${o.tW}/streams/url${r}`;return o.ZP.get(a)},l=(e,t=c.streamType)=>{const s={streamtype:t,sbp:!0},r=(0,o.XP)({extension:JSON.stringify(s)}),n=`${o.tW}/streams/${e}/url${r}`;return o.ZP.get(n)},m=(e,t="webrtc",s=[])=>{if(!e)throw new Error("userId is not defined");const r={streamtype:t,sbp:!0,preferred_servers:s};"string"===typeof window.streamingTranscoderVersion&&(r.extra_stream_settings={transcoder_version:window.streamingTranscoderVersion});const n=(0,o.XP)({extension:JSON.stringify(r)}),a=`${o.tW}/users/${e}/streams/active/url${n}`;return o.ZP.get(a).then((e=>e.data))},h=(e,t=!1)=>{if(!e)throw new Error("userId is not defined");const s=(0,o.XP)({view:t?"full_with_check":"full"}),r=`${o.tW}/users/${e}/streams/active${s}`;return o.ZP.get(r).then((e=>e.data))},f=e=>{const t=`${o.tW}/streams`;return o.ZP.post(t,e).then((e=>e.data))},p=e=>{const t=`${o.tW}/streams/${e.id}`;return o.ZP.patch(t,e).then((e=>e.data))},g=e=>{const t=`${o.tW}/streams`;return o.ZP.post(t,e).then((e=>e.data))},y=e=>{if(!e)throw new Error("streamId is not defined");const t=`${o.tW}/streams/${e}/finish`;return o.ZP.put(t).then((e=>e.data))},S=()=>{const e=`${o.tW}/streams`;return o.ZP["delete"](e).then((e=>e.data))},P=({streamId:e,data:t})=>{if(!e)throw new Error("streamId is not defined");const s=`${o.tW}/streams/${e}`;return o.ZP.patch(s,t).then((e=>e.data))},v=(e={})=>{const t=(0,o.XP)(e),s=`${o.tW}/streams/active${t}`;return o.ZP.get(s).then((e=>e.data))},w=()=>{const e=`${o.tW}/streams/has-active`;return o.ZP.get(e).then((e=>e.data))},b=({id:e},t)=>{if(!e)throw new Error("streamId is not defined");const s=(0,o.XP)({withChart:!0}),r=`${o.tW}/streams/${e}/stats${s}`;return o.ZP.get(r,{cancelToken:t}).then((e=>e.data))},I=({streamId:e,keepComments:t,isArchive:s,description:r})=>{if(!e)throw new Error("streamId is not defined");const n=`${o.tW}/streams/${e}/make-post`,a={id:e,keepComments:t,isArchive:s,description:r};return o.ZP.put(n,a).then((e=>e.data))},k=e=>{if(!e)throw new Error("streamId is not defined");const t=`${o.tW}/streams/${e}/covers`;return o.ZP.get(t).then((e=>e.data))},C=(e,t)=>{if(!e)throw new Error("streamId is not defined");const s=`${o.tW}/streams/${e}/cover`;return o.ZP.put(s,t).then((e=>e.data))},T=({streamId:e,userId:t,ban:s=!1})=>{if(!e||!t)throw new Error("streamId or userId is not defined");const r=`${o.tW}/streams/${e}/block`,n={userId:t,isPermanent:s};return o.ZP.post(r,n).then((e=>e.data))},$=({streamId:e,limit:t=o.P9,offset:s=0,query:r=""})=>{if(!e)throw new Error("streamId is not defined");const n={limit:t};s&&(n.offset=s),r&&(n.query=r);const a=(0,o.XP)(n),i=`${o.tW}/streams/${e}/viewers${a}`;return o.ZP.get(i).then((e=>e.data))},L=({streamId:e})=>{if(!e)throw new Error("joinDualStreamRequest: streamId is not defined");const t=`${o.tW}/streams/${e}/join`;return o.ZP.post(t).then((e=>e.data))},M=({streamId:e,userId:t})=>{if(!e||!t)throw new Error("acceptDualStreamRequest: streamId or userId is not defined");const s=`${o.tW}/streams/${e}/users/${t}/accept`;return o.ZP.post(s).then((e=>e.data))},_=({streamId:e,userId:t})=>{if(!e||!t)throw new Error("declineDualStreamRequest: streamId or userId is not defined");const s=`${o.tW}/streams/${e}/users/${t}/decline`;return o.ZP.post(s).then((e=>e.data))},A=e=>{if(!e)throw new Error("streamId is not defined");const t=`${o.tW}/streams/${e}/look`;return o.ZP.post(t).then((e=>e.data))},x=e=>{if(!e)throw new Error("streamId is not defined");const t=`${o.tW}/streams/${e}/look`;return o.ZP["delete"](t).then((e=>e.data))},F=(e,t)=>{if(!e)throw new Error("streamId is not defined");const s=`${o.tW}/streams/${e}/like`;return o.ZP.post(s,t).then((e=>e.data))},E=(e,t,s)=>{if(!e)throw new Error("streamId is not defined");const r=`${o.tW}/streams/${e}/comments`,n={comment:t};return s&&(n.userId=s),o.ZP.post(r,n).then((e=>e.data))},D=(e,{id:t,limit:s=o.P9}={})=>{if(!e)throw new Error("streamId is not defined");const r=(0,o.XP)({id:t,limit:s}),n=`${o.tW}/streams/${e}/comments${r}`;return o.ZP.get(n).then((e=>e.data))},U=({includeUserListIds:e="",excludeUserListIds:t="",scheduledSubscribedOn:s="",subscribersIds:r=""}={})=>{const n=(0,o.XP)({includeUserListIds:e,excludeUserListIds:t,scheduledSubscribedOn:s,subscribersIds:r}),a=`${o.tW}/streams/users/count${n}`;return o.ZP.get(a).then((e=>e.data))},O=({streamId:e,userId:t})=>{if(!e||!t)throw new Error("streamId or userId is not defined");const s=`${o.tW}/streams/${e}/users/${t}/helper`;return o.ZP.put(s).then((e=>e.data))},R=({streamId:e,userId:t})=>{if(!e||!t)throw new Error("streamId or userId is not defined");const s=`${o.tW}/streams/${e}/users/${t}/helper`;return o.ZP["delete"](s).then((e=>e.data))}},629857:function(e,t,s){"use strict";s.d(t,{$b:function(){return c},$u:function(){return i},PC:function(){return a},SA:function(){return d},xf:function(){return n},ye:function(){return o}});var r=s(975701);const n=(e={},t)=>{const s=(0,r.XP)({limit:10,...e}),n=`${r.tW}/streams/feed${s}`;return r.ZP.get(n,{cancelToken:t}).then((e=>e.data))},a=e=>{const t=`${r.tW}/streams/${e}/events`;return r.ZP.get(t).then((e=>e.data))},i=e=>{const t=`${r.tW}/streams/${e}`;return r.ZP.get(t).then((e=>e.data))},o=e=>{const t=`${r.tW}/streams/${e}`;return r.ZP["delete"](t).then((e=>e.data))},c=e=>{const t=`${r.tW}/streams/${e}/reminder`;return r.ZP.post(t).then((e=>e.data))},d=e=>{const t=`${r.tW}/streams/${e}/reminder`;return r.ZP["delete"](t).then((e=>e.data))}},76816:function(e,t,s){"use strict";s.d(t,{El:function(){return x},Fu:function(){return o},Ge:function(){return A},IE:function(){return L},IK:function(){return S},Iz:function(){return u},JR:function(){return a},PK:function(){return g},Uo:function(){return T},Vb:function(){return _},W3:function(){return n},_8:function(){return i},_z:function(){return y},bO:function(){return P},dl:function(){return h},eT:function(){return M},et:function(){return v},gM:function(){return l},gU:function(){return C},gr:function(){return f},i2:function(){return w},jP:function(){return p},l$:function(){return I},mf:function(){return c},mk:function(){return b},qT:function(){return k},tY:function(){return m},x$:function(){return d},y:function(){return $}});var r=s(975701);const n=e=>{const t=`${r.tW}/users/${e}/restrict`;return r.ZP.post(t).then((e=>e.data))},a=e=>{const t=`${r.tW}/users/${e}/restrict`;return r.ZP["delete"](t).then((e=>e.data))},i=e=>{const t=`${r.tW}/subscriptions/${e}/hide-posts`;return r.ZP.put(t).then((e=>e.data))},o=e=>{const t=`${r.tW}/subscriptions/${e}/hide-posts`;return r.ZP["delete"](t).then((e=>e.data))},c=(e={})=>{e.limit=e.limit||r.P9,e.offset=e.offset||0;const t=(0,r.XP)(e),s=`${r.tW}/subscriptions/subscribes${t}`;return r.ZP.get(s).then((e=>e.data))},d=()=>{const e=`${r.tW}/subscriptions/count/all`;return r.ZP.get(e).then((e=>e.data))},u=(e,t)=>{const s=(0,r.XP)(e),n=`${r.tW}/subscriptions/subscribers/count${s}`;return r.ZP.get(n,{cancelToken:t}).then((e=>e.data))},l=e=>{const t=(0,r.XP)(e),s=`${r.tW}/subscriptions/subscribes/count${t}`;return r.ZP.get(s).then((e=>e.data))},m=({limit:e=r.P9,offset:t=0,query:s,sort:n,field:a,type:i,filter:o}={})=>{const c=(0,r.XP)({limit:e,offset:t,query:s,sort:n,field:a,type:i,filter:o}),d=`${r.tW}/subscriptions/subscribers${c}`;return r.ZP.get(d).then((e=>e.data))},h=({limit:e=r.P9,offset:t=0,filter:s}={})=>{const n=(0,r.XP)({limit:e,offset:t,filter:s}),a=`${r.tW}/subscriptions/subscribers/awards${n}`;return r.ZP.get(a).then((e=>e.data))},f=({id:e,discount:t=0,period:s=1}={})=>{const n=`${r.tW}/subscriptions/${e}/discount`;return r.ZP.put(n,{discount:t,period:s}).then((e=>e.data))},p=({name:e}={})=>{const t=`${r.tW}/campaigns`;return r.ZP.post(t,{name:e}).then((e=>e.data))},g=e=>{const t=`${r.tW}/campaigns/transition`;return r.ZP.post(t,e).then((e=>e.data))},y=({limit:e=r.P9,offset:t=0,sort:s,field:n,startDate:a,endDate:i,withDeleted:o}={})=>{const c=(0,r.XP)({limit:e,offset:t,sort:s,field:n,pagination:1,startDate:a,endDate:i,withDeleted:o}),d=`${r.tW}/campaigns${c}`;return r.ZP.get(d).then((e=>e.data))},S=({startDate:e,endDate:t,filter:s={clicks:"clicks",claims:"claims"}}={})=>{const n=(0,r.XP)({startDate:e,endDate:t,filter:s}),a=`${r.tW}/campaigns/chart${n}`;return r.ZP.get(a).then((e=>e.data))},P=e=>{const t=`${r.tW}/campaigns/${e}`;return r.ZP["delete"](t).then((e=>e.data))},v=({id:e,...t})=>{const s=(0,r.XP)(t),n=`${r.tW}/campaigns/${e}/claimers${s}`;return r.ZP.get(n).then((e=>e.data))},w=({subscribeDays:e,subscribeCounts:t,expireDays:s,trialLinkName:n}={})=>{const a=`${r.tW}/trials`;return r.ZP.post(a,{subscribeDays:e,subscribeCounts:t,expireDays:s,trialLinkName:n}).then((e=>e.data))},b=({limit:e=r.P9,offset:t=0,sort:s,field:n}={})=>{const a=(0,r.XP)({limit:e,offset:t,sort:s,field:n,pagination:1}),i=`${r.tW}/trials${a}`;return r.ZP.get(i).then((e=>e.data))},I=e=>{const t=`${r.tW}/trials/${e}`;return r.ZP["delete"](t).then((e=>e.data))},k=({id:e,on:t=!0,place:s})=>{const n=`${r.tW}/subscriptions/${e}/autoprolong`,a=t?"put":"delete",i={};return s&&"put"===a&&(i.place=s),r.ZP[a](n,i).then((e=>e.data))},C=(e,t={})=>{const s=`${r.tW}/subscriptions/${e}`;return r.ZP.put(s,t).then((e=>e.data))},T=e=>{const t=(0,r.XP)({filter:e}),s=`${r.tW}/subscriptions/subscribers/awards/count${t}`;return r.ZP.get(s).then((e=>e.data))},$=e=>{const t=`${r.tW}/subscriptions/${e}/price-change-hint`;return r.ZP["delete"](t).then((e=>e.data))},L=e=>{const t=`${r.tW}/subscriptions/${e}/history?all=1`;return r.ZP.get(t).then((e=>e.data))},M=()=>{const e=(0,r.XP)({skip_users:"all"}),t=`${r.tW}/subscriptions/subscribers/recent-expired${e}`;return r.ZP.get(t).then((e=>e.data))},_=({userId:e,subscriberId:t,token:s}={})=>{const n=`${r.tW}/subscriptions/tokens/${e}/${t}/${s}/request`;return r.ZP.post(n).then((e=>e.data))},A=({userId:e,subscriberId:t,token:s}={})=>{const n=`${r.tW}/subscriptions/tokens/${e}/${t}/${s}/confirm`;return r.ZP.post(n).then((e=>e.data))},x=e=>{const t=`${r.tW}/subscriptions/${e}/attention`;return r.ZP["delete"](t).then((e=>e.data))}},999023:function(e,t,s){"use strict";s.d(t,{$F:function(){return me},$g:function(){return he},AP:function(){return A},B3:function(){return ue},BW:function(){return de},C8:function(){return h},Cp:function(){return B},Dg:function(){return ce},Dt:function(){return Me},Ek:function(){return Be},Fh:function(){return F},Fw:function(){return ge},Gp:function(){return U},H1:function(){return we},HU:function(){return pe},IF:function(){return o},IX:function(){return p},J5:function(){return Se},JW:function(){return $e},Jz:function(){return Ue},Kh:function(){return Y},Ld:function(){return b},MD:function(){return xe},NS:function(){return O},Nh:function(){return Re},O5:function(){return I},OL:function(){return Oe},OT:function(){return Ze},Op:function(){return le},P4:function(){return N},PK:function(){return _},PR:function(){return m},Pb:function(){return Ce},QV:function(){return ne},Rv:function(){return V},S9:function(){return y},SP:function(){return Fe},TH:function(){return D},U7:function(){return f},U9:function(){return Ee},XP:function(){return te},YK:function(){return ve},Yi:function(){return Le},Yn:function(){return se},_w:function(){return S},al:function(){return q},at:function(){return g},bW:function(){return be},b_:function(){return G},cW:function(){return L},cp:function(){return oe},dW:function(){return Pe},dX:function(){return H},dh:function(){return De},eP:function(){return w},eV:function(){return P},f:function(){return _e},g5:function(){return j},gF:function(){return E},gj:function(){return $},hd:function(){return Z},i:function(){return Q},jp:function(){return J},kS:function(){return ae},kt:function(){return Ae},lA:function(){return u},lJ:function(){return Te},nR:function(){return fe},nS:function(){return l},qB:function(){return R},r1:function(){return k},rf:function(){return z},rg:function(){return ie},rv:function(){return M},rx:function(){return ke},sV:function(){return d},sY:function(){return Ie},t9:function(){return ee},tL:function(){return x},uH:function(){return T},uI:function(){return v},ui:function(){return i},uk:function(){return W},vh:function(){return K},vn:function(){return ye},xY:function(){return re},y6:function(){return c},z6:function(){return C},zv:function(){return X}});var r=s(975701),n=s(427166),a=s(378945);const i=()=>{const e=`${r.tW}/users/me`;return r.ZP.get(e,{"axios-retry":{retries:1}}).then((e=>(0,n.P)(e.data)))},o=e=>{const t=`${r.tW}/users/me`;return r.ZP.put(t,e).then((e=>e.data))},c=e=>{const t=`${r.tW}/users/me`;return r.ZP.patch(t,e).then((e=>e.data))},d=(e,t)=>{const s=`${r.tW}/users/me/settings/${t}`;return r.ZP.put(s,e).then((e=>e.data))},u=(e,t)=>{const s=`${r.tW}/users/me/settings/${t}`;return r.ZP.patch(s,e).then((e=>e.data))},l=()=>{const e=`${r.tW}/users/me/settings`;return r.ZP.get(e).then((e=>e.data))},m=(e,t={})=>{const s=(0,r.XP)(t),n=`${r.tW}/users/${encodeURIComponent(e)}${s}`;return r.ZP.get(n).then((e=>e.data))},h=({id:e,limit:t=r.P9,type:s,query:n,order:i="publish_date_desc",filter:o,counters:c,onlyCanView:d,beforePublishTime:u,afterPublishTime:l,pinned:m,label:h,excludeLabel:f,cancelToken:p}={})=>{let g=`${r.tW}/users/${e}/posts`;"posts"!==s&&(g+=`/${(0,a.C)(s)}`);const y=(0,r.XP)({limit:t,query:n,order:i,filter:o,skip_users:"all",only_can_view:d,beforePublishTime:u,afterPublishTime:l,counters:c,pinned:m,format:"infinite",label:h,excludeLabel:f});return g+=`${y}`,r.ZP.get(g,{cancelToken:p}).then((e=>e.data))},f=({id:e,cancelToken:t}={})=>{const s=(0,r.XP)({skip_users:"all",pinned:1,counters:0,format:"infinite"}),n=`${r.tW}/users/${e}/posts${s}`;return r.ZP.get(n,{cancelToken:t}).then((e=>e.data))},p=()=>{const e=`${r.tW}/users/otp/code`;return r.ZP.get(e).then((e=>e.data))},g=(e,t)=>{const s=`${r.tW}/users/otp`;return r.ZP.put(s,{code:e,rememberMe:t}).then((e=>e.data))},y=(e,t)=>{const s=`${r.tW}/users/otp/check`;return r.ZP.post(s,{code:e,rememberMe:t}).then((e=>e.data))},S=()=>{const e=`${r.tW}/users/otp/phone`;return r.ZP.put(e).then((e=>e.data))},P=e=>{const t=`${r.tW}/users/otp`;return r.ZP["delete"](t,{data:{code:e}}).then((e=>e.data))},v=()=>{const e=`${r.tW}/users/otp/alternative`;return r.ZP.put(e).then((e=>e.data))},w=e=>{const t=`${r.tW}/users/exists`;return r.ZP.post(t,{username:e}).then((e=>e.data))},b=(e,{recommender:t,source:s}={})=>{const n=`${r.tW}/users/${e}/subscribe`;return r.ZP.post(n,{recommender:t,source:s}).then((e=>e.data))},I=(e,{source:t}={})=>{const s=`${r.tW}/users/${e}/resubscribe`;return r.ZP.post(s,{source:t}).then((e=>e.data))},k=(e,{reasonId:t})=>{const s=`${r.tW}/users/${e}/subscribe`;return r.ZP["delete"](s,{data:{reason:t}}).then((e=>e.data))},C=({network:e="twitter"}={})=>{const t=`${r.tW}/users/social/${e}`;return r.ZP["delete"](t).then((e=>e.data))},T=()=>{const e=`${r.tW}/users/alert`;return r.ZP.get(e).then((e=>e.data))},$=e=>{const t=`${r.tW}/users/alert/${e}`;return r.ZP["delete"](t).then((e=>e.data))},L=e=>{const t=`${r.tW}/users/mass-alert/${e}`;return r.ZP["delete"](t).then((e=>e.data))},M=()=>{const e=`${r.tW}/users/hints`;return r.ZP.get(e).then((e=>e.data))},_=e=>{const t=`${r.tW}/users/hints/${e}`;return r.ZP["delete"](t).then((e=>e.data))},A=e=>{const t=`${r.tW}/users/mass-hints/${e}`;return r.ZP["delete"](t).then((e=>e.data))},x=e=>{const t=(0,r.XP)({...e,skip_users:"all"}),s=`${r.tW}/users/recommends${t}`;return r.ZP.get(s).then((e=>e.data))},F=()=>{const e=`${r.tW}/users/promotions`;return r.ZP.get(e).then((e=>e.data))},E=e=>{const t=`${r.tW}/users/forgot-password`;return r.ZP.post(t,e).then((e=>e.data))},D=({limit:e=r.P9,offset:t=0,type:s,related_user:n,cancelToken:a,skipUsers:i}={})=>{const o=(0,r.XP)({limit:e,offset:t,type:s,related_user:n,skip_users:i,skip_users_dups:i?void 0:1,format:"infinite"}),c=`${r.tW}/users/notifications${o}`;return r.ZP.get(c,{cancelToken:a}).then((e=>e.data))},U=e=>{const t=`${r.tW}/users/notifications/read${e?`/${e}`:""}`;return r.ZP.post(t).then((e=>e.data))},O=e=>{const t=`${r.tW}/users/notifications/${e}/read/`;return r.ZP.post(t).then((e=>e.data))},R=e=>{const t=`${r.tW}/users/settings/notifications`;return r.ZP.patch(t,e).then((e=>e.data))},Z=e=>{const t=`${r.tW}/users/push-token/pwa`;return r.ZP.put(t,e).then((e=>e.data))},B=e=>{const t=`${r.tW}/users/change-password`;return r.ZP.post(t,e).then((e=>e.data))},j=e=>{const t=`${r.tW}/users/${e}/friend`;return r.ZP["delete"](t).then((e=>e.data))},W=e=>{const t=`${r.tW}/users/delete/request`;return r.ZP.post(t,{captchaCode:e}).then((e=>e.data))},q=()=>{const e=`${r.tW}/users/delete/request`;return r.ZP["delete"](e).then((e=>e.data))},V=e=>{const t=`${r.tW}/phones/change`;return r.ZP.post(t,e).then((e=>e.data))},N=e=>{const t=`${r.tW}/phones/change`;return r.ZP["delete"](t,e).then((e=>e.data))},H=()=>{const e=`${r.tW}/users/telegram-link`;return r.ZP.get(e).then((e=>e.data))},z=e=>{const t=`${r.tW}/users/${e}/block`;return r.ZP.post(t).then((e=>e.data))},X=e=>{const t=`${r.tW}/users/${e}/block`;return r.ZP["delete"](t).then((e=>e.data))},G=({limit:e=r.P9,offset:t=0,query:s,sort:n,field:a,filter:i,cancelToken:o}={})=>{const c=(0,r.XP)({limit:e,offset:t,query:s,sort:n,field:a,filter:i}),d=`${r.tW}/users/blocked${c}`;return r.ZP.get(d,{cancelToken:o}).then((e=>e.data))},Y=({limit:e=r.P9,offset:t=0,query:s,allUsers:n,view:a="se"}={})=>{const i=(0,r.XP)({limit:e,offset:t,query:s,all_users:n,view:a}),o=`${r.tW}/users${i}`;return r.ZP.get(o).then((e=>e.data))},K=()=>{const e=`${r.tW}/users/settings/post`;return r.ZP.get(e).then((e=>e.data))},Q=e=>{const t=`${r.tW}/users/settings/post`;return r.ZP.patch(t,{periodPublishLaterPost:e}).then((e=>e.data))},J=()=>{const e=`${r.tW}/users/settings/story`;return r.ZP.get(e).then((e=>e.data))},ee=(e={})=>{const t=`${r.tW}/users/settings/story`;return r.ZP.patch(t,e).then((e=>e.data))},te=({userId:e,limit:t=r.P9,offset:s=0}={})=>{const n=(0,r.XP)({limit:t,offset:s}),a=`${r.tW}/users/${e}/friends${n}`;return r.ZP.get(a).then((e=>e.data))},se=e=>{const t=`${r.tW}/users/connect`;return r.ZP.post(t,e).then((e=>e.data))},re=e=>{const t=`${r.tW}/users/get-auth-token`;return r.ZP.post(t,e).then((e=>e.data))},ne=e=>{const t=`${r.tW}/users/get-otp-token`;return r.ZP.post(t,e).then((e=>e.data))},ae=e=>{const t=`${r.tW}/users/connect/${e}`;return r.ZP["delete"](t).then((e=>e.data))},ie=e=>{const t=`${r.tW}/users/switch/${e}`;return r.ZP.post(t).then((e=>e.data))},oe=({limit:e=r.P9,offset:t=0,query:s}={})=>{const n=(0,r.XP)({limit:e,offset:t,query:s}),a=`${r.tW}/users/mention${n}`;return r.ZP.get(a).then((e=>e.data))},ce=e=>{const t=`${r.tW}/users/profile/stats-collect`;return r.ZP.post(t,e).then((e=>e.data))},de=e=>{const t=`${r.tW}/users/profile/visit`;return r.ZP.post(t,e).then((e=>e.data))},ue=e=>{const t=(0,r.XP)(e),s=`${r.tW}/users/list${t}`;return r.ZP.get(s).then((e=>e.data))},le=({userId:e,limit:t=8,offset:s=0}={})=>{const n=(0,r.XP)({limit:t,offset:s,skip_users:"all"}),a=`${r.tW}/users/${e}/streams${n}`;return r.ZP.get(a).then((e=>e.data))},me=({userId:e,limit:t=8,offset:s=0}={})=>{const n=(0,r.XP)({limit:t,offset:s}),a=`${r.tW}/users/${e}/streams/scheduled${n}`;return r.ZP.get(a).then((e=>e.data))},he=({limit:e=r.P9,offset:t=0,status:s,order:n,cancelToken:a}={})=>{const i=(0,r.XP)({limit:e,offset:t,status:s,order:n}),o=`${r.tW}/users/tickets${i}`;return r.ZP.get(o,{cancelToken:a}).then((e=>e.data))},fe=({id:e}={})=>{const t=`${r.tW}/users/tickets/${e}`;return r.ZP.get(t).then((e=>e.data))},pe=(e={})=>{const t=`${r.tW}/users/tickets`;return r.ZP.post(t,e).then((e=>e.data))},ge=(e,t={})=>{const s=`${r.tW}/users/tickets/${e}/reply`;return r.ZP.post(s,t).then((e=>e.data))},ye=({id:e,limit:t=r.P9,offset:s=0})=>{const n=(0,r.XP)({limit:t,offset:s,html:1}),a=`${r.tW}/users/tickets/${e}/comments${n}`;return r.ZP.get(a).then((e=>e.data))},Se=e=>{const t=`${r.tW}/users/tickets/${e}/solve`;return r.ZP.post(t).then((e=>e.data))},Pe=({id:e,data:t})=>{const s=`${r.tW}/users/tickets/${e}/reopen`;return r.ZP.put(s,t).then((e=>e.data))},ve=(e={})=>{const t=`${r.tW}/users/tickets/allowed`;return r.ZP.post(t,e).then((e=>e.data))},we=(e={})=>{const t=`${r.tW}/users/me/strong_otp_codes`;return r.ZP.get(t,e).then((e=>e.data))},be=(e={})=>{const t=`${r.tW}/users/me/auth-token`;return r.ZP.get(t,e).then((e=>e.data))},Ie=e=>{const t=`${r.tW}/users/card-auth/check`;return r.ZP.post(t,{first6:e}).then((e=>e.data))},ke=()=>{const e=`${r.tW}/users/links`;return r.ZP.get(e).then((e=>e.data))},Ce=e=>{const t=`${r.tW}/users/${e}/links`;return r.ZP.get(t).then((e=>e.data))},Te=(e={})=>{const t=`${r.tW}/users/links`;return r.ZP.post(t,e).then((e=>e.data))},$e=({limit:e=r.P9,offset:t=0,query:s,sort:n,field:a,filter:i,cancelToken:o}={})=>{const c=(0,r.XP)({limit:e,offset:t,query:s,sort:n,field:a,filter:i}),d=`${r.tW}/users/restrict${c}`;return r.ZP.get(d,{cancelToken:o}).then((e=>e.data))},Le=(e,t={})=>{const s=`${r.tW}/iv/start`;return r.ZP.post(s,{source:e,...t}).then((e=>e.data))},Me=()=>{const e=`${r.tW}/age-verifier/start`;return r.ZP.post(e).then((e=>e.data))},_e=(e={})=>{const t=`${r.tW}/face-id/start`;return r.ZP.post(t,e).then((e=>e.data))},Ae=()=>{const e=`${r.tW}/users/me/profile/views/qr`;return r.ZP.get(e).then((e=>e.data))},xe=()=>{const e=`${r.tW}/users/me/id`;return r.ZP.get(e).then((e=>e.data))},Fe=()=>{const e=`${r.tW}/users/notifications/count`;return r.ZP.get(e).then((e=>e.data))},Ee=()=>{const e=`${r.tW}/users/notifications/settings/tabs-order`;return r.ZP.get(e).then((e=>e.data))},De=e=>{const t=`${r.tW}/users/notifications/settings/tabs-order`;return r.ZP.post(t,e).then((e=>e.data))},Ue=(e,t={})=>{const s=`${r.tW}/users/${encodeURIComponent(e)}/stat`;return r.ZP.post(s,t).then((e=>e.data))},Oe=()=>{const e=`${r.tW}/users/me/start-date-model`;return r.ZP.get(e).then((e=>e.data))},Re=()=>{const e=`${r.tW}/users/ws-auth`;return r.ZP.get(e).then((e=>e.data))},Ze=()=>{const e=`${r.tW}/users/terms/confirm`;return r.ZP.post(e).then((e=>e.data))},Be=e=>{const t=`${r.tW}/users/license_form`;return r.ZP.post(t,e).then((e=>e.data))}},181528:function(e,t,s){"use strict";s.d(t,{HZ:function(){return r},UH:function(){return i},av:function(){return a},m9:function(){return n}});const r=e=>e?e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">"):e,n=e=>e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e,a=(e,t="")=>e?e.replace(/(<([^>]+)>)/gi,t):e,i=e=>Number.isInteger(e)?e.toLocaleString():e},861286:function(e,t,s){"use strict";s.d(t,{CZ:function(){return r},Z9:function(){return n},kp:function(){return a}});const r=e=>e>=1e6?`${(e/1e6).toFixed(2)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e,n=e=>{const t=e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return`$${t}`},a=e=>{const t=e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return`${t}`}},114494:function(e,t,s){"use strict";s.d(t,{ZP:function(){return or},ag:function(){return Qs},gE:function(){return ar}});var r={};s.r(r),s.d(r,{addAnswer:function(){return Ut},addCropRect:function(){return xe},addGif:function(){return At},addOverlayRect:function(){return Ve},addQuestion:function(){return Et},addSticker:function(){return gt},addText:function(){return ut},calcTextAreaParams:function(){return Ye},changeScreen:function(){return Le},changeTextColor:function(){return st},createFileType:function(){return Lt},createShadowRects:function(){return _t},doCrop:function(){return Ee},doOverlay:function(){return Xe},doText:function(){return mt},done:function(){return Ue},getMaxImageScale:function(){return _e},getOverlayGradientCoordinates:function(){return We},imageFromGroup:function(){return Tt},normalizeStageFile:function(){return ve},proceedFile:function(){return Ie},proceedHistory:function(){return Zt},removeTextArea:function(){return ft},resetCrop:function(){return Re},resetOverlay:function(){return et},setOverlayColors:function(){return He},setUpCrop:function(){return Te},textAlignSwitch:function(){return nt},textBackgroundSwitch:function(){return Qe},textBoldSwitch:function(){return it},transparentOverlayColor:function(){return Be}});var n=s(227361),a=s.n(n),i=s(403650),o=s(720144),c=(s(966337),s(173764),s(199887)),d=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("router-view",{key:e.$i18n.locale})},u=[],l={name:"AppMain"},m=l,h=s(801001),f=(0,h.Z)(m,d,u,!1,null,null,null),p=f.exports,g=s(590594),y=s(550615),S=s(366025),P=s(427816),v=s(654025),w=s(34469),b=s(979074),I=s(869730),k=s(264487),C=s(495659),T=s(549262),$=s(12954),L=s(834253),M=s.n(L),_=s(82154),A=s.n(_),x=s(317152),F=s(674347),E=s(466990),D=s(72433),U=s(368793),O=s(859530),R=s(919306),Z=s(286669);const B="imageEditor",j="#000000",W="#2fb2ff",q=Math.PI/180,V={regular:400,strong:700,light:300};var N=s(558985);function H(e={}){return new N.Group({draggable:!0,dragBoundFunc:()=>this.group.absolutePosition(),...e})}var z=s(244415);function X(e){return new z.Layer({id:`base_layer_${e}`,fill:j})}var G=s(671298);function Y(e){const t=new G.Image({x:e.width/2,y:e.height/2,id:"editable_image",image:e,draggable:!1,width:e.width,height:e.height,offset:{x:e.width/2,y:e.height/2},scale:{x:1,y:1},rotation:0,stroke:W,strokeWidth:2,strokeEnabled:!1,skewEnable:!1,blurEnable:!1,dragBoundFunc:e=>e});return t.historySource=e.src,t}function K(e,t){const s=new G.Image({x:0,y:0,name:"sticker",image:e,width:e.width,height:e.height,scale:{x:t,y:t},rotation:0,skewEnable:!1,blurEnable:!1,historySource:e.src});return s.historySource=e.src,s}var Q=s(275244);function J(e){return new Q.Rect({fill:"black",opacity:.5,globalCompositeOperation:"xor",...e})}function ee(){var e,t,s,r,n,a,i,o,c,d,u,l,m,h,f,p,g,y,S,P,v,w,b,I,k,C,T,$,L,M,_;const A=new Uint32Array([1,2,4,8,16,32,64,128,256,512,1024,2048,4096]),x=[0,4,2,1],F=[8,8,4,2],E=[],D=[],U=[];b=void 0,I=null,w=1,v=P=S=y=0,m=l=u=d=!1;const O={GCExt:249,COMMENT:254,APPExt:255,UNKNOWN:1,IMAGE:44,EOF:59,EXT:33};function R(e){var t=this.pos=0;const s=this.data=new Uint8Array(e),r=this.data.length;this.getString=function(e){var r="";t=this.pos;while(e--)r+=String.fromCharCode(s[t++]);return this.pos=t,r},this.readSubBlocks=function(){var e,n,a="";t=this.pos;while(0!==e&&t<r){n=e=s[t++];while(n--)a+=String.fromCharCode(s[t++])}return this.pos=t,a},this.readSubBlocksB=function(){var e,n,a=[],i=0;t=this.pos;while(0!==e&&t<r){n=e=s[t++];while(n--)a[i++]=s[t++]}return this.pos=t,a}}function Z(e,t){var s,n,a,i,o,c,d,u,l,m,h;const f=A,p=[];for(a=n=0,i=f[e],o=i+1,c=e+1,d=!0,s=0;s<i;s++)p[s]=[s];h=o+1;while(d){for(l=u,u=0,s=0;s<c;s++)t[a>>3]&f[7&a]&&(u|=f[s]),a++;if(u===i){for(c=e+1,h=o+1,s=0;s<o;s++)p[s]=[s];p[o]=[0],p[i]=[0]}else{if(u===o)break;for(u>=h?p[h++]=[...p[l],p[l][0]]:l!==i&&(p[h++]=[...p[l],p[u][0]]),m=p[u].length,s=0;s<m;s++)r[n++]=p[u][s];c<12&&h===f[c]&&(c+=1)}}}function B(e){var t=0;e<<=2;const s=new Uint8Array(e);while(t<e)s[t++]=n.data[n.pos++],s[t++]=n.data[n.pos++],s[t++]=n.data[n.pos++],s[t++]=255;return new Uint32Array(s.buffer)}function j(){n.pos+=6,y=n.data[n.pos++]+(n.data[n.pos++]<<8),S=n.data[n.pos++]+(n.data[n.pos++]<<8),r=new Uint8Array(y*S);const e=n.data[n.pos++];if(fe.colorRes=(112&e)>>4,L=1<<1+(7&e),M=n.data[n.pos++],n.pos++,128&e){_=B(L);const e=_[M];C=void 0!==e?`rgb(${255&e},${e>>8&255},${e>>16&255})`:"black"}le("decodestart",{width:y,height:S},!0),setTimeout(Y,0)}function W(){n.pos+=1,"NETSCAPE"===n.getString(8)?n.pos+=8:(n.pos+=3,n.readSubBlocks())}function q(){n.pos++;const e=n.data[n.pos++];h=(28&e)>>2,f=!!(1&e),p=n.data[n.pos++]+(n.data[n.pos++]<<8),g=n.data[n.pos++],n.pos++}function V(){function a(n){var a,i,o;const c=s/n;for(a=0,e!==s&&(t=new Uint8Array(s),e=s),i=0;i<4;i++)for(o=x[i];o<c;o+=F[i])t.set(r.subarray(a,a+n),o*n),a+=n}const i={};E.push(i),i.disposalMethod=h,i.time=P,i.delay=10*p,P+=i.delay,i.leftPos=n.data[n.pos++]+(n.data[n.pos++]<<8),i.topPos=n.data[n.pos++]+(n.data[n.pos++]<<8),i.width=n.data[n.pos++]+(n.data[n.pos++]<<8),i.height=n.data[n.pos++]+(n.data[n.pos++]<<8);const o=n.data[n.pos++];i.localColourTableFlag=!!(128&o),i.localColourTableFlag&&(i.localColourTable=B(1<<1+(7&o))),s!==i.width*i.height&&(s=i.width*i.height),i.transparencyIndex=f?g:void 0,Z(n.data[n.pos++],n.readSubBlocksB()),64&o?(i.interlaced=!0,a(i.width)):i.interlaced=!1,N(i)}function N(e){var n,a,i,o;e.image=document.createElement("canvas"),e.image.width=y,e.image.height=S,e.image.ctx=e.image.getContext("2d");const c=e.localColourTableFlag?e.localColourTable:_;k=k||e,n=2===k.disposalMethod||3===k.disposalMethod,n||e.image.ctx.drawImage(k.image,0,0,y,S);const u=e.image.ctx.getImageData(e.leftPos,e.topPos,e.width,e.height),l=e.transparencyIndex,m=new Uint32Array(u.data.buffer);for(o=e.interlaced?t:r,a=0;a<s;a++)i=o[a],l!==i?m[a]=c[i]:n&&(m[a]=0);e.image.ctx.putImageData(u,e.leftPos,e.topPos),d||(fe.image=e.image),k=e}function H(){k=null,n=void 0,h=void 0,f=void 0,p=void 0,g=void 0,r=void 0,t=void 0,s=void 0,t=void 0,l=!0}function z(){u=!1,d||(c=o=0,E.length>0&&(fe.image=E[0].image)),J(),H()}function X(){z()}function G(){const e=n.data[n.pos++];e===O.GCExt?q():e===O.COMMENT?D.push(n.readSubBlocks()):e===O.APPExt?W():(e===O.UNKNOWN&&(n.pos+=13),n.readSubBlocks())}function Y(){if(!0===m)return X();const e=n.data[n.pos++];if(e===O.IMAGE){if(V(),le("progress",{progress:(n.pos/n.data.length*1e3|0)/10,frameCount:E.length}),fe.firstFrameOnly)return z()}else{if(e===O.EOF)return z();G()}setTimeout(Y,0)}function K(){return!l&&(m=!0)}function Q(e){le("error",{message:e},!1),u=!1}function J(){c=o=0,le("load",{frameCount:E.length},!0),fe.playOnLoad&&fe.play()}function ee(e){a=new Uint8Array(e),n=new R(e),j()}function te(e){var t=new XMLHttpRequest;T=e,u=!0,t.responseType="arraybuffer",t.onload=function(e){404===e.target.status?(T=void 0,Q("File not found")):e.target.status>=200&&e.target.status<300?ee(t.response):(T=void 0,Q("Loading error : "+e.target.status))},t.onerror=function(e){T=void 0,Q("File error "+e.message)},t.open("GET",e,!0),t.send()}function se(e){if(void 0===T)T=e,setTimeout((()=>te(T)),0);else{const e="GIF is limited to a single load. Create a new GIF object to load another gif.";Q(e),console.warn(e)}}function re(e){w=(100*e|0)/100,b=void 0,0===Math.abs(w)&&(w=0,d&&ae())}function ne(){d||(0===w&&(w=1),$=!1,d=!0,ue())}function ae(){$=!0,d=!1,clearTimeout(i),b=void 0}function ie(){$||!d?fe.play():fe.pause()}function oe(e){clearTimeout(i),b=void 0,I=null,o=(e%E.length+E.length)%E.length,d?ue():(fe.image=E[o].image,c=E[o].time)}function ce(e){e<0&&(e=0),e%=P;var t=0;while(t<E.length&&e>E[t].time+E[t].delay)t+=1;return t}function de(e){clearTimeout(i),b=void 0,I=null,o=ce(1e3*e),d?ue():(c=E[o].time,fe.image=E[o].image)}function ue(){var e,t,s=!1,r=0;if(0!==w){if(void 0!==b&&null===I){const e=b-performance.now();e<-v/2?(s=!0,b=(b+e/w)%P+P,o=ce(b),t=w<0?0===o?E.length-1:o-1:o):e<0&&(r=e)}s||(w<0?(o=null!==I?I:0===o?E.length-1:o-1,t=0===o?E.length-1:o-1):(null!==I&&(o=I),t=o=(o+1)%E.length)),e=Math.abs(E[t].delay/w)+r,v=Math.abs(E[t].delay/w),b=performance.now()+e,fe.image=E[o].image,c=E[o].time,i=setTimeout(ue,e),I=null}else fe.pause()}function le(e,t,s=!1){U["on"+e]&&setTimeout((()=>{t.type=e,t.gif=fe,t.buffer=a,U["on"+e](t),s&&he(e)}),0)}function me(e,t){"function"===typeof t&&("progress"!==e&&(t=t.bind(fe)),U["on"+e]=t)}function he(e){void 0!==U["on"+e]&&(U["on"+e]=void 0)}const fe={image:null,comments:D,get paused(){return $},get playing(){return d},get loading(){return u},get complete(){return l},set src(e){se(e)},cancel:K,get backgroundColor(){return C},get src(){return T},get width(){return y},get height(){return S},get naturalWidth(){return y},get naturalHeight(){return S},get allFrames(){return E.map((e=>e.image))},get duration(){return P},get currentFrame(){return o},get currentTime(){return c},get frameCount(){return E.length},get playSpeed(){return w},getFrame(e){return E[e<0?0:e>=E.length?E.length-1:e].image},set currentFrame(e){oe(e)},set currentTime(e){de(e)},set playSpeed(e){re(e)},playOnLoad:!0,firstFrameOnly:!1,set onload(e){me("load",e)},set onerror(e){me("error",e)},set onprogress(e){me("progress",e)},set ondecodestart(e){me("decodestart",e)},play:ne,pause:ae,seek:de,seekFrame:oe,togglePlay:ie};return fe}async function te(e,t){const s=document.createElement("canvas"),r=r=>{const n=ee();function a(e){const{gif:n}=e;s.width=n.width,s.height=n.height;const a=s.getContext("2d");function i(){a.clearRect(0,0,s.width,s.height),a.drawImage(n.image,0,0),t.batchDraw(),requestAnimationFrame(i)}requestAnimationFrame(i),t.batchDraw(),r({buffer:e.buffer,canvas:s})}n.src=e,n.onload=a};return new Promise(r)}async function se(e){let t={};await te(e,this.layer).then((e=>t=e));const s=new G.Image({name:"gif",image:t.canvas}),r=.3*this.group.height()/s.height(),n=.3*this.group.width()/s.width(),a=r<n?r:n;return s.scaleX(a),s.scaleY(a),s.x(this.group.width()/2-s.width()/2*a),s.y(this.group.height()/2-s.height()/2*a),s.imgOrigWidth=s.width(),s.imgOrigHeight=s.height(),s.perfectDrawEnabled(!1),s.fixed_ratio=!0,s.historySource=e,{gif:s,buffer:t.buffer}}function re(e){const t=e.position();t.w=e.width()*e.scaleX(),t.h=e.height()*e.scaleX(),t.r=e.rotation();const s=t.w*Math.cos(t.r*q),r=t.w*Math.sin(t.r*q),n={x:t.x+s,y:t.y+r},a=t.h*Math.cos((t.r+90)*q),i=t.h*Math.sin((t.r+90)*q),o={x:n.x+a,y:n.y+i},c=t.h*Math.cos((t.r+90)*q),d=t.h*Math.sin((t.r+90)*q),u={x:t.x+c,y:t.y+d},l={x:(t.x+o.x)/2,y:(t.y+o.y)/2},m={x:(t.x+u.x)/2,y:(t.y+u.y)/2},h={x:(n.x+o.x)/2,y:(n.y+o.y)/2},f={x:(t.x+n.x)/2,y:(t.y+n.y)/2},p={x:(u.x+o.x)/2,y:(u.y+o.y)/2},g={A:f.y-p.y,B:p.x-f.x,C:f.x*p.y-p.x*f.y},y={A:m.y-h.y,B:h.x-m.x,C:m.x*h.y-h.x*m.y};return{topRight:n,bottomRight:o,bottomLeft:u,center:l,equation_v:g,equation_h:y}}var ne=re;function ae({x:e,y:t},s){const r=Math.cos(s*q),n=Math.sin(s*q);return{x:e*r-t*n,y:t*r+e*n}}var ie=ae,oe=s(893577);function ce(){return[...this.layer.find(".sticker"),...this.layer.find(".gif"),...this.layer.find(".label"),...this.layer.find("::edit"),...this.layer.find(".MergedGroup")]}var de=ce;function ue(){return{height:window.innerHeight-document.getElementById("imageEditorHeader").clientHeight-document.getElementById("imageEditorFooter").clientHeight,width:document.getElementById("imageEditorStage").offsetWidth}}var le=s(907643);function me(e,t="pointer"){e.on("mouseenter",(()=>{this.stage.container().style.cursor=t})),e.on("mouseleave",(()=>{this.stage.container().style.cursor="default"}))}function he(e,t){let s,r,n,a;(0,oe.Z)(e),e.on("rotatestart",(r=>{this.viewState.isRotatingMoveable=!0,n=r.evt.gesture.rotation,r.evt.gesture.pointers.length<2||(this.userActions.isShapeRotating=!0,e.draggable(!1),t.from=this.history.normalizeMoveableObject(t),s=ne(t),a=t.scaleX(),t.draggable(!1))})),e.on("rotate",(e=>{const i=n-e.evt.gesture.rotation;if(!(i<30&&i>-30)||!a||2!==e.evt.gesture.pointers.length||!this.userActions.isShapeRotating)return;const o=a*e.evt.gesture.scale,c=t.rotation()-i,d={x:-t.width()*o/2,y:-t.height()*o/2},u=ie(d,t.rotation()),l=ie(d,c),m=l.x-u.x,h=l.y-u.y;t.rotation(c),t.x(t.x()+m),t.y(t.y()+h),s=ne(t),r={x:(t.x()-s.center.x)/t.scaleX(),y:(t.y()-s.center.y)/t.scaleX()};const f={x:r.x*o+s.center.x,y:r.y*o+s.center.y};t.position(f),t.scale({x:o,y:o}),n=e.evt.gesture.rotation,this.layer.batchDraw()})),e.on("rotateend rotatecancel",(()=>{this.viewState.isRotatingMoveable=!1,this.history.push("moveableObject","modifyRotation",e.historyId,this.history.normalizeMoveableObject(t)),this.userActions.isShapeRotating=!1,e.moveToTop(),e.draggable(!0),this.imageConf.shadows.moveToTop(),this.layer.batchDraw()}))}function fe(e){const t=document.querySelector(e);if(!t)return null;const s=this.stage.getPointerPosition(),r=document.querySelector(e).getBoundingClientRect(),n={x:r.x+r.width/2-document.querySelector(".image_editor > .image_editor_holder ").offsetLeft,y:r.y+r.height/2-60},a=Math.abs(Math.sqrt(Math.pow(s.x-n.x,2)+Math.pow(s.y-n.y,2)));return a<=30}var pe=fe;function ge(e,t){let s=!1,r={};e.on("dragstart",(t=>{const n=this.stage.getPointerPosition(),a=this.stage.getAllIntersections(n),i=a.find((e=>/::edit/.test(e.name())));if(i)return;s=!0,e.from=this.history.normalizeMoveableObject(e),this.userActions.shapeIsDraging=!0,this.api.events.$emit("shapeDragging",!0),e.moveToTop(),this.imageConf.shadows.moveToTop();const o="mousemove"===t.evt.type?t.evt.x:t.evt.touches[0].clientX,c="mousemove"===t.evt.type?t.evt.y:t.evt.touches[0].clientY,d=e.x(),u=e.y();r={x:o/this.imageConf.ratio-d,y:c/this.imageConf.ratio-u}})),e.on("dragmove",(t=>{if(r&&!this.userActions.shapeIsRotating&&s){const s=document.querySelector(".text_delete svg.g-icon");s&&"default"===this.viewState.screen&&(s.style.fontSize=pe.call(this,".text_delete")?"40px":"30px"),"mousemove"===t.evt.type&&(e.position({x:t.evt.x/this.imageConf.ratio-r.x,y:t.evt.y/this.imageConf.ratio-r.y}),this.layer.batchDraw()),"touchmove"===t.evt.type&&1===t.evt.touches.length&&(e.position({x:t.evt.touches[0].clientX/this.imageConf.ratio-r.x,y:t.evt.touches[0].clientY/this.imageConf.ratio-r.y}),this.layer.batchDraw())}})),e.on("dragend",(()=>{if(s){if(s=!1,!this.userActions.shapeIsRotating)if(e.moveToTop(),this.imageConf.shadows.moveToTop(),pe.call(this,".text_delete")){"gif"===t.name()&&(this.gifs.storage=[],this.api.events.$emit("saveAsCopyPermToggle",this.settingsPassed.saveAsCopy)),"QuestionBlock"===t.name()&&setTimeout((()=>{this.api.events.$emit("imageEditor::question::remove")})),"AnswerBlock"===t.name()&&setTimeout((()=>{this.api.events.$emit("imageEditor::answer::remove")}));const s=this.history.normalizeMoveableObject(t);s.x=e.from.x,s.y=e.from.y,s.childX=t.x(),s.childY=t.y(),this.history.push("moveableObject","delete",e.historyId,s),e.destroy(),this.layer.batchDraw()}else setTimeout((()=>{this.history.push("moveableObject","modifyPosition",e.historyId,this.history.normalizeMoveableObject(e))}));this.userActions.shapeIsDraging=!1,this.api.events.$emit("shapeDragging",!1),r=null}}))}function ye(e,t=!1){let s,r,n,a;const i=H.call(this,{name:"MergedGroup"});if("label"!==e.name()){i.historyId=e.historyId;const t=this.history.installMoveableObject(i,e);i.historyId=t.id,e.historyId=t.id}const o=new le.Circle({x:e.x()+e.width()*e.scaleX(),y:e.y(),name:"dimensionCircle::edit",radius:4/this.imageConf.ratio,fill:"#5dc6ef",stroke:"#01afef",strokeWidth:1,draggable:!0});return t||(me.call(this,o,"crosshair"),o.on("dragstart",(t=>{"mousemove"===t.evt.type&&(e.from=this.history.normalizeMoveableObject(e),n=e.scaleX(),a=e.rotation(),r=ne(e),s={x:t.evt.x/this.imageConf.ratio-o.x(),y:t.evt.y/this.imageConf.ratio-o.y()})})),o.on("dragmove",(t=>{const i=e.width()*e.scaleX()/this.imageConf.ratio,o=e.height()*e.scaleY()/this.imageConf.ratio,c=()=>{const e=t.evt.x/this.imageConf.ratio-s.x-r.center.x,n=t.evt.y/this.imageConf.ratio-s.y-r.center.y;return 180*Math.atan2(n,e)/Math.PI};if("mousemove"===t.evt.type){const d=Math.pow(i,2),u=Math.pow(o,2),l=Math.sqrt(u+d)/2,m=c(),h=Math.pow(e.width()/this.imageConf.ratio,2),f=Math.pow(e.height()/this.imageConf.ratio,2),p=Math.sqrt(h+f)/2,g=t.evt.x/this.imageConf.ratio-s.x,y=t.evt.y/this.imageConf.ratio-s.y+12,S=Math.pow(g-r.center.x,2),P=Math.pow(y-r.center.y,2),v=Math.sqrt(S+P)/this.imageConf.ratio,w=a-m-45,b=1/p*l,I=(1/l*v-1)*b,k=n+I;n=k;const C=e.rotation()-w,T={x:-e.width()*k/2,y:-e.height()*k/2},$=ie(T,e.rotation()),L=ie(T,C),M=L.x-$.x,_=L.y-$.y;e.rotation(C),e.x(e.x()+M),e.y(e.y()+_);const A=ne(e),x={x:(e.x()-A.center.x)/e.scaleX(),y:(e.y()-A.center.y)/e.scaleX()},F={x:x.x*k+A.center.x,y:x.y*k+A.center.y};e.position(F),e.scale({x:k,y:k}),a=e.rotation()}this.layer.batchDraw()})),o.on("dragend",(()=>{this.history.push("moveableObject","modifyRotation",i.historyId,this.history.normalizeMoveableObject(e))})),o.hide(),i.add(o)),i.add(e),me.call(this,e),i.on("click dragstart",(t=>{"mouseup"===t.evt.type&&(e.strokeEnabled&&e.strokeEnabled()?(o.hide(),e.strokeEnabled(!1)):(e.strokeEnabled&&(e.strokeEnabled(!0),e.stroke("rgba(255,255,255,0.5)"),e.strokeWidth(1/this.imageConf.ratio)),o.show(),o.moveToTop()),this.layer.batchDraw())})),i.on("dragend",(()=>{o.hide(),e.strokeEnabled&&e.strokeEnabled(!1),this.layer.batchDraw()})),i.initialImageScale=this.imageConf.ratio,this.group.add(i),this.layer.batchDraw(),this.methods.normalizeStageFile(),this.api.events.$on("preSave",(()=>{o.hide(),e.strokeEnabled&&e.strokeEnabled(!1)})),i.draggable(!0),ge.call(this,i,e),t||he.call(this,i,e),{group:i,konvaNode:e,circle:o}}function Se(){this.imageConf.shadows&&this.imageConf.shadows.destroy();const e=J({x:0,y:0-this.group.y(),height:this.group.y(),width:this.image.width()/this.imageConf.ratio}),t=J({x:e.x(),y:e.y()+e.height()+this.image.height(),height:e.height(),width:e.width()}),s=J({x:e.x()-this.group.x(),y:e.y(),height:e.height()+this.image.height()+t.height(),width:this.group.x()}),r=J({x:s.x()+this.image.width()+s.width(),y:s.y(),height:s.height(),width:s.width()});return this.imageConf.shadows=new N.Group,this.imageConf.shadows.add(e),this.imageConf.shadows.add(t),this.imageConf.shadows.add(s),this.imageConf.shadows.add(r),"default"!==this.viewState.screen&&this.imageConf.shadows.hide(),this.group.add(this.imageConf.shadows),!0}function Pe(){if(!this.image)return;const e=this.imageConf.ratio;this.config=ue(),this.stage.height(this.config.height),this.stage.width(this.config.width);const t=this.stage.width()/this.image.width(),s=this.stage.height()/this.image.height(),r=t<s?t:s;this.imageConf.ratio=r<1?r:1,this.group.height(this.image.height()),this.group.width(this.image.width()),this.stage.scale({x:this.imageConf.ratio,y:this.imageConf.ratio});let n=(this.stage.width()-this.image.width()*this.imageConf.ratio)/2,a=(this.stage.height()-this.image.height()*this.imageConf.ratio)/2;return n=n<0?0:n/this.imageConf.ratio,a=a<0?0:a/this.imageConf.ratio,this.group.position({x:n,y:a}),this.image.position({x:this.image.width()/2,y:this.image.height()/2}),this.cropState.cropRect&&this.methods.setUpCrop(),Se.call(this),e!==this.imageConf.ratio&&de.call(this).forEach((t=>{const{parent:s}=t;if("MergedGroup"!==s.name())return;const r=100/s.initialImageScale*this.imageConf.ratio/100,n=100/e*this.imageConf.ratio/100;s.scale({x:1/r,y:1/r}),s.position({x:s.x()/n,y:s.y()/n})})),this.layer.batchDraw(),!0}var ve=Pe;s(782801);function we(e){if(/^blob/.test(e))return e;const t=atob(e.split(",")[1]),s=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),n=new Uint8Array(r);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);const a=new Blob([r],{type:s});return window.URL.createObjectURL(a)}async function be(e,t=0,s,r){e=we(e);const n=async r=>{const n=new Image;n.onload=()=>{setTimeout((()=>{const t=Y(n);t.cropReset=!0,t.overlayReset=!0,t.imgSrc=e,t.imgOrigWidth=n.width,t.imgOrigHeight=n.height,t.perfectDrawEnabled(!1),t.fixed_ratio=!0,s?"object"===typeof s&&(this.history.initialImageUrl=e):this.history.push("image","modify",null,{from:this.history.currentImageUrl,to:e}),this.history.currentImageUrl=e,this.historyBlobs[e]=!0,this.imageConf.html=n,r(t)}),t)},n.src=e},a=await new Promise(n);return this.group.add(a),this.image=this.group.findOne("#editable_image"),this.methods.normalizeStageFile(r),this.stage.batchDraw(),a}var Ie=be,ke=s(16745);function Ce(e,t){let s="undefined"!==typeof e?e:this.cropState.cropXSide,r="undefined"!==typeof t?t:this.cropState.cropYSide;this.cropState.cropXSide=s,this.cropState.cropYSide=r,"portrait"!==this.cropState.cropOrientation&&(s=this.cropState.cropYSide,r=this.cropState.cropXSide),this.cropState.cropRelationActive=s*r;let n=0,a=0,i=100;this.image.cropReset=!1;const o=(e,t)=>{const s=this.stage.height()/(e*this.imageConf.ratio)*100,r=this.stage.width()/(t*this.imageConf.ratio)*100;i=s<=r?s:r,n=t*(i/100),a=e*(i/100)};if(s===r&&0===s)n=this.image.width(),a=this.image.height(),i=100,this.image.cropReset=!0;else if("portrait"===this.cropState.cropOrientation){const e=this.image.height()/r*s,t=this.image.height();e>this.image.width()?(i=e/this.image.width()*100,n=e,a=t):o(t,e)}else{const e=this.image.width(),t=this.image.width()/s*r;if(t>this.image.height()){i=t/this.image.height()*100,n=e,a=t;const s=document.getElementsByClassName("konvajs-content"),r=s[0].clientWidth,o=s[0].clientHeight,c=+(n/a).toFixed(1),d=+(r/o).toFixed(1);d>=1.1&&d>c&&(i/=d/c,n/=d/c,a/=d/c)}else o(t,e)}n*=.9,a*=.9,i-=10;const c=(this.image.width()-n)/2+this.group.x(),d=(this.image.height()-a)/2+this.group.y(),u=360;let l=0;const m=120,h=this.cropState.cropRect.width(),f=n-h,p=this.cropState.cropRect.height(),g=a-p,y=this.cropState.cropRect.x(),S=c-y,P=this.cropState.cropRect.y(),v=d-P,w=this.cropState.imageSizeComp,b=i-w,I=new ke.Animation((e=>{if(l+=e.timeDiff*u/1e3,0!==f){const e=f/m*l+h;f>0&&e>n||f<0&&e<n?this.cropState.cropRect.width(n):this.cropState.cropRect.width(e)}if(0!==g){const e=g/m*l+p;g>0&&e>a||g<0&&e<a?this.cropState.cropRect.height(a):this.cropState.cropRect.height(e)}if(0!==b){const e=b/m*l+w;this.cropState.imageSizeComp=b>0&&e>i||b<0&&e<i?i:e}if(0!==S){const e=S/m*l+y;S>0&&e>c||S<0&&e<c?this.cropState.cropRect.x(c):this.cropState.cropRect.x(e)}if(0!==v){const e=v/m*l+P;v>0&&e>d||v<0&&e<d?this.cropState.cropRect.y(d):this.cropState.cropRect.y(e)}(f>0&&this.cropState.cropRect.width()>=n||f<0&&this.cropState.cropRect.width()<=n&&S>0&&this.cropState.cropRect.x()>=c||S<0&&this.cropState.cropRect.x()<=c&&v>0&&this.cropState.cropRect.y()>=d||S<0&&this.cropState.cropRect.y()<=d&&g>0&&this.cropState.cropRect.height()>=a||g<0&&this.cropState.cropRect.height()<=a&&b>0&&this.cropState.imageSizeComp>=i||b<0&&this.cropState.imageSizeComp<=i)&&(this.cropState.cropRect.width(n),this.cropState.cropRect.height(a),this.cropState.cropRect.x(c),this.cropState.cropRect.y(d),this.cropState.imageSizeComp=i,I.stop()),this.methods.createShadowRects(this.cropState.cropRect,this.cropState,this.group)}),this.layer);I.start(),setTimeout((()=>{I.stop()}),1e3),this.stage.batchDraw()}var Te=Ce;function $e(e){return this.viewState.screen=e,"default"===e?(this.image.draggable(!1),this.layer.batchDraw()):"crop"===e?(this.group.draggable(!1),setTimeout((()=>{this.methods.normalizeStageFile(),this.methods.addCropRect()}),100),this.image.draggable(!0)):"overlay"===e?(this.group.draggable(!1),this.methods.addOverlayRect()):"text"===e&&(this.group.draggable(!1),this.methods.addText()),!0}var Le=$e;function Me(){let e,t,s,r,n,a,i=this.cropState.maxImageScale;const o=()=>{e=this.stage.height()/(r*this.imageConf.ratio)*100,t=this.stage.width()/(r*this.imageConf.ratio)*100,s=e<=t?e:t,i=i<s?s:i};return this.cropState.cropRelations.forEach((e=>{e[0]===e[1]?(r=this.image.width()>=this.image.height()?this.image.height():this.image.width(),o()):(n=this.image.height()/e[1]*e[0],a=this.image.height(),n>this.image.width()?(s=n/this.image.width()*100,i=i<s?s:i):o(),n=this.image.width(),a=this.image.width()/e[1]*e[0],a>this.image.height()?(s=a/this.image.height()*100,i=i<s?s:i):o())})),i}var _e=Me;function Ae(){this.cropState.cropOrientation=this.image.width()>this.image.height()?"landscape":"portrait",this.maxImageScale=this.methods.getMaxImageScale(),this.stage.findOne("#cropRectLayer")&&this.stage.findOne("#cropRectLayer").destroy(),this.cropState.cropRelationActive=0,this.cropState.cropRect=new Q.Rect({x:this.group.x(),y:this.group.y(),id:"cropRectNode",width:this.image.width(),height:this.image.height(),draggable:!1,fill:"transparent",stroke:"rgba(255,255,255,0.85)",strokeWidth:3/this.imageConf.ratio,scale:this.group.scale(),strokeEnabled:!0});const e=new Q.Rect({id:"multitouchCropRect",x:this.group.x(),y:this.group.y(),width:this.group.width(),height:this.group.height(),draggable:!0,dragBoundFunc:t=>(this.image.position({x:this.currentImagePos.x+(t.x-e.absolutePosition().x)/this.imageConf.ratio,y:this.currentImagePos.y+(t.y-e.absolutePosition().y)/this.imageConf.ratio}),this.layer.batchDraw(),this.group.absolutePosition())});e.on("dragstart",(()=>{this.currentImagePos=this.image.position()})),e.on("dragend",(()=>{this.currentImagePos=this.image.position(),this.image.cropReset=!1})),(0,oe.Z)(e),e.on("rotatestart",(e=>{this.startScale=this.cropState.imageSizeComp/100,this.userActions.oldRotation=e.evt.gesture.rotation,this.image.stopDrag(),this.image.draggable(!1)})),e.on("rotate",(e=>{const t=this.userActions.oldRotation-e.evt.gesture.rotation;t<30&&t>-30&&(this.image.rotate(-t),this.userActions.oldRotation=e.evt.gesture.rotation);const s=this.startScale*e.evt.gesture.scale*100;s<=this.cropState.minImageScale?this.cropState.imageSizeComp=this.cropState.minImageScale:s>=this.cropState.maxImageScale?this.cropState.imageSizeComp=this.cropState.maxImageScale:this.cropState.imageSizeComp=s,this.layer.batchDraw(),this.cropState.imageRotateComp=this.image.rotation()})),e.on("rotateend rotatecancel",(()=>{this.image.draggable(!0),this.image.cropReset=!1,this.layer.batchDraw()})),this.layer.add(this.cropState.cropRect),this.layer.add(e),this.overlayState.overlayRect&&this.overlayState.overlayRect.hide(),de.call(this).forEach((e=>{e.hide()})),this.layer.batchDraw(),this.methods.setUpCrop(0,0)}var xe=Ae;async function Fe(){if(this.image.cropReset)this.layer.findOne("#multitouchCropRect").destroy(),this.cropState.cropRect.destroy(),this.cropState.cropRect=null,this.methods.changeScreen("default"),this.methods.normalizeStageFile(),this.overlayState.overlayRect&&(this.overlayState.overlayRect.show(),this.overlayState.overlayRect.moveToTop());else{var e;"function"===typeof(null===(e=this.cropState.cropRect)||void 0===e?void 0:e.strokeEnabled)&&this.cropState.cropRect.strokeEnabled(!1),this.group.clip({x:this.cropState.cropRect.x()-this.group.x(),y:this.cropState.cropRect.y()-this.group.y(),width:this.cropState.cropRect.width(),height:this.cropState.cropRect.height()}),this.stage.scale({x:1,y:1}),this.stage.size({width:this.stage.width(),height:this.stage.height()});const t=this.stage.toDataURL({x:this.cropState.cropRect.x(),y:this.cropState.cropRect.y(),width:this.cropState.cropRect.width(),height:this.cropState.cropRect.height(),pixelRatio:1,mimeType:"image/jpeg"});this.image.destroy(),this.group.clip({x:void 0,y:void 0,width:void 0,height:void 0}),this.layer.findOne("#multitouchCropRect").destroy(),this.cropState.cropRect.destroy(),this.cropState.cropRect=null,await this.methods.proceedFile(t,500).then((()=>{this.overlayState.overlayRect&&(this.methods.addOverlayRect(),this.methods.doOverlay())}))}de.call(this).forEach((e=>{this.api.events.$emit("showGifs"),e.show(),e.moveToTop(),e.parent.moveToTop()}))}var Ee=Fe;function De(){window.showPreloader(),setTimeout((async()=>{if(this.logAction(`${this.viewState.screen} done`),"crop"===this.viewState.screen){await this.methods.doCrop();const e=this.api.currentFileStage.layer.findOne(".QuestionBlock");if(e){const{text:t,historyId:s}=e;e.destroy(),setTimeout((()=>{this.methods.addQuestion(void 0,{id:s,disableClickHandler:!0},t)}),1e3)}}else"overlay"===this.viewState.screen?await this.methods.doOverlay():"text"===this.viewState.screen&&this.methods.doText();this.methods.changeScreen("default"),window.hidePreloader()}))}var Ue=De;function Oe(){this.image.width(this.image.imgOrigWidth),this.image.height(this.image.imgOrigHeight),this.image.offsetX(this.image.imgOrigWidth/2),this.image.offsetY(this.image.imgOrigHeight/2),this.image.x(this.image.imgOrigWidth/2),this.image.y(this.image.imgOrigHeight/2),this.image.crop({x:0,y:0,width:this.image.imgOrigWidth,height:this.image.imgOrigHeight}),this.image.rotation(0),this.image.scale({x:1,y:1}),this.cropState.cropOrientation=this.image.width()>this.image.height()?"landscape":"portrait",this.methods.setUpCrop(0,0),this.image.cropReset=!0,this.stage.batchDraw()}var Re=Oe;function Ze(e){if("left"===e){const e=0;this.overlayState.leftColor="transparent",this.overlayRect.fillLinearGradientColorStops([0,`rgba(${this.overlayState.colors[this.overlayState.leftColor]},${e})`,1,`rgba(${this.overlayState.colors[this.overlayState.leftColor]},0)`]),this.layer.batchDraw()}else{const e=0;this.overlayState.rightColor="transparent",this.overlayRect.fillLinearGradientColorStops([0,`rgba(${this.overlayState.colors[this.overlayState.rightColor]},0)`,1,`rgba(${this.overlayState.colors[this.overlayState.rightColor]},${e})`]),this.layer.batchDraw()}}var Be=Ze;function je(){let e=this.image.width()/2,t=this.image.width()/2,s=0,r=this.image.height(),n=0,a=0,i=0;if(180===Math.abs(this.overlayState.overlayRotation)||0===this.overlayState.overlayRotation)return{startPoint:{x:this.image.width()/2,y:0===this.overlayState.overlayRotation?0:this.image.height()},endPoint:{x:this.image.width()/2,y:0===this.overlayState.overlayRotation?this.image.height():0}};if(90===Math.abs(this.overlayState.overlayRotation))return{startPoint:{x:this.overlayState.overlayRotation<0?0:this.image.width(),y:this.image.height()/2},endPoint:{x:this.overlayState.overlayRotation<0?this.image.width():0,y:this.image.height()/2}};Math.abs(this.overlayState.overlayRotation)<90&&(i=this.overlayState.overlayRotation),Math.abs(this.overlayState.overlayRotation)>90&&Math.abs(this.overlayState.overlayRotation)<180&&(i=this.overlayState.overlayRotation<0?180+this.overlayState.overlayRotation:this.overlayState.overlayRotation-180),n=this.image.height()/2*Math.sin(i*(Math.PI/180));const o=Math.sqrt(Math.pow(this.image.width(),2)+Math.pow(this.image.height(),2)),c=180*Math.asin(Math.sin(this.image.height()/o))/Math.PI;return Math.abs(i)>90-c?(i<0?(e=0,t=this.image.width()):(e=this.image.width(),t=0),a=this.image.height()/2-this.image.width()/2*Math.tan(Math.PI*(90-Math.abs(i))/180),s=a,r=this.image.height()-a):(e=this.image.width()/2+n,t=this.image.width()/2-n,s=0,r=this.image.height()),Math.abs(this.overlayState.overlayRotation)>90&&Math.abs(this.overlayState.overlayRotation)<180&&(s=r+s,r=s-r,s-=r,e=t+e,t=e-t,e-=t),{startPoint:{x:e,y:s},endPoint:{x:t,y:r}}}var We=je;function qe(){const e=this.methods.getOverlayGradientCoordinates();this.overlayState.overlayRect&&this.overlayState.overlayRect.destroy();const t=new Q.Rect({id:"overlayRect",x:this.image.x(),y:this.image.y(),width:this.image.width(),height:this.image.height(),offsetX:this.image.offsetX(),offsetY:this.image.offsetY(),fillLinearGradientStartPoint:e.startPoint,fillLinearGradientEndPoint:e.endPoint,fillLinearGradientColorStops:[0,`rgba(${this.overlayState.colors[this.overlayState.leftColor]},1)`,1,`rgba(${this.overlayState.colors[this.overlayState.rightColor]},1)`],draggable:!1,opacity:this.overlayState.overlayOpacity});this.overlayState.overlayRect=t;const s=new Q.Rect({id:"multitouchRectOverlay",width:this.stage.width()/this.imageConf.ratio,height:this.stage.height()/this.imageConf.ratio,draggable:!1});let r;(0,oe.Z)(s),s.on("rotatestart",(e=>{r=this.overlayState.overlayOpacityComputed/100,r=0===r?.01:r,this.userActions.oldRotation=e.evt.gesture.rotation})),s.on("rotate",(e=>{const t=this.userActions.oldRotation-e.evt.gesture.rotation;if(t<30&&t>-30){let s=this.overlayState.overlayRotationComputed-t;s=s>180?s-360:s<-180?s+360:s,this.overlayState.overlayRotationComputed=s,this.userActions.oldRotation=e.evt.gesture.rotation}const s=r*e.evt.gesture.scale*100;this.overlayState.overlayOpacityComputed=s<=0?0:s>=100?100:s,this.layer.batchDraw()})),s.on("rotateend rotatecancel",(()=>{this.layer.batchDraw()})),this.group.add(t),this.layer.add(s),de.call(this).forEach((e=>{e.hide()})),this.layer.batchDraw()}var Ve=qe;function Ne(){const e="transparent"===this.overlayState.leftColor?"0":"1",t="transparent"===this.overlayState.rightColor?"0":"1";this.overlayState.overlayRect&&this.overlayState.overlayRect.fillLinearGradientColorStops([0,`rgba(${this.overlayState.colors[this.overlayState.leftColor]},${e})`,1,`rgba(${this.overlayState.colors[this.overlayState.rightColor]},${t})`]),this.overlayState.overlayReset=!1,this.layer.batchDraw()}var He=Ne;async function ze(){this.overlayState.overlayReset?(this.overlayState.overlayRect&&this.overlayState.overlayRect.destroy(),this.layer.findOne("#multitouchRectOverlay").destroy()):this.layer.findOne("#multitouchRectOverlay").destroy();const e=await this.methods.imageFromGroup(!1,{onlyPicture:!0});this.overlayState.overlayRect&&this.overlayState.overlayRect.destroy(),this.image.destroy(),await this.methods.proceedFile(e.dataURL,0).then((()=>{this.overlayState.overlayRect=null})),de.call(this).forEach((e=>{this.api.events.$emit("showGifs"),e.show(),e.moveToTop(),e.parent.moveToTop()}))}var Xe=ze;function Ge(e){const t=document.createElement("span");document.querySelector(".image_editor > .image_editor_holder").appendChild(t),t.id="span_check_textareasize",t.style.lineHeight=e.style.lineHeight,t.style.fontFamily=e.style.fontFamily,t.style.fontWeight=e.style.fontWeight,t.style.display="inline-block",t.style.color=e.style.color,t.style.fontSize=e.style.fontSize,t.style.position="absolute",t.style.width="auto",t.style.maxWidth=e.style.maxWidth,t.style.wordWrap="break-word",t.innerText="A";const s=t.offsetHeight,r=e.value.split("\n").length;t.style.padding=e.style.padding,t.innerHTML=e.value.replace(/\n\r?/g,"<br />");const n=t.offsetWidth+8,a=(t.offsetHeight-2*parseInt(e.style.padding,10))/s,i=document.querySelector(".image_editor").offsetWidth/2-t.offsetWidth/2,o=document.querySelector(".image_editor").offsetHeight/2-t.offsetHeight/2,c=a>=r?a:r,d={width:n+10,height:s*c+2*parseInt(e.style.padding,10),x:i,y:o};return t.remove(),d}var Ye=Ge;function Ke(){const e=this.textState.currentText.getParent().findOne(".tag");this.textState.textBackground?(this.textState.textBackground=!1,e.fill(null),this.methods.changeTextColor("black"===this.textState.textBackgroundColor?"white":this.textState.textBackgroundColor)):(this.textState.textBackground=!0,e.fill(`rgb(${this.overlayState.colors[this.textState.textBackgroundColor]})`),this.methods.changeTextColor("white"===this.textState.rightTextColor?"black":this.textState.rightTextColor))}var Qe=Ke;function Je(){if(!this.overlayState.overlayRect)return;this.api.events.$emit("overlayComputedsChange",{rotation:0,opacity:30}),this.overlayState.leftColor="transparent",this.overlayState.rightColor="transparent";const e="transparent"===this.overlayState.leftColor?"0":"1";this.overlayState.overlayRect.fillLinearGradientColorStops([0,`rgba(${this.overlayState.colors[this.overlayState.leftColor]},${e})`,1,`rgba(${this.overlayState.colors[this.overlayState.rightColor]},${e})`]),this.overlayState.overlayReset=!0,this.layer.batchDraw()}var et=Je;function tt(e){const t=this.textState.currentText.getParent().findOne(".tag");t.fill()?(this.textState.textBackgroundColor=e,this.textState.currentText.textBackgroundColor=this.textState.textBackgroundColor,t.fill(`rgb(${this.overlayState.colors[this.textState.textBackgroundColor]})`),"white"!==e?(this.textState.rightTextColor="white",this.textState.currentText.fill(`rgb(${this.overlayState.colors[this.textState.rightTextColor]})`)):(this.textState.rightTextColor="black",this.textState.currentText.fill(`rgb(${this.overlayState.colors[this.textState.rightTextColor]})`))):(this.textState.rightTextColor=e,this.textState.currentText.fill(`rgb(${this.overlayState.colors[this.textState.rightTextColor]})`));const s=document.getElementById("textEditArea");"undefined"!==typeof s&&(s.style.background=t.fill()?`rgb(${this.overlayState.colors[this.textState.textBackgroundColor]})`:"none",s.style.color=this.textState.currentText.fill()),this.layer.batchDraw()}var st=tt;function rt(){"center"===this.textState.textAlign?(this.textState.textAlign="left",this.textState.currentLabel.x(30/this.imageConf.ratio)):"left"===this.textState.textAlign?this.textState.textAlign="right":"right"===this.textState.textAlign&&(this.textState.textAlign="center"),this.textState.currentText.align(this.textState.textAlign);const e=document.getElementById("textEditArea");if(this.textState.currentLabel.moved=!1,"undefined"!==typeof e){e.style.textAlign=this.textState.currentText.align();const t=this.methods.calcTextAreaParams(e);e.style.left=`${t.x}px`,e.style.top=`${t.y}px`}this.stage.batchDraw()}var nt=rt;function at(){const e=Object.keys(V);this.textState.textBold=e[(e.indexOf(this.textState.textBold)+1)%e.length];const t=document.getElementById("textEditArea");if("undefined"!==typeof t){t.style.fontWeight=`${V[this.textState.textBold]}`,this.textState.currentText.fontStyle(`${V[this.textState.textBold]}`);const e=this.methods.calcTextAreaParams(t);t.style.left=`${e.x}px`,t.style.top=`${e.y}px`,t.style.width=`${e.width}px`,t.style.height=`${e.height}px`}this.stage.batchDraw()}var it=at,ot=s(956067),ct=s(723787);function dt(e={},t={}){this.textState.rightTextColor="white",this.textState.textBackgroundColor="black",this.textState.textBackground=!1,this.textState.textAlign="center";const s=new ct.Text({x:e.Text?e.Text.x:this.group.width()/2,y:e.Text?e.Text.y:this.image.y(),text:e.Text?e.Text.text:"",fontSize:e.Text?e.Text.fontSize:this.textState.defaultTextFontSize/this.imageConf.ratio,fontFamily:"Open Sans",padding:12/this.imageConf.ratio,align:this.textState.textAlign,fill:"rgb(255,255,255)",fontStyle:"regular"===this.textState.textStyle?"normal":this.textState.textStyle});e.Text||(s.x(s.x()-s.width()/2),s.textBackgroundColor=null);const r=new ot.Label({x:t.childX||this.group.width()/2-s.width()/2,y:t.childY||this.image.y(),draggable:!1,scale:{x:t.scaleX||1,y:t.scaleY||1},name:"label"});r.moved=!1,r.add(new ot.Tag({cornerRadius:5/this.imageConf.ratio,name:"tag"})),r.add(s),t.rotation&&r.rotation(t.rotation);const{group:n,circle:a}=ye.call(this,r);if(t.id){r.historyId=t.id,n.historyId=r.historyId;const e=this.history.installMoveableObject(n,r);n.historyId=e.id}if(e.Text&&(t.childX||(r.x(e.x),r.y(e.y)),r.children.each((t=>{const s=e[t.className];s&&Object.keys(s).forEach((e=>{t[e](s[e])}))})),r.historySource=e),t.x&&n.x(t.x),t.y&&n.y(t.y),n.draggable(!0),!e.Text){const e=new Q.Rect({x:0,y:0,width:this.image.width(),height:this.image.height(),fill:"rgba(0,0,0,0.4)",id:"shadowRect"});this.group.add(e)}this.textState.currentText=s,this.textState.currentLabel=r;let i=0;s.addEventListener("tap",(()=>{i||setTimeout((()=>{i=0}),300),i+=1,2===i&&s.fire("dblclick")})),s.addEventListener("dblclick",(()=>{if(a.hide(),this.textState.afterTextRotate)return this.textState.afterTextRotate=!1,!1;r.hide();const e=document.createElement("textarea");if(e.onblur=()=>{e.focus()},document.querySelector(".image_editor > .image_editor_holder").appendChild(e),this.textState.currentText=s,this.textState.currentLabel=r,"text"!==this.viewState.screen){this.viewState.screen="text";const e=this.textState.currentText.getParent().findOne(".tag");this.textState.textBackground=!!e.fill();const t=new Q.Rect({x:0,y:0,width:this.image.width(),height:this.image.height(),fill:"rgba(0,0,0,0.4)",id:"shadowRect"});this.group.add(t),r.moveUp()}this.layer.batchDraw(),this.textState.textBackgroundColor=this.textState.currentText.textBackgroundColor,this.textState.textAlign=this.textState.currentText.align(),e.value=s.text(),e.style.position="absolute",e.style.fontSize=s.fontSize()*this.imageConf.ratio+"px",e.style.fontStyle="normal",e.style.fontWeight=this.textState.currentText.fontStyle(),e.style.border="none",e.style.wordWrap="break-word",e.style.borderRadius="5px",e.style.padding=s.padding()*this.imageConf.ratio+"px",e.style.margin="0px",e.style.overflow="hidden",e.style.background="none",e.style.background=r.findOne(".tag").fill()?`rgb(${this.overlayState.colors[this.textState.textBackgroundColor]})`:"none",e.style.outline="none",e.style.resize="none",e.style.lineHeight=s.lineHeight(),e.style.fontFamily=s.fontFamily(),e.style.transformOrigin="left top",e.style.textAlign=s.align(),e.style.color=s.fill(),e.style.zIndex=10,e.style.maxWidth=this.config.width-120+"px",e.id="textEditArea",e.focus(),+this.textState.currentText.fontStyle()?this.textState.textBold=Object.keys(V).find((e=>`${V[e]}`===this.textState.currentText.fontStyle())):this.textState.textBold="regular";const t=this.methods.calcTextAreaParams(e);e.style.width=`${t.width}px`,e.style.height=`${t.height}px`,e.style.left=`${t.x}px`,e.style.top=`${t.y}px`,e.addEventListener("focusout",(()=>{})),"input propertychange".split(" ").forEach((t=>{e.addEventListener(t,(()=>{const t=this.methods.calcTextAreaParams(e),s=this.textState.currentText.getParent().findOne(".tag");e.style.background=s.fill()&&e.value.replace(/[\r\n]+/gm,"").trim().length?`rgb(${this.overlayState.colors[this.textState.textBackgroundColor]})`:"none",e.style.left=`${t.x}px`,e.style.top=`${t.y}px`,e.style.width=`${t.width}px`,e.style.height=`${t.height}px`}))})),setTimeout((()=>{}))})),e.Text||s.fire("dblclick")}var ut=dt;function lt(){let e=document.getElementById("textEditArea");"undefined"!==typeof e&&this.methods.removeTextArea(e,this.textState.currentText,this.textState.currentLabel,null),this.currentText=null,this.currentLabel=null}var mt=lt;function ht(e,t,s,r){if(!e)return!1;if(e.value.length>0){if("undefined"!==typeof s&&"undefined"!==typeof s.getText()){t.width(parseInt(e.style.width)/this.imageConf.ratio),t.text(e.value);const r=s.parent;if(s.historySource&&(s.from=JSON.parse(JSON.stringify({...s.historySource,x:s.x(),y:s.y()}))),s.moved){const e=s.position().x+s.width()/2;s.x(e-s.width()/2)}else s.x(this.group.width()/2-t.width()/2);s.show(),s.moveUp(),s.historySource={x:s.x(),y:s.y(),...s.children.reduce(((e,t)=>(e[t.className]=t.attrs,e)),{})},s.historySource=JSON.parse(JSON.stringify(s.historySource)),r.historyId=s.historyId;const n=this.history.installMoveableObject(r,s);r.historyId=n.id,n.id===s.historyId&&this.history.push("moveableObject","modifyAttrs",n.id,this.history.normalizeMoveableObject(s)),s.historyId=r.historyId}}else t.destroy(),s.destroy(),this.textState.currentText=null,this.textState.currentLabel=null,this.layer.batchDraw();const n=this.group.findOne("#shadowRect");"undefined"!==typeof n&&n.destroy(),this.layer.batchDraw(),e.remove(),window.removeEventListener("click",r),window.removeEventListener("touchstart",r),this.textState.currentText=null,this.textState.currentLabel=null,this.methods.changeScreen("default")}var ft=ht;async function pt(e,t={}){window.showPreloader();const s=s=>{const r=new Image;r.onload=()=>{const n=t.scaleX||.25*this.group.height()/r.height,a=t.scaleY||.25*this.group.width()/r.width,i=n<a?n:a,o=K(r,i);o.x(t.childX||this.group.width()/2-o.width()/2*i),o.y(t.childY||this.group.height()/2-o.height()/2*i),o.imgSrc=e,o.imgOrigWidth=r.width,o.imgOrigHeight=r.height,o.perfectDrawEnabled(!1),o.fixed_ratio=!0,t.rotation&&o.rotation(t.rotation),t.id&&(o.historyId=t.id),s(o)},r.src=e},r=await new Promise(s),{group:n}=ye.call(this,r);return t.x&&n.x(t.x),t.y&&n.y(t.y),this.api.events.$emit("stickerAdded",n),this.logAction("sticker add"),this.methods.normalizeStageFile(),window.hidePreloader(),n}var gt=pt,yt=s(963729),St=s(550196);const Pt="streamfans.js?rev=202212072129-bda26c0f29";class vt{constructor(e){this.worker=e,this.callStack={},this.worker.onmessage=e=>{const t=e.data;this.callStack[t.id]&&(t.error?this.callStack[t.id].reject(t.result):this.callStack[t.id].resolve(t.result))}}async post(e,t){const s=Math.random().toString(36).substr(2,9);return this.callStack[s]=(0,yt.P)(),this.worker.postMessage({fn:e,args:t,id:s}),this.callStack[s].promise.then((e=>(t=[],e)))}}const wt=function(){function e(e,t){try{return e()}catch(s){throw console.error(s),new Error(t)}}function t(e){const{width:t,height:s}=e,r=Module.pxImageData.createObject(t,s,4),n=r.data(),a=e.data;return Module.HEAPU8.set(a,n),r}function s(e){const t=e.length,s=Module.pxEncodedData.createObject();s.create(t);const r=s.data(),n=e;return Module.HEAPU8.set(n,r),s}function r(e){const t=e.size(),s=e.data();return new Uint8Array(Module.HEAPU8.buffer,s,t)}Module.perform=function(n,a,i){let o=null;const c=e((()=>t(n)),"Background convert errored");if(a){const t=e((()=>s(a.gifBuffer)),"Gif convert errored");o=r(e((()=>Module.make_stick_mp4(c,t,a.x,a.y,a.rotation,a.width,a.height)),"New gif is not done")),t.delete()}else o=r(e((()=>Module.make_img2mp4_ext(c,i,6e7)),"New video is not created to js Buffer"));return c.delete(),new Blob([o],{type:"video/mp4"})}};async function bt(){const e=(0,yt.P)();if(window.WASMMP4Worker)e.resolve(window.WASMMP4Worker);else{const t=window.location.origin,s="/theme/onlyfans/spa/",r=await St.ZP.get(`${s}${Pt}`,{responseType:"arraybuffer"}),n=new Blob([r.data],{type:"text/plain"}),a=await new Promise((e=>{const t=new FileReader;t.onload=t=>{e(t.target.result)},t.readAsText(n)})),i=`\n  Module = {};\n  Module.locateFile = function () { return '${t}${s}streamfans.wasm?rev=202212072129-bda26c0f29' };\n  Module.onRuntimeInitialized = function () { console.log('WASM ready'); postMessage({ ready: true }) };\n  (${wt})()\n  onmessage = function (e) {\n    var id = e.data.id;\n    var fn = e.data.fn;\n    var args = e.data.args;\n    var result = null;\n    var error = false;\n    try {\n      result = Module[fn].apply(null, args);\n    } catch (e) {\n      error = true;\n      result = e;\n    }\n    var argsToSend = { result: result, fn: fn, id: id, error: error };\n    postMessage({ result: result, fn: fn, id: id, error: error });\n\n    for (var key in args) {\n      delete args[key];\n    }\n  }\n  ${a}\n  `,o=URL.createObjectURL(new Blob([i],{type:"application/javascript"})),c=new Worker(o);c.onmessage=t=>{try{t.data.ready&&(window.WASMMP4Worker=new vt(c),e.resolve(window.WASMMP4Worker))}catch(t){e.reject(t)}}}return e.promise}class It{constructor({backgroundImageData:e,gifs:t=[],time:s=1e3,context:r}={}){this.time=s,this.Module=null,this.background=e,this.context=r,this.gif=t[0],this.result=null}static createWorker(e){const t=e;t.workerLoaded||t.worker||(t.worker=bt(),console.log("WASM start loading"),t.worker.then((e=>{t.workerLoaded=!0,t.worker=e})))}async perform(){It.createWorker(this.context);const e=await this.post("perform",[this.background,this.gif,this.time]);return e}async post(e,t=[]){return this.context.workerLoaded||await this.context.worker,this.context.worker.post(e,t)}}var kt=It;async function Ct(e,{toCanvas:t=!1,toVideo:s=!1,onlyPicture:r=!1}={}){this.api.events.$emit("preSave");const n=this.group.findOne(".QuestionBlock");n&&!r&&n.destroy();const a=s?2e3:1200,i=this.gifs.storage.length,o=(i||s)&&!r&&this.image.width()>a?100/this.image.width()*a/100:1;if(this.stage.scale({x:o,y:o}),this.deepArSettings.ratio=o,this.stage.size({width:this.stage.width(),height:this.stage.height()}),(i||s)&&!r){const e=this.gifs.storage[0],t=this.group.toCanvas({x:this.image.x()*o-this.image.width()*o/2+this.group.x()*o,y:this.image.y()*o-this.image.height()*o/2+this.group.y()*o,width:this.image.width()*o,height:this.image.height()*o,pixelRatio:1});this.api.events.$emit("showGifs");const r=t.getContext("2d"),n=r.getImageData(0,0,t.width,t.height),a=[];if(e&&!s){const t=e.buffer,s=this.image.getClientRect(),r=e.konva.getClientRect(),n=r.x-s.x,i=r.y-s.y,c=e.konva.width()*e.konva.scaleX()*o,d=e.konva.height()*e.konva.scaleX()*o,u=-1*e.konva.rotation();a.push({gifBuffer:t,x:n,y:i,width:c,height:d,rotation:u})}this.methods.normalizeStageFile();const i=new kt({backgroundImageData:n,gifs:a,context:this.gifs}),c=await new Promise((e=>{const t=setTimeout((()=>{this.logError(new Error("Too long init video")),alert("Something went wrong. Please try again"),window.hidePreloader(),e(!1)}),2e4);i.perform().then((s=>{clearTimeout(t),e(s)})).catch((e=>(this.logError(e),alert("Something went wrong. Please try again"),window.hidePreloader(),!1)))}));return{mime:"video/mp4",blob:c}}const c=this.group[t?"toCanvas":"toDataURL"]({x:this.image.x()-this.image.width()/2+this.group.x(),y:this.image.y()-this.image.height()/2+this.group.y(),width:this.image.width(),height:this.image.height(),pixelRatio:1,mimeType:"image/jpeg"});if(this.methods.normalizeStageFile(),!t){const e=c.split(","),t=((e[0]||"").match(/:(.*?);/)||[])[1],s=atob(e[1]);let r=s.length;const n=new Uint8Array(r);while(r--)n[r]=s.charCodeAt(r);return{mime:t,buffer:n,dataURL:c}}return{canvas:c}}var Tt=Ct;async function $t(){const e="new_file",t=await this.methods.imageFromGroup(!0);let s=t.mime.split("/")[1];if("mp4"===s&&(s="gif"),t.buffer)return new File([t.buffer],`${e}.${s}`,{type:t.mime});if(t.blob){const r=await new Promise((e=>{const s=new FileReader;s.onload=t=>{e(t.target.result)},s.readAsArrayBuffer(t.blob)}));return new File([r],`${e}.${s}`,{type:t.mime})}return!1}var Lt=$t;function Mt(e,t,s){t.shadows&&t.shadows.destroy();let r=s.getClientRect();r={x:r.x,y:r.y,height:r.height/this.imageConf.ratio,width:r.width/this.imageConf.ratio};let n=e.getClientRect();n={x:n.x,y:n.y,height:n.height/this.imageConf.ratio,width:n.width/this.imageConf.ratio};const a=2*r.width+n.width,i=n.height,o=a,c=i,d=r.width,u=n.height,l=d,m=u,h=n.x+(e.x()-(n.x+s.x()))-d,f=n.y+(e.y()-(n.y+s.y()))-i,p=h,g=n.y+(e.y()-(n.y+s.y()))+c,y=n.x?n.x+(e.x()-(n.x+s.x()))-d:0-d,S=n.y+(e.y()-(n.y+s.y())),P=n.x?n.x+(e.x()-(n.x+s.x()))+n.width:n.width,v=n.y+(e.y()-(n.y+s.y())),w=J({x:h,y:f,height:i,width:a}),b=J({x:p,y:g,height:c,width:o}),I=J({x:y,y:S,height:u,width:d}),k=J({x:P,y:v,height:m,width:l});return t.shadows=new N.Group,t.shadows.add(w),t.shadows.add(b),t.shadows.add(I),t.shadows.add(k),this.group.add(t.shadows),!0}var _t=Mt;async function At(e,t={}){Object.keys(this.gifs.storage).length&&(this.gifs.storage[0].konva.destroy(),this.gifs.storage=[]),window.showPreloader(),kt.createWorker(this.gifs);const s=await se.call(this,e,this.layer);t.childX&&s.gif.x(t.childX),t.childY&&s.gif.y(t.childY),t.id&&(s.gif.historyId=t.id),t.rotation&&s.gif.rotation(t.rotation);const{group:r}=ye.call(this,s.gif);this.api.events.$on("preSave",(()=>{r.hide()})),this.gifs.storage.push({konva:s.gif,buffer:s.buffer}),t.x&&r.x(t.x),t.y&&r.y(t.y),this.api.events.$on("showGifs",(()=>{r.show()})),this.api.events.$emit("gifAdded",this.gifs.storage.gif),!0===this.settings.saveAsCopy&&this.api.events.$emit("saveAsCopyPermToggle",!1),this.logAction("gif add"),window.hidePreloader()}const xt=e=>{const t=2,s=/(\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])/;let r=(e.displayName||e.name).trim();const n=[];if(r){const e=r.split(/\s+/);if(!(e.length>1))return r=r.replace(s,""),r.substr(0,Math.min(r.length,t)).split("").map(((e,t)=>t?e:e.toUpperCase())).join("");for(let r=0;r<Math.min(e.length,t);r+=1){const t=[...e[r].toString().trim()][0];(n.length<1||!s.exec(n[0])&&!s.exec(t))&&n.push(t)}}return n.join("").toUpperCase()};function Ft(e,t,s){this.questionOnBlurHandler&&this.api.events.$root.$off("imageEditor::question::blur",this.questionOnBlurHandler),this.hide&&this.api.events.$root.$off("imageEditor::question::focus",this.hide);const r=this.api.$store.getters["auth/authUser"],{avatarThumbs:n}=r,a=this.image.width(),i=this.image.height(),o=a/i<=1,c=(o?.5*a:.25*a)/.9,d=332,u=a/2,l=i/2,m=.08*c,h=m+c/100,f=16*c/d,p=24*f/16,g=20*f/16,y=c/10-f,S=.42*p-f,P=u-c/2,v=l,w=e=>{const n=new ot.Label({x:P,y:v,width:c}),o=new ot.Label({x:(c-m)/2,width:c});o.add(new le.Circle({radius:h,fill:"white",stroke:"#8a96a340",strokeWidth:1})),e?o.add(new le.Circle({radius:m,fillPatternImage:e,fillPatternRepeat:"no-repeat",fillPatternScaleX:2*m/e.width,fillPatternScaleY:2*m/e.width,fillPatternOffsetX:e.width/2,fillPatternOffsetY:e.width/2})):(o.add(new le.Circle({radius:m,fill:"#8a96a31f"})),o.add(new ct.Text({fill:"#00aff0",fontStyle:"bold",padding:-g/2,verticalAlign:"middle",text:xt(r),fontSize:g,width:.9*c})));const d=new ot.Label({y:y}),u=new ct.Text({fill:"#00aff0",fontStyle:"normal",text:"Ask me a question",align:"center",verticalAlign:"middle",fontSize:p,width:c-2*f,padding:f,lineHeight:1.25});d.add(u);const l=new ot.Label({x:.05*c}),w=new ot.Tag({fill:"#8a96a340",cornerRadius:c/50});l.add(w),l.add(new ct.Text({fill:"#8a96a3",text:"write something...",align:"center",width:.9*c-2*f,padding:f,fontSize:f}));const b=new ot.Tag({fill:"rgba(255,255,255,1)",cornerRadius:c/50,width:c,stroke:"#8a96a340",strokeWidth:1}),I=new ot.Label({name:"QuestionBlock"});n.add(b),n.add(o),n.add(d),n.add(l),I.add(n),null!==t&&void 0!==t&&t.id&&(I.historyId=t.id);const{group:k}=ye.call(this,I,!0),C=(e,t)=>{const s=e/this.image.width(),r=t/this.image.height();this.api.events.$root.$emit("imageEditor::question::updateCoords",{x:s,y:r,width:c})},T=()=>{const{x:e,y:t}=k.position(),s=e-c/2+this.image.width()/2,r=t+this.image.height()/2,n=b.getHeight();let o,d;s<0&&(o=0),s>a-.9*c&&(o=a-.9*c),r<h&&(d=h),r>i-n&&(d=i-n);const u=void 0!==o?o:s,l=void 0!==d?d:r;if(void 0!==o||void 0!==d){const e=u+c/2-this.image.width()/2,t=l-this.image.height()/2;k.position({x:e,y:t})}C(u,l)};function $(){k.show(),k.parent.parent.draw()}this.hide=()=>{k.hide(),k.parent.parent.draw()},this.questionOnBlurHandler=e=>{I.text=e||"Ask me a question",u.setAttr("text",I.text);const t=u.getHeight(),s=l.getHeight();l.setY(t+y+S),w.setHeight(s);const r=t+s+y+S+.05*c;b.setHeight(r),$()};const L=()=>{this.api.events.$root.$emit("imageEditor::question::focus")};return this.api.events.$root.$on("imageEditor::question::focus",this.hide),this.api.events.$root.$on("imageEditor::question::blur",this.questionOnBlurHandler),k.on("dragend",T),k.on("click",L),k.on("tap",L),T(),this.hide(),t&&!t.disableClickHandler&&L(),s&&this.questionOnBlurHandler(s),this.logAction("question add"),this.methods.normalizeStageFile(),k};if(n){const e=new Image;e.src=n.c192||n.c144,e.onload=()=>{w(e)}}else w()}var Et=Ft;function Dt(){const{answer:e}=this.settings;if(!e)return;const t=this.image.width(),s=this.image.height(),r=332,n=t/s<=1,a=n?.5*t:.25*t,i=t/2,o=s/2,c=16*a/r,d=24*c/16,u=i-a/2,l=o,m=new ot.Label({x:u,y:l,width:a}),h=new ot.Label({width:a}),f=new ot.Tag({fill:"#262626",width:a,cornerRadius:a/50}),p=new ot.Tag({fill:"#262626",width:a,height:a/25}),g=new ct.Text({fill:"white",text:e.question,align:"center",width:a,padding:c,fontSize:c});h.add(f),h.add(p),h.add(g);const y=new ot.Label({width:a}),S=new ot.Tag({fill:"white",width:a,cornerRadius:a/50,stroke:"#8a96a340",strokeWidth:1}),P=new ot.Tag({fill:"white",width:a,height:a/25}),v=new ct.Text({fill:"#262626",text:e.text,align:"center",width:a,padding:d,fontSize:d});y.add(S),y.add(P),y.add(v);const w=new ot.Label({name:"AnswerBlock"});m.add(h),m.add(y),w.add(m);const{group:b}=ye.call(this,w,!0);b.draggable(!0),b.parent.parent.draw();const I=g.getHeight();f.setHeight(I),p.setY(I-a/25);const k=v.getHeight();y.setY(I),S.setHeight(k),b.on("dragend",(()=>{const{x:e,y:r}=b.position(),n=e-a/2+this.image.width()/2,i=r+this.image.height()/2,o=I+k;let c,d;n<0&&(c=0),n>t-a&&(c=t-a),i<0&&(d=0),i>s-o&&(d=s-o);const u=void 0!==c?c:n,l=void 0!==d?d:i;if(void 0!==c||void 0!==d){const e=u+a/2-this.image.width()/2,t=l-this.image.height()/2;b.position({x:e,y:t})}})),b.parent.parent.draw(),this.logAction("answer add")}var Ut=Dt;const Ot={moveableObject:{create:{undo({options:e}){const{konva:t}=this.history.moveableObjects[e.id];t.destroy(),"gif"===e.name&&(this.gifs.storage=[])},redo({options:e}){if("sticker"===e.name)this.methods.addSticker(e.source,{id:e.id});else if("gif"===e.name)this.methods.addGif(e.source,{id:e.id});else if("label"===e.name)this.methods.addText(e.source,{id:e.id});else if("QuestionBlock"===e.name){const t=Object.entries(this.history.moveableObjects).map((e=>e[1])),s=t.find((e=>{var t;return"QuestionBlock"===(null===(t=e.konva.children[0])||void 0===t?void 0:t.attrs.name)}));s&&s.konva.destroy(),this.methods.addQuestion(e.source,e)}else"AnswerBlock"===e.name&&this.methods.addAnswer()}},modifyPosition:{undo({options:e}){const{konva:t}=this.history.moveableObjects[e.id];Object.keys(e.from).forEach((s=>{"function"===typeof t[s]&&t[s](e.from[s])}))},redo({options:e}){const{konva:t}=this.history.moveableObjects[e.id];Object.keys(e).forEach((s=>{"function"===typeof t[s]&&t[s](e[s])}))}},modifyRotation:{undo({options:e}){const{konva:t}=this.history.moveableObjects[e.id];let s;t.children.each((e=>{"Circle"!==e.className&&(s=e)})),Object.keys(e.from).forEach((t=>{"function"===typeof s[t]&&s[t](e.from[t])}))},redo({options:e}){const{konva:t}=this.history.moveableObjects[e.id];let s;t.children.each((e=>{"Circle"!==e.className&&(s=e)})),Object.keys(e).forEach((t=>{"function"===typeof s[t]&&s[t](e[t])}))}},delete:{undo({options:e}){"sticker"===e.name?this.methods.addSticker(e.source,e):"gif"===e.name?this.methods.addGif(e.source,e):"label"===e.name?this.methods.addText(e.source,e):"QuestionBlock"===e.name?this.methods.addQuestion(e.source,e):"AnswerBlock"===e.name&&this.methods.addAnswer()},redo({options:e}){const{konva:t}=this.history.moveableObjects[e.id];t.destroy(),"gif"===e.name&&(this.gifs.storage=[])}},modifyAttrs:{undo({options:e}){const{konva:t}=this.history.moveableObjects[e.id];if("label"===e.name){let s=null;t.children.each((e=>{"Label"===e.className&&(s=e)})),s&&(s.x(e.from.x),s.y(e.from.y),s.children.each((t=>{const s=e.from[t.className];s&&Object.keys(s).forEach((e=>{t[e](s[e])}))})))}},redo({options:e}){const{konva:t}=this.history.moveableObjects[e.id];if("label"===e.name){let s=null;t.children.each((e=>{"Label"===e.className&&(s=e)})),s&&(s.x(e.source.x),s.y(e.source.y),s.children.each((t=>{const s=e.source[t.className];s&&Object.keys(s).forEach((e=>{t[e](s[e])}))})))}}}},image:{modify:{async undo({options:e}){this.image.destroy(),await this.methods.proceedFile(e.from,100,!0),de.call(this).forEach((e=>{this.api.events.$emit("showGifs"),e.show(),e.moveToTop(),e.parent.moveToTop()}))},async redo({options:e}){this.image.destroy(),await this.methods.proceedFile(e.to,100,!0),de.call(this).forEach((e=>{this.api.events.$emit("showGifs"),e.show(),e.moveToTop(),e.parent.moveToTop()}))}}},deepAr:{vector:{async undo({options:e}){this.deepAr.changeParameterVector.apply(null,e.to),this.deepArSettings.category=e.fromState.category,this.deepArSettings.foundation=e.fromState.foundation,this.deepArSettings[`${e.fromState.category}sub`]=e.fromState.subcategory,this.deepAr.changeParameterFloat("face_makeup","MeshRenderer","foundationLumaClamp",e.oldLumaValue),e.oldLumaValue?this.deepArSettings.foundationIndex=e.fromState.index:this.deepArSettings.foundationIndex=e.fromState.shouldSaveIndex?e.fromState.index:-1,this.deepArSettings.foundationColorsMapStates[`${e.fromState.foundation}${this.deepArSettings.foundationColorsMap[e.fromState.foundation][e.fromState.index].join(",")}`]=e.oldLumaValue,this.deepArSettings.foundation=e.fromState.foundation,this.api.events.$emit("deepArRerender")},async redo({options:e}){this.deepAr.changeParameterVector.apply(null,e.to),this.deepArSettings.category=e.toState.category,this.deepArSettings.foundation=e.toState.foundation,e.lumaValue?this.deepArSettings.foundationIndex=e.toState.index:this.deepArSettings.foundationIndex=e.toState.shouldSaveIndex?e.toState.index:-1,this.deepArSettings[`${e.toState.category}sub`]=e.toState.subcategory,this.deepAr.changeParameterFloat("face_makeup","MeshRenderer","foundationLumaClamp",e.lumaValue),this.deepArSettings.foundationColorsMapStates[`${e.toState.foundation}${this.deepArSettings.foundationColorsMap[e.toState.foundation][e.toState.index].join(",")}`]=e.lumaValue,this.api.events.$emit("deepArRerender")}},parameter:{async undo({options:e}){this.deepArSettings[e.from[0]][e.from[2].replace("blendShape1.","")]=e.shouldReverse?-1*e.from[3]:e.from[3],this.deepArSettings.category=e.category,this.deepArSettings[`${e.category}sub`]=e.subcategory,e.subsubcategory?this.deepArSettings[`${e.category}subsub`]=e.subsubcategory:this.deepArSettings[`${e.category}subsub`]=!1,this.deepAr.changeParameterFloat.apply(null,e.from),this.api.events.$emit("deepArRerender")},async redo({options:e}){this.deepArSettings[e.to[0]][e.to[2].replace("blendShape1.","")]=e.shouldReverse?-1*e.to[3]:e.to[3],this.deepArSettings.category=e.category,this.deepArSettings[`${e.category}sub`]=e.subcategory,e.subsubcategory?this.deepArSettings[`${e.category}subsub`]=e.subsubcategory:this.deepArSettings[`${e.category}subsub`]=!1,this.deepAr.changeParameterFloat.apply(null,e.to),this.api.events.$emit("deepArRerender")}}}};async function Rt(e,t){const s=t?this[`history${t}`]:this.history;await new Promise((async r=>{const n=s[e][s[e].length-1];await Ot[n.type][n.stateType][e].call(this,n,t),this.layer.batchDraw(),s.pop(e);const a=s.undo.length;s.undo=s.undo.slice(-15),s.redo=s.redo.slice(-15),t||a===s.undo.length||(s.didClear=!0),setTimeout((()=>{r()}),100)}))}var Zt=Rt;function Bt(){const e=Object.assign({},r),t=this;for(const s in e)e[s]=function(...e){try{const n=r[s].apply(t,e);return n&&n.catch&&n.catch((e=>{t.logError(e,!0)})),n}catch(n){t.logError(n)}};return e}var jt=s(888638);const Wt=function(){return!(0===this.history.undo.length&&!this.history.didClear)};function qt(e){const t=()=>{Object.keys(this.historyBlobs).forEach((e=>{window.URL.revokeObjectURL(e)}))};this.sendFile=async(s,r)=>{this.api.isStory||window.showPreloader();const n=r?e:await this.methods.createFileType(`${e.name}_edited`);n&&(this.resolve({didModify:Wt.call(this),asCopy:s,file:n}),this.logAction("file resolved",{asCopy:s}),t()),window.hidePreloader()},this.rejectFile=(s={})=>{this.reject({didModify:!1,asCopy:!1,retake:!1,...s,file:e}),this.logAction("file rejected"),t()},this.logAction=e=>{try{(0,jt.Ck)({page:`ImageEditor_${e.replace(" ","-")}`,eventTime:(new Date).toISOString()})}catch(t){console.error(t)}},this.logError=(e,t)=>{Sentry.withScope((t=>{t.setTag("ImageEditor",!0),Sentry.captureException(e)})),t||console.error(e)}}function Vt(e){const t=this;this.viewState={screen:"default",longTap:!1,isRotatingMoveable:!1},this.imageConf={ratio:1,shadows:null,html:null},this.userActions={shapeIsDraging:null,shapeIsRotating:null,selectedShape:null,oldRotation:0},this.gifs={storage:[],workerLoaded:!1,worker:null};const s={width:0,height:0,ratio:1,category:"makeup",makeupsub:"smooth",facesub:!1,facesubsub:!1,foundationColorsMapStates:{},face_makeup:{smoothingAmount:.3},beauty_shapes:{eyebrows_thickness:0,upper_position_alt:0,eyebrows_position:0,mouth_horizontal:0,jawline:0,mouth_vertical:0,thin:0,nose:0,mouth:0,eyes:0,chin:0},foundation:"light",foundationColorsMap:{light:[[255,250,231,1],[247,221,195,1],[230,184,172,1],[243,205,165,1],[244,205,162,1],[246,212,158,1],[215,189,137,1]],medium:[[220,182,148,1],[182,137,104,1],[233,154,99,1],[200,130,88,1],[217,150,104,1],[156,120,75,1]],dark:[[163,117,93,1],[137,110,83,1],[101,68,38,1],[85,63,39,1],[96,55,40,1]]},foundationIndex:-1};this.deepAr=null,this.deepArSettings=JSON.parse(JSON.stringify(s)),this.resetDeepArSettings=()=>{this.deepArSettings=JSON.parse(JSON.stringify(s))},this.cropState={cropOrientation:"portrait",cropRelationActive:1,cropRelations:[[9,16],[2,3],[3,4],[1,1]],cropXSide:1,cropYSide:1,cropRect:null,shadows:null,maxImageScale:200,minImageScale:50},Object.defineProperty(this.cropState,"imageSizeComp",{get(){return 100*+t.image.scaleX()},set(s){t.image.cropReset=!1,t.image.scale({x:+s/100,y:+s/100}),t.layer.batchDraw(),e.events.$emit("imageSizeViewChange",s)}}),e.events.$on("imageSizeStateChange",(e=>{this.cropState.imageSizeComp=e})),Object.defineProperty(this.cropState,"imageRotateComp",{get(){return+t.image.rotation()},set(s){t.image.rotation(+s),t.layer.batchDraw(),e.events.$emit("imageRotateViewChange",s)}}),e.events.$on("imageRotateStateChange",(e=>{this.cropState.imageRotateComp=e})),this.overlayState={leftColor:"blue",rightColor:"pink",colors:{white:"255,255,255",black:"0,0,0",blue:"56,151,241",green:"112,192,79",yellow:"253,203,92",orange:"252,141,51",pink:"209,7,106",purple:"162,7,186",transparent:"0,0,0"},overlayRect:null,overlayOpacity:.3,overlayRotation:0,overlayReset:!1},Object.defineProperty(this.overlayState,"overlayOpacityComputed",{get(){return 100*t.overlayState.overlayOpacity},set(e){t.overlayState.overlayReset=0===e,t.overlayState.overlayOpacity=e/100,t.overlayState.overlayRect.opacity(t.overlayState.overlayOpacity),t.layer.batchDraw()}}),Object.defineProperty(this.overlayState,"overlayRotationComputed",{get(){return+t.overlayState.overlayRotation},set(e){t.overlayState.overlayRotation=+e;const s=t.methods.getOverlayGradientCoordinates();t.overlayState.overlayRect.fillLinearGradientStartPoint(s.startPoint),t.overlayState.overlayRect.fillLinearGradientEndPoint(s.endPoint),t.layer.batchDraw()}}),this.textState={currentText:"",defaultTextFontSize:18,currentLabel:null,textAlign:"left",textBold:"regular",rightTextColor:"white",textBackgroundColor:"black",textBackground:!1,afterTextRotate:!1},Object.defineProperty(this.textState,"size",{get(){return t.textState.currentText?t.textState.currentText.fontSize()*t.imageConf.ratio:t.textState.defaultTextFontSize},set(e){const s=document.getElementById("textEditArea");if(s){s.style.fontSize=`${e}px`;const r=t.methods.calcTextAreaParams(s);s.style.width=`${r.width}px`,s.style.height=`${r.height}px`,s.style.left=`${r.x}px`,s.style.top=`${r.y}px`}const r=t.textState.currentLabel.position().x+t.textState.currentLabel.width()/2,n=t.textState.currentLabel.position().y+t.textState.currentLabel.height()/2;t.textState.currentText.fontSize(e/t.imageConf.ratio),t.textState.currentLabel.x(r-t.textState.currentLabel.width()/2),t.textState.currentLabel.y(n-t.textState.currentLabel.height()/2),t.layer.batchDraw()}})}var Nt=s(502568);function Ht(){const e={[this.history.initialImageUrl]:!0},t=this.history.undo.filter(((e={})=>"image"===e.type&&"modify"===e.stateType)),s=this.history.redo.filter(((e={})=>"image"===e.type&&"modify"===e.stateType));t.concat(s).forEach((t=>{e[t.options.from]=!0,e[t.options.to]=!0})),Object.keys(this.historyBlobs).forEach((t=>{e[t]||(window.URL.revokeObjectURL(t),delete this.historyBlobs[t])}))}function zt(e){return{x:e.x(),y:e.y(),rotation:e.rotation(),scaleX:e.scaleX(),scaleY:e.scaleY(),name:e.name(),source:e.historySource,from:e.from}}function Xt(e,t){const s=!e.historyId,r=e.historyId||(0,Nt.Z)(),n={id:r,konva:e};return this.history.moveableObjects[r]=n,s?(this.history.push("moveableObject","create",r,this.history.normalizeMoveableObject(t)),n):n}function Gt(e,t,s,r){this.history.undo.length||(this.history.redo=[]),this.history.undo.push({type:e,stateType:t,options:{...r,id:s}}),Ht.call(this)}function Yt(e){const t="undo"===e?"redo":"undo",s=this.history[e].pop();s&&this.history[t].push(s)}function Kt(){this.history={moveableObjects:{},normalizeMoveableObject:zt,installMoveableObject:Xt.bind(this),undo:[],redo:[],push:Gt.bind(this),pop:Yt.bind(this),initialImageUrl:"",currentImageUrl:"",didClear:!1},this.historyBlobs={}}function Qt(e,t){let s;const r=this,n=()=>{!0!==this.viewState.isDraggingMoveable&&(clearTimeout(s),s=null,this.viewState.longTap=!1,document.removeEventListener("mouseup",n),document.removeEventListener("touchend",n))},a=e=>{(t||"editable_image"===e.target.attrs.id)&&(e.evt&&e.evt.touches&&e.evt.touches.length>1||(s=setTimeout((()=>{!0!==r.viewState.isRotatingMoveable&&(document.addEventListener("mouseup",n),document.addEventListener("touchend",n),this.viewState.longTap=!0)}),600)))};let i=t?"addEventListener":"on";e[i]("mousedown",a),e[i]("touchstart",a),e[i]("mouseup",n),e[i]("touchend",n)}var Jt=Qt;function es({$el:e,file:t,api:s,config:r,resolve:n,reject:a,settings:i}){window.Konva.hitOnDragEnabled=!0,window.Konva.captureTouchEventsEnabled=!0;const o=X(t.name),c=H.call(this),d=e.getStage();o.lock=!1,o.add(c),d.add(o),qt.call(this,t),this.methods=Bt.call(this),this.api=s,this.config=r,this.settings={saveAsCopy:!0,disableGifs:!1,...i},this.settingsPassed={saveAsCopy:!0,disableGifs:!1,takePhoto:!1,...i},this.image=null,this.group=c,this.layer=o,this.stage=d,this.resolve=n,this.reject=a,Kt.call(this),this.methods.proceedFile(t.url,100,t).then((()=>{s.events.$emit("mounted"),s.$commit("setIsMounted",!0),Jt.call(this,this.stage)})),Vt.call(this,s)}var ts=es;function ss(e,t,s,r,n,a){return{namespaced:!0,state:{file:e},actions:{setUpStage(i,{$el:o,config:c}){t[e.name]=new ts({$el:o,file:e,api:s,config:c,resolve:r,reject:n,settings:a})}}}}function rs(e){const t={},s={namespaced:!0,state:{isOpen:!1,currentFilePath:null,currentFileName:null,isMounted:!1},getters:{isOpen(e){return e.isOpen},currentFile(e){return e.currentFilePath},currentFileName(e){return e.currentFileName}},mutations:{open(e,{fileName:t}){e.isOpen=!0,e.currentFilePath=`${B}/${t}`,e.currentFileName=t},close(e){e.isOpen=!1,e.currentFilePath="",e.currentFileName="",e.isMounted=!1},logout(){},setIsMounted(e,t){e.isMounted=t}},actions:{installFile({commit:s},{file:r,api:n,resolve:a,reject:i,settings:o}){e.registerModule([B,r.name],ss(r,t,n,a,i,o)),s("open",{fileName:r.name})},uninstallFile({commit:s},{fileName:r,send:n}){n&&t[r].sendFile(!1,!0),e.unregisterModule([B,r]),s("close"),delete t[r]}}};return e.registerModule(B,s),t}class ns{constructor(e,t){this.$store=e,this.events=null,Object.defineProperty(this,"currentFile",{get(){return e.getters[`${B}/currentFile`]}}),Object.defineProperty(this,"currentFileStage",{get(){return t[this.currentFileName]||{}}}),Object.defineProperty(this,"currentFileName",{get(){return e.getters[`${B}/currentFileName`]}}),Object.defineProperty(this,"isOpen",{get(){return e.getters[`${B}/isOpen`]}}),Object.defineProperty(this,"isMounted",{get(){return e.state[B].isMounted}})}$dispatch(e,t){return this.$store.dispatch(`${B}/${e}`,t)}$commit(e,t){return this.$store.commit(`${B}/${e}`,t)}$fileDispatch(e,t){return this.$store.dispatch(`${this.currentFile}/${e}`,t)}$fileCommit(e,t){return this.$store.commit(`${this.currentFile}/${e}`,t)}$installFile(e,t){const s=Object.assign({},e);this.events=new o["default"];const r=(0,yt.P)();return this.isStory=t.isStory,this.$dispatch("installFile",{file:s,api:this,resolve:r.resolve,reject:r.reject,settings:t}),document.body.classList.add("image-editor"),r.promise.finally((()=>{this.$uninstallFile(!1,!1)}))}$uninstallFile(e,t){return document.body.classList.remove("image-editor"),this.events.$destroy(),this.events=null,this.$dispatch("uninstallFile",{fileName:e?e.name:this.currentFileName,send:t})}}var as=ns,is=(s(470039),{install(e,{store:t}){const s=rs(t);e.prototype.$imageEditor=new as(t,s)}}),os={install(e,{store:t,i18n:s}){e.prototype.$tVat=(e,r={})=>{const n=t.getters["auth/authUser"].vatNumberName||"VAT";return s.t(e,{...r,VAT_NAME:n})}}},cs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{attrs:{id:e.id,size:"sm","hide-header-close":"","hide-header":!e.title,lazy:"",centered:"","body-class":e.bodyClass},on:{hidden:function(t){return e.$emit("closed")}},scopedSlots:e._u([{key:"modal-header",fn:function(){return[s("h4",{staticClass:"modal-title"},[e._v(" "+e._s(e.title)+" ")])]},proxy:!0},{key:"modal-footer",fn:function(){return[s("button",{staticClass:"g-btn m-flat m-btn-gaps m-reset-width",attrs:{type:"button"},on:{click:function(t){return e.$emit("deny")}}},[e._v(" "+e._s(e.denyText)+" ")]),s("button",{staticClass:"g-btn m-flat m-btn-gaps m-reset-width",on:{click:function(t){return e.$emit("confirm")}}},[e._v(" "+e._s(e.confirmText)+" ")])]},proxy:!0}]),model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[s("div",{staticClass:"dialog_message",domProps:{innerHTML:e._s(e.questionText)}})])},ds=[],us={name:"ModalInteract",props:{modalShow:{type:Boolean,required:!0},questionText:{type:String,default:""},confirmText:{type:String,default:""},denyText:{type:String,default:""},id:{type:String,default:""},title:{type:String,default:""}},computed:{show:{get(){return this.modalShow},set(e){this.$emit("update:modalShow",e)}},bodyClass(){return this.title?"m-reset-body-padding-top":""}},mounted(){this.$root.$emit("interact::show::modal")},beforeDestroy(){this.$root.$emit("interact::hide::modal")}},ls=us,ms=(0,h.Z)(ls,cs,ds,!1,null,null,null),hs=ms.exports;function fs(e,t={}){const s=Math.random().toString(36).substr(2,9),r=(0,yt.P)();return this.interactTasks.push({questionText:e,id:s,resolve:r.resolve,reject:r.reject,modalShow:!0,modalResult:!1,...t}),r.promise}var ps={install(e){const t={interactTasks:[]};e.component("InteractModal",{data(){return t},render(e){const t=this;return e("div",this.interactTasks.map((s=>e(hs,{props:{confirmText:s.confirmText||t.$t("message.confirm_button"),denyText:s.denyText||t.$t("message.cancel_button"),...s},on:{deny(){s.modalResult=!1,s.modalShow=!1},confirm(){s.modalResult=!0,s.modalShow=!1},closed(){t.interactTasks=t.interactTasks.filter((e=>e.id!==s.id)),window.enableBodyScroll();try{s.resolve(s.modalResult)}catch(e){}}}}))))}}),window.interact=fs.bind(t)}},gs=s(831147),ys=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("router-link",{attrs:{to:e.to,custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var r,n=t.href,a=t.isActive,i=t.isExactActive;return[s("a",e._b({class:(r={},r[e.$attrs["active-class"]]=e.$attrs["active-class"]&&a,r[e.$attrs["exact-active-class"]]=e.$attrs["exact-active-class"]&&i,r),attrs:{href:n},on:{click:function(t){return t.preventDefault(),e.clickHandler.apply(null,arguments)}}},"a",e.$attrs,!1),[e._t("default")],2)]}}],null,!0)})},Ss=[],Ps={name:"BaseLink",props:{to:{type:Object,required:!0}},methods:{clickHandler(){if(this.$route.name===this.to.name){const e={...this.to,query:{_:(new Date).getTime().toString()}};void 0!==this.$attrs.replace?this.$router.replace(e):this.$router.push(e),this.$router.replace({...this.to,query:{}})}else void 0!==this.$attrs.replace?this.$router.replace({...this.to}):this.$router.push({...this.to})}}},vs=Ps,ws=(0,h.Z)(vs,ys,Ss,!1,null,null,null),bs=ws.exports,Is=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("router-link",{attrs:{to:e.to,custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.href;return[s("a",{class:{"m-no-pointer":e.disabled},attrs:{href:r},on:{click:function(t){return t.preventDefault(),e.$emit("click")}}},[e._t("default")],2)]}}],null,!0)})},ks=[],Cs={name:"CustomLink",props:{to:{type:Object,required:!0},disabled:{type:Boolean,default:!1}}},Ts=Cs,$s=(0,h.Z)(Ts,Is,ks,!1,null,null,null),Ls=$s.exports;const Ms=e=>{const t=e.getAttribute("height")||"",s=e.getAttribute("width")||"";if(e.setAttribute("aria-hidden",!0),t||s){let r=t?`height:${t}px;`:"";r+=s?`width:${s}px;flex: 0 0 ${s}px;`:"",e.setAttribute("style",r)}if(!e.innerHTML){const t=e.getAttribute("class"),s=document.createElementNS("http://www.w3.org/2000/svg","use");s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",`${i.OT}${t}`),s.setAttribute("href",`${i.OT}${t}`);const r=e.getAttribute("fill")||"";r&&s.setAttribute("fill",r),e.appendChild(s)}const r=e.getAttribute("extra-class")||"";e.setAttribute("class",`g-icon ${r}`.trim())};var _s={install(e){const t={bind(e){Ms(e)},componentUpdated(e){e.classList.contains("g-icon")||(e.removeChild(e.lastElementChild),Ms(e))}};e.directive("svg-sprite",t)}},As=s(181528),xs=s(593081),Fs=s.n(xs),Es=s(885659),Ds=s.n(Es),Us=s(905615),Os=s(434573),Rs=s(718139);const Zs={async uploaderInit(){const{default:e}=await s.e(1671).then(s.bind(s,647102));return e.install(o["default"],{store:y.Z,i18n:Qs})},async perform(e){const t=await this.uploaderInit();return await t.perform(e)},async uploadToS3Async(e){const t=await this.uploaderInit();return await t.uploadToS3Async(e)}};var Bs=s(315223),js=s(975701),Ws=s(402226),qs=s(727484),Vs=s.n(qs),Ns=s(793634),Hs={unbind(e,t){t.value&&(0,Ns.C)(e)}},zs={inserted(e,t,s){if(!window.ResizeObserver)return;const r=a()(s,"componentInstance.swiperInstance",null);if(r){const t=r.el.querySelector(".swiper-wrapper");t&&(e.resizeObserver=new ResizeObserver((e=>{e.forEach((e=>{const{clientWidth:t,scrollWidth:s}=e.target;t<s?r.mousewheel.enable():r.mousewheel.disable()}))})),e.resizeObserver.observe(t))}},unbind(e){e.resizeObserver&&e.resizeObserver.disconnect()},update(e,t,s){const r=a()(s,"componentInstance.swiperInstance",null);if(r){const e=r.el.querySelector(".swiper-wrapper");e&&s.context&&s.context.$nextTick((()=>{const{clientWidth:t,scrollWidth:s}=e;t<s?r.mousewheel.enable():r.mousewheel.disable()}))}}},Xs=s(398340),Gs=s(499490),Ys=s(285088);Ys.isSafari&&s.e(523).then(s.t.bind(s,730523,23)).then((e=>{e.polyfill()})),(0,Us.em)(y.Z),Ws.ZP.load().then((e=>{e.get().then((e=>{M().set("fp",e.visitorId,{domain:".onlyfans.com",expires:"1Y"}),o["default"].prototype.$fp=e.visitorId,y.Z.commit("auth/setVisitorId",e.visitorId)}))})),o["default"].use(Rs.Z),o["default"].use(Ds()),o["default"].use(D.ZP),o["default"].use(gs.ZP,{autoHide:!0,disposeTimeout:100}),gs.ZP.enabled=!c.b,o["default"].config.productionTip=!1,o["default"].use(_s),o["default"].use(M()),o["default"].use(F.ZP),o["default"].use(A(),"wss://ws2.onlyfans.com/ws2/",{connectManually:!0,store:y.Z,reconnection:!0,reconnectionAttempts:5,reconnectionDelay:5e3,format:"json",passToStoreHandler(e,t){if(!e.startsWith("SOCKET_"))return;const s=e.toUpperCase(),r="SOCKET_ONMESSAGE"===s?"dispatch":"commit";this.store[r](`socket/${s}`,t)}}),o["default"].use(x.Z),o["default"].use(E.Z,{breakpoints:{sms:500,sm:768,md:1004,lg:1/0}}),o["default"].use(Os.ZP,{prefetch:!1});const Ks=o["default"].cookie.get("lang",{domain:".onlyfans.com"})||"en",Qs=new x.Z({locale:Ks,postTranslation:(e,t)=>{const s=a()(g.Z,"history.current.name"),{canTranslate:r}=y.Z.getters["init/getInit"]||{};return r&&setTimeout((()=>{y.Z.dispatch("translations/set",{routeName:s,code:t,value:e},{root:!0})})),e}});function Js(e){const t=(0,js.XP)({lang:e,rev:a()(y.Z.getters["init/getInit"],"textsRev")});return`${i.xm||"https://onlyfans.com"}/texts.js${t}`}async function er(e){const t=e=>{switch(e){case"zh":return"zh-cn";case"tw":return"zh-tw";default:return e}},r=t(e);"en"!==e&&await s(94739)(`./${t(e)}.js`),Vs().locale(r)}async function tr(e){await o["default"].loadScript(Js(e)),Qs.setLocaleMessage(e,{message:{...window.TEXTS}}),Qs.locale=e,document.documentElement.lang=e}async function sr(e){const t=e=>{switch(e){case"pt":return"pt_PT";case"zh":return"zh_CN";case"tw":return"zh_TW";default:return e}};return s(258373)(`./${t(e)}`)}async function rr(e,t){const s={[e]:{...t,messages:{...t.messages,email:()=>Qs.t("message.email_is_not_valid"),onlyLatin:()=>Qs.t("message.only_latin_allowed"),checkPassword:e=>Qs.t("message.check_password_validate",{FIELD:e}),minLength:(e,[t])=>Qs.t("message.minlength_validation_error",{LENGTH:t}),urls:()=>Qs.t("message.urls_validation_error"),cpfValidate:()=>Qs.t("message.cpf_validation_error"),checkCardHolderName:()=>Qs.t("message.invalid_cardholder_error"),twoWords:()=>Qs.t("message.invalid_cardholder_error"),confirmPassword:()=>Qs.t("message.passwords_not_match_message")},custom:{reportAbuseDesc:{min:()=>Qs.t("message.report_abuse_issue_minlength")}}}};$.cX.localize(e,s[e])}async function nr(e){try{const t=await sr(e);await er(e),await tr(e),Gs.Settings.defaultLocale=e,rr(e,t)}catch(t){(0,Bs.D)()}}async function ar(e){return window.TEXTS?o["default"].unloadScript(Js(Qs.locale)).then((()=>nr(e))):nr(e)}o["default"].use($.ZP),o["default"].component("BaseLink",bs),o["default"].component("CustomLink",Ls),o["default"].use(Fs(),{container:"body",duration:300,easing:"ease",offset:-100,force:!0,cancelable:!0,x:!1,y:!0}),o["default"].directive("dropdownAutohide",Hs),o["default"].directive("swiperMousewheel",zs),o["default"].use(U.m$),o["default"].use(O.k),o["default"].use(R.k,{BModal:{returnFocus:{}}}),o["default"].use(Z.kH),o["default"].use(is,{store:y.Z}),o["default"].use(os,{store:y.Z,i18n:Qs}),o["default"].filter("encodeHtml",As.HZ),o["default"].filter("removeTags",As.av),o["default"].filter("toLocalString",As.UH),o["default"].use(ps),o["default"].prototype.$env={NODE_ENV:"production",VUE_APP_SENTRY_DSN:"https://f2232e26d13941e8acf8cbdfab122f9b@bug2.onlyfans.com/3",VUE_APP_SENTRY_STREAMS_DSN:"https://37137398ef234f0f9af7d1547d785a7e@bug2.onlyfans.com/4",VUE_APP_DOMAIN:"",VUE_APP_TEXTS_DOMAIN:"https://onlyfans.com",VUE_APP_API:"onlyfans.com",VUE_APP_COOKIE_DOMIAN:"onlyfans.com",VUE_APP_WS:"wss://ws2.onlyfans.com",VUE_APP_STATIC:"https://static.onlyfans.com",VUE_APP_STATIC_DOMAINS:"https://static.onlyfans.com",VUE_APP_STAGE:"live",VUE_APP_REVISION:"202212072129-bda26c0f29",BASE_URL:"https://static.onlyfans.com/theme/onlyfans/spa/"},o["default"].prototype.$window=window,o["default"].prototype.$uploader=Zs,window.Sentry=S;const ir="202212072129-bda26c0f29";P.S({Vue:o["default"],environment:"live",dsn:"https://f2232e26d13941e8acf8cbdfab122f9b@bug2.onlyfans.com/3",ignoreErrors:[/Function\.seal/,/Object\.seal/,"ResizeObserver loop limit exceeded",/instantSearchSDKJSBridgeClearHighlight/,/DolphinBrowserFillData/,/setIOSParameters/,/_AutofillCallbackHandler/,/play\(\)/,"cannot find the <li> container for the click",/PaymentAutofillConfig/],normalizeDepth:5,release:ir,autoSessionTracking:!1,attachProps:!0,transport:v.f,stackParser:w.Dt,integrations:[...b.SS,new I.I],tracesSampleRate:1,beforeSend(e,t){const s=t.originalException;if(s&&"silent"===s.message)return null;if("Timeout"===s)return null;const r=JSON.stringify(t);return r.indexOf("Object.seal")>-1||document.documentMode||r.indexOf("null is not an object (evaluating 'e.scrollTop')")>-1||"Non-Error exception captured with keys: config, data, headers, request, status"===a()(e,"exception.values[0].value")?null:"true"==={NODE_ENV:"production",VUE_APP_SENTRY_DSN:"https://f2232e26d13941e8acf8cbdfab122f9b@bug2.onlyfans.com/3",VUE_APP_SENTRY_STREAMS_DSN:"https://37137398ef234f0f9af7d1547d785a7e@bug2.onlyfans.com/4",VUE_APP_DOMAIN:"",VUE_APP_TEXTS_DOMAIN:"https://onlyfans.com",VUE_APP_API:"onlyfans.com",VUE_APP_COOKIE_DOMIAN:"onlyfans.com",VUE_APP_WS:"wss://ws2.onlyfans.com",VUE_APP_STATIC:"https://static.onlyfans.com",VUE_APP_STATIC_DOMAINS:"https://static.onlyfans.com",VUE_APP_STAGE:"live",VUE_APP_REVISION:"202212072129-bda26c0f29",BASE_URL:"https://static.onlyfans.com/theme/onlyfans/spa/"}.VUE_APP_DEBUG?(console.error(t.originalException||t.syntheticException),null):e}}),k.e((e=>{e.setTag("domain","onlyfans.com")})),window.SentryStreams=new C.Xb(new T.R({Vue:o["default"],environment:"live",dsn:"https://37137398ef234f0f9af7d1547d785a7e@bug2.onlyfans.com/4",ignoreErrors:[/Function.seal/,/Object.seal/,"ResizeObserver loop limit exceeded"],normalizeDepth:5,release:ir,transport:v.f,stackParser:w.Dt,attachProps:!0,integrations:[...b.SS,new I.I],beforeSend(e,t){return"true"==={NODE_ENV:"production",VUE_APP_SENTRY_DSN:"https://f2232e26d13941e8acf8cbdfab122f9b@bug2.onlyfans.com/3",VUE_APP_SENTRY_STREAMS_DSN:"https://37137398ef234f0f9af7d1547d785a7e@bug2.onlyfans.com/4",VUE_APP_DOMAIN:"",VUE_APP_TEXTS_DOMAIN:"https://onlyfans.com",VUE_APP_API:"onlyfans.com",VUE_APP_COOKIE_DOMIAN:"onlyfans.com",VUE_APP_WS:"wss://ws2.onlyfans.com",VUE_APP_STATIC:"https://static.onlyfans.com",VUE_APP_STATIC_DOMAINS:"https://static.onlyfans.com",VUE_APP_STAGE:"live",VUE_APP_REVISION:"202212072129-bda26c0f29",BASE_URL:"https://static.onlyfans.com/theme/onlyfans/spa/"}.VUE_APP_DEBUG?(console.error(t.originalException||t.syntheticException),null):e}})),SentryStreams.configureScope((e=>{e.setTag("domain","onlyfans.com")})),Date.prototype.toISOString||function(){function e(e){return e<10?`0${e}`:e}Date.prototype.toISOString=()=>`${this.getUTCFullYear()}-${e(this.getUTCMonth()+1)}-${e(this.getUTCDate())}T${e(this.getUTCHours())}:${e(this.getUTCMinutes())}:${e(this.getUTCSeconds())}.${(this.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)}Z`}(),window.publicPath="/theme/onlyfans/spa/";var or=new o["default"]({router:g.Z,store:y.Z,i18n:Qs,vuetify:Xs.Z,render:e=>e(p)}).$mount("#app")},729746:function(e,t){"use strict";t["Z"]={methods:{luhnCheck(e){if(!e)return!1;let t=0,s=0,r=!1;for(let n=e.length-1;n>=0;n-=1){const a=e.charAt(n);s=parseInt(a,10),r&&(s*=2)>9&&(s-=9),t+=s,r=!r}return t%10===0}}}},905615:function(e,t,s){"use strict";s.d(t,{S_:function(){return c},em:function(){return u},nI:function(){return d}});var r=s(999023),n=s(422592),a=s(12954),i=s(619849),o=s(729746);const c={beforeCreate(){this.$validator.extend("usernameValidator",{getMessage:e=>`${e} is not available.`,validate:e=>new Promise((t=>{if(e===this.authUser.username)return void t({valid:!0});if(e.length<5)return void t({valid:!1});if(e===`${this.userLoginPrefix}${this.authUserId}`)return void t({valid:!0});const s=new RegExp(`^${this.userLoginPrefix}\\d+$`),n=new RegExp("^id\\d+$"),a=new RegExp("^[a-z](?:[._-]?[a-z0-9]+)+$","i");if(s.test(e)||n.test(e)||!a.test(e))return void t({valid:!1});const i={...this.existedUsernames};if(i[e]){const{valid:s}=i[e];if(!s||i[e].checkDate>=+new Date-6e5)return void t({valid:s});delete i[e],this.setExistedUsernames(i)}(0,r.eP)(e).then((({success:s})=>{i[e]={valid:!s},s||(i[e].checkDate=+new Date),this.setExistedUsernames(i),t({valid:!s})})).catch((()=>{t({valid:!0})}))}))},{immediate:!1})},computed:{...(0,i.ri)(["authUser","authUserId"]),...(0,i.Si)(["existedUsernames"]),usernameValidate(){const e=this.username!==this.authUser.username&&24;return{max:e,usernameValidator:!0}}},methods:{...(0,i.p9)(["setExistedUsernames"])}},d=(o.Z,{mounted(){this.$validator.extend("minCardLength",{getMessage:(e,t)=>this.$t("message.card_numbed_min_length_error",{FIELD:e,COUNT:t[0]}),validate:(e,t)=>n.VV.validate(e.replace(/\s/g,""),t)}),this.$validator.extend("maxCardLength",{getMessage:(e,t)=>this.$t("message.card_numbed_max_length_error",{FIELD:e,COUNT:t[0]}),validate:(e,t)=>n.Fp.validate(e.replace(/\s/g,""),t)})}}),u=e=>{a.cX.extend("checkPassword",{validate:e=>{const t=new RegExp(/(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}/);return t.test(e)}}),a.cX.extend("minLength",{validate(e,[t]){return e.length>=t}}),a.cX.extend("urls",{validate:e=>!e.split(/[\s\n]/).filter((e=>e.length)).some((e=>!n.HQ.validate(e)))}),a.cX.extend("noturl",{validate:e=>!n.HQ.validate(e,{require_protocol:!0})}),a.cX.extend("notInPastTime",{validate:e=>{const t=new Date(e).getTime(),s=(new Date).getTime();return t>s}}),a.cX.extend("notInPastDate",{validate:e=>{const t=new Date(e).toDateString(),s=(new Date).toDateString(),r=new Date(e).getTime(),n=(new Date).getTime();return r>n||t===s}}),a.cX.extend("checkCardHolderName",{validate:t=>{const s=!new RegExp(/[^a-z'`\s\-.]+|['`\s\-.]{2}|['`\s\-.]$/gi).test(t.trim()),{cardholderStopwords:r}=e.getters["init/getInit"];if(r&&r.length){const e=new RegExp(`\\b${r.join("\\b|\\b")}\\b`,"gi");return!e.test(t)&&!n.Do.validate(t.trim())&&s}return!n.Do.validate(t.trim())&&s}}),a.cX.extend("twoWords",{validate:e=>e.split(" ").length>1}),a.cX.extend("confirmPassword",{validate:(e,[t])=>e===decodeURIComponent(t)})}},893577:function(e,t){"use strict";function s(e){const t=new window.Hammer(e,{domEvents:!0});return t.get("rotate").set({enable:!0}),t}t["Z"]=s},398340:function(e,t,s){"use strict";var r=s(720144),n=s(896482),a=s(963664);r["default"].use(n.Z),r["default"].directive("click-outside",a.L);const i={};t["Z"]=new n.Z(i)},590594:function(e,t,s){"use strict";s.d(t,{Z:function(){return ar}});var r=s(227361),n=s.n(r),a=s(720144),i=s(578345),o=s(114494),c=s(834253),d=s.n(c),u=s(550615),l=s(999023),m=s(161065);const h=e=>{const t=e.matched.slice().reverse().find((e=>e.meta&&e.meta.metaTags));Array.from(document.querySelectorAll("[data-page-meta]")).map((e=>e.parentNode.removeChild(e))),t&&t.meta.metaTags.map((e=>{const t=document.createElement("meta");return Object.keys(e).forEach((s=>{t.setAttribute(s,e[s])})),t.setAttribute("data-page-meta",""),t})).forEach((e=>document.head.appendChild(e)))};var f=h,p=s(437035);const g=()=>Promise.all([s.e(5768),s.e(6204),s.e(6787),s.e(5564),s.e(7403)]).then(s.bind(s,191567)),y=[{path:"/my/referrals",name:"Referrals",component:g,meta:{requiresReferrerAllowed:!0}},{path:"/my/referrals/return_from_referral",name:"ReturnFromReferral",beforeEnter:async(e,t,s)=>{await u.Z.dispatch("auth/logoutFromReferral"),"Referrals"===t.name?window.location.href="/my/referrals":(u.Z.commit("init/setNeededReload",!0),s({name:"Referrals"}))}}];var S=y;const P=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(5350),s.e(787),s.e(2201),s.e(9980),s.e(7549),s.e(7141),s.e(8926),s.e(7225),s.e(9250),s.e(9645),s.e(5052),s.e(7969),s.e(7222),s.e(7666),s.e(7725),s.e(3686),s.e(3166),s.e(5549),s.e(179)]).then(s.bind(s,315e3)),v=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(5350),s.e(787),s.e(2201),s.e(9980),s.e(7549),s.e(7141),s.e(8926),s.e(7225),s.e(9250),s.e(9645),s.e(5052),s.e(7969),s.e(7222),s.e(7666),s.e(7725),s.e(3686),s.e(3166),s.e(5549),s.e(179)]).then(s.bind(s,528684)),w=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(5350),s.e(787),s.e(2201),s.e(9980),s.e(7549),s.e(7141),s.e(8926),s.e(7225),s.e(9250),s.e(9645),s.e(5052),s.e(7969),s.e(7222),s.e(7666),s.e(7725),s.e(3686),s.e(3166),s.e(5549),s.e(179)]).then(s.bind(s,581842)),b=[{path:"/my/vault",name:"MediaVault",component:P,meta:{requiresPerformer:!0},children:[{path:"list/:list(\\d+)",name:"VaultCustomList"}]},{path:"/my/vault/media/:mediaId(\\d+)",name:"VaultMedia",component:w},{path:"/my/vault/list",name:"VaultLists",component:v,meta:{requiresPerformer:!0}}];var I=b;const k=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(5350),s.e(787),s.e(2201),s.e(9980),s.e(7549),s.e(7141),s.e(8926),s.e(7225),s.e(9250),s.e(9645),s.e(5052),s.e(7969),s.e(7222),s.e(7666),s.e(7725),s.e(3686),s.e(3166),s.e(5549),s.e(179)]).then(s.bind(s,136690)),C=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(5350),s.e(787),s.e(2201),s.e(9980),s.e(7549),s.e(7141),s.e(8926),s.e(7225),s.e(9250),s.e(9645),s.e(5052),s.e(7969),s.e(7222),s.e(7666),s.e(7725),s.e(3686),s.e(3166),s.e(5549),s.e(179)]).then(s.bind(s,320801)),T=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(5350),s.e(787),s.e(2201),s.e(9980),s.e(7549),s.e(7141),s.e(8926),s.e(7225),s.e(9250),s.e(9645),s.e(5052),s.e(7969),s.e(7222),s.e(7666),s.e(7725),s.e(3686),s.e(3166),s.e(5549),s.e(179)]).then(s.bind(s,873254)),$=[{path:"/action/restore_access_confirm",name:"RestoreAccess",component:k},{path:"/action/email/:emailType/:emailCode",name:"ConfirmEmail",component:T},{path:"/action/:trialType(trial|subscribe)/:code",name:"Trial",component:C}];var L=$;const M=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(5350),s.e(787),s.e(2201),s.e(9980),s.e(7549),s.e(7141),s.e(8926),s.e(7225),s.e(9250),s.e(9645),s.e(5052),s.e(7969),s.e(7222),s.e(7666),s.e(7725),s.e(3686),s.e(3166),s.e(5549),s.e(179)]).then(s.bind(s,423490)),_=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(5350),s.e(787),s.e(2201),s.e(9980),s.e(7549),s.e(7141),s.e(8926),s.e(7225),s.e(9250),s.e(9645),s.e(5052),s.e(7969),s.e(7222),s.e(7666),s.e(7725),s.e(3686),s.e(3166),s.e(5549),s.e(179)]).then(s.bind(s,180397)),A=[{path:"/queue",redirect:"/my/queue"},{path:"/my/schedule_message",redirect:"/my/queue"},{path:"/my/queue/:date?",name:"MyQueue",component:M,meta:{requiresPerformer:!0}},{path:"/saved-for-later",name:"SavedForLater",component:_,meta:{requiresPerformer:!0}}];var x=A;const F=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(5350),s.e(787),s.e(2201),s.e(9980),s.e(7549),s.e(7141),s.e(8926),s.e(7225),s.e(9250),s.e(9645),s.e(5052),s.e(7969),s.e(7222),s.e(7666),s.e(7725),s.e(3686),s.e(3166),s.e(5549),s.e(179)]).then(s.bind(s,320801)),E=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(5350),s.e(787),s.e(2201),s.e(9980),s.e(7549),s.e(7141),s.e(8926),s.e(7225),s.e(9250),s.e(9645),s.e(5052),s.e(7969),s.e(7222),s.e(7666),s.e(7725),s.e(3686),s.e(3166),s.e(5549),s.e(179)]).then(s.bind(s,419439)),D=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(5350),s.e(787),s.e(2201),s.e(9980),s.e(7549),s.e(7141),s.e(8926),s.e(7225),s.e(9250),s.e(9645),s.e(5052),s.e(7969),s.e(7222),s.e(7666),s.e(7725),s.e(3686),s.e(3166),s.e(5549),s.e(179)]).then(s.bind(s,835713)),U=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(5350),s.e(787),s.e(2201),s.e(9980),s.e(7549),s.e(7141),s.e(8926),s.e(7225),s.e(9250),s.e(9645),s.e(5052),s.e(7969),s.e(7222),s.e(7666),s.e(7725),s.e(3686),s.e(3166),s.e(5549),s.e(179)]).then(s.bind(s,544568)),O=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(5350),s.e(787),s.e(2201),s.e(9980),s.e(7549),s.e(7141),s.e(8926),s.e(7225),s.e(9250),s.e(9645),s.e(5052),s.e(7969),s.e(7222),s.e(7666),s.e(7725),s.e(3686),s.e(3166),s.e(5549),s.e(179)]).then(s.bind(s,637822)),R=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(5350),s.e(787),s.e(2201),s.e(9980),s.e(7549),s.e(7141),s.e(8926),s.e(7225),s.e(9250),s.e(9645),s.e(5052),s.e(7969),s.e(7222),s.e(7666),s.e(7725),s.e(3686),s.e(3166),s.e(5549),s.e(179)]).then(s.bind(s,161495)),Z=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(5350),s.e(787),s.e(2201),s.e(9980),s.e(7549),s.e(7141),s.e(8926),s.e(7225),s.e(9250),s.e(9645),s.e(5052),s.e(7969),s.e(7222),s.e(7666),s.e(7725),s.e(3686),s.e(3166),s.e(5549),s.e(179)]).then(s.bind(s,919823)),B=()=>Promise.all([s.e(7491),s.e(1796),s.e(8983)]).then(s.bind(s,446288)),j=()=>Promise.all([s.e(7491),s.e(1796),s.e(8983)]).then(s.bind(s,456767)),W=()=>Promise.all([s.e(7491),s.e(1796),s.e(8983)]).then(s.bind(s,925504)),q=()=>Promise.all([s.e(5768),s.e(6204),s.e(2681)]).then(s.bind(s,125178)),V=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(5350),s.e(787),s.e(2201),s.e(9980),s.e(7549),s.e(7141),s.e(8926),s.e(7225),s.e(9250),s.e(9645),s.e(5052),s.e(7969),s.e(7222),s.e(7666),s.e(7725),s.e(3686),s.e(3166),s.e(5549),s.e(179)]).then(s.bind(s,509824)),N=[{path:"/support",redirect:"/help"},{path:"/faq/:chapter?/:section?/:subsection?",redirect:"/help/:chapter?/:section?/:subsection?"},{path:"/my/subscribes",redirect:"/my/subscriptions"},{path:"/my/subscribes/:type",redirect:"/my/subscriptions/:type"},{path:"/rileyreid",redirect:"/rileyreidx3"},{path:"/partners",redirect:"/help/3/22/90"},{path:"/referrals",redirect:"/help/3/22/90"},{path:"/my/notifications/interactions",redirect:"/my/notifications/commented"},{path:"/oauth/authenticate",name:"OAuthAuthenticate",component:Z},{path:"/report_abuse/:type(post|user|story|message|stream)/:id(\\d+)",name:"ReportAbuse",component:B,meta:{requiresAuth:!0}},{path:"/report_dmca/:type(post|user|story|message|stream)/:id(\\d+)",name:"ReportDmca",component:j,meta:{requiresAuth:!0}},{path:"/appeal",name:"Appeal",component:W,meta:{}},{path:"/my/notifications",name:"Notifications",component:U,meta:{requiresAuth:!0},children:[{path:":type",name:"NotificationsByType"}]},{path:"/",name:"Feed",component:D},{path:"/purchased",name:"Purchased",component:D,meta:{requiresPurchased:!0}},{path:"/blurred",name:"Blurred",component:D,meta:{requiresPaidFeed:!0}},{path:"/closefriends",redirect:"/"},{path:"/posts/create",name:"PostsCreate",component:D,meta:{requiresAuth:!0}},{path:"/posts/edit/:postId(\\d+)",name:"PostsEdit",component:D,meta:{requiresAuth:!0}},{path:"/search/users/:q?",redirect:e=>({path:"/search",query:{type:"users",q:e.params.q}})},{path:"/search",name:"Search",component:R},{path:"/my/profile",name:"ProfileAlias",component:F,meta:{title:"profilePageTitle",requiresAuth:!0}},{path:"/my/*",name:"MyError",component:O},{path:"/message/:postId(\\d+)/:userId(\\D.*[^/])",name:"MessagePage",component:E},{path:"/:userId(\\D.+)/friends",redirect:e=>`/${e.params.userId}`},{path:"/:userId(\\D.*[^/])/c:campaignCode(\\d+)",name:"ProfileCampaign",component:F,meta:{title:"profilePageTitle",allowFraudRepayment:!0,allowNeedLoginIV:!0}},{path:"/:userId(\\D.+)/nft",name:"NftGallery",component:V,meta:{requiresAuth:!0}},{path:"/:userId(\\D.+)/nfts",redirect:e=>`/${e.params.userId}/nft`,meta:{requiresAuth:!0}},{path:"/:userId(\\D.*[^/])",name:"Profile",component:F,children:[{path:":postType(media|photos|videos|audios|likes|streams)",name:"ProfileInner",meta:{title:"profilePageTitle"}},{path:":labelId(\\d+|archived|private_archived)",name:"ProfileLabel"},{path:"medias",redirect:"media"}],meta:{title:"profilePageTitle",allowFraudRepayment:!0,allowNeedLoginIV:!0}},{path:"/:postId(\\d+)/:userId/likes",name:"PostLikes",component:q,meta:{requiresPerformer:!0}},{path:"/:postId(\\d+)/:userId/tips",name:"PostTips",component:q,meta:{requiresPerformer:!0}},{path:"/:postId(\\d+)/:userId(\\D.+)/buyers",name:"PostBuyers",component:q,meta:{requiresPerformer:!0}},{path:"/:postId(\\d+)/:userId(\\D.+)/vote/:optionId?",name:"PostVoters",component:q,meta:{requiresPerformer:!0}},{path:"/:queueId(\\d+)/buyers",name:"QueueBuyers",component:q,meta:{requiresPerformer:!0}},{path:"/:campaignId(\\d+)/claimers",name:"CampaignClaimers",component:q,meta:{requiresPerformer:!0}},{path:"/:streamId(\\d+)/stream/viewers",name:"StreamViewers",component:q,meta:{requiresPerformer:!0}},{path:"/:streamId(\\d+)/stream/donators",name:"StreamDonators",component:q,meta:{requiresPerformer:!0}},{path:"/:storyId(\\d+)/story/viewers",name:"StoryViewers",component:q,meta:{requiresPerformer:!0}},{path:"/:storyId(\\d+)/story/donators",name:"StoryTips",component:q,meta:{requiresPerformer:!0}},{path:"/:postId(\\d+)/:userId(\\D.*[^/])",name:"Post",component:E},{path:"*",name:"Error",component:O}];var H=N;const z=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1078),s.e(6787),s.e(6230),s.e(4815),s.e(8350),s.e(7060),s.e(5350),s.e(787),s.e(7549),s.e(8926),s.e(9645),s.e(7222),s.e(5549),s.e(7797)]).then(s.bind(s,994983)),X=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1078),s.e(6787),s.e(6230),s.e(4815),s.e(8350),s.e(7060),s.e(5350),s.e(787),s.e(7549),s.e(8926),s.e(9645),s.e(7222),s.e(5549),s.e(7797)]).then(s.bind(s,732364)),G=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1078),s.e(6787),s.e(6230),s.e(4815),s.e(8350),s.e(7060),s.e(5350),s.e(787),s.e(7549),s.e(8926),s.e(9645),s.e(7222),s.e(5549),s.e(7797)]).then(s.bind(s,102192)),Y=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1078),s.e(6787),s.e(6230),s.e(4815),s.e(8350),s.e(7060),s.e(5350),s.e(787),s.e(7549),s.e(8926),s.e(9645),s.e(7222),s.e(5549),s.e(7797)]).then(s.bind(s,83921)),K=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1078),s.e(6787),s.e(6230),s.e(4815),s.e(8350),s.e(7060),s.e(5350),s.e(787),s.e(7549),s.e(8926),s.e(9645),s.e(7222),s.e(5549),s.e(7797)]).then(s.bind(s,60076)),Q=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1078),s.e(6787),s.e(6230),s.e(4815),s.e(8350),s.e(7060),s.e(5350),s.e(787),s.e(7549),s.e(8926),s.e(9645),s.e(7222),s.e(5549),s.e(7797)]).then(s.bind(s,85256)),J=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1078),s.e(6787),s.e(6230),s.e(4815),s.e(8350),s.e(7060),s.e(5350),s.e(787),s.e(7549),s.e(8926),s.e(9645),s.e(7222),s.e(5549),s.e(7797)]).then(s.bind(s,425403)),ee=[{path:"/my/chats",component:z,meta:{requiresAuth:!0,prefetch:!0},children:[{path:"",name:"Chats",component:X},{path:"chat/:chatId",component:X,children:[{path:"",name:"Chat",component:G},{path:"gallery",name:"Gallery",component:Y},{path:"pinned",name:"PinnedMessages",component:J}]},{path:"send",name:"ChatsSend",component:K,meta:{requiresCanChat:!0}}]},{path:"/my/mass_chats",component:Q,name:"MassMessagesStats",meta:{requiresPerformer:!0}}];var te=ee;const se=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,12779)),re=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,719901)),ne=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,111127)),ae=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,279022)),ie=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,194636)),oe=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,82427)),ce=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,68185)),de=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,268289)),ue=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,623049)),le=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,369527)),me=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,761415)),he=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,73317)),fe=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,201843)),pe=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,905009)),ge=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,583375)),ye=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,276969)),Se=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,505544)),Pe=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,867449)),ve=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,26519)),we=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,932542)),be=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,306643)),Ie=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,116096)),ke=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,843983)),Ce=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,560987)),Te=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,348562)),$e=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,183376)),Le=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,901793)),Me=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,564817)),_e=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,50277)),Ae=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,985687)),xe=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,314647)),Fe=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,583959)),Ee=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,943913)),De=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,737968)),Ue=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,685921)),Oe=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,843961)),Re=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,370807)),Ze=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,205289)),Be=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,372515)),je=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,325458)),We=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,535871)),qe=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,758281)),Ve=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,979454)),Ne=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,653776)),He=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,50247)),ze=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,914523)),Xe=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(8308),s.e(9980),s.e(7549),s.e(7141),s.e(7225),s.e(5289),s.e(7725),s.e(3686),s.e(9527),s.e(5659),s.e(4599),s.e(5571)]).then(s.bind(s,204384)),Ge=[{path:"/my/settings",name:"Settings",component:se,meta:{requiresAuth:!0},children:[{path:"profile",name:"SettingsProfile",component:re},{path:"account",name:"SettingsAdvanced",component:ne},{path:"advanced",redirect:{name:"SettingsAdvanced"}},{path:"account/username",name:"SettingsUsername",component:ae},{path:"account/email",name:"SettingsEmail",component:Ze,meta:{isPage:!0}},{path:"account/phone",name:"SettingsPhone",component:Be},{path:"account/twitter",name:"SettingsTwitter",component:ie},{path:"account/google",name:"SettingsGoogle",component:oe},{path:"account/connected",name:"SettingsConnected",component:ce,meta:{requiresConnectedAccount:!0}},{path:"account/password",name:"SettingsPassword",component:de},{path:"account/sessions",name:"SettingsSessions",component:ue},{path:"account/2fa",name:"Settings2fa",component:le},{path:"account/windows-hello",name:"WindowsHelloAuthentification",component:ze},{path:"account/delete",name:"SettingsDelete",component:me},{path:"messaging",name:"SettingsMessaging",component:he,meta:{requiresPerformer:!0}},{path:"notifications",name:"SettingsNotifications",component:fe},{path:"notifications/webpush",name:"SettingsNotificationsWebPush",component:pe},{path:"notifications/email",name:"SettingsNotificationsEmail",component:ge},{path:"notifications/site",name:"SettingsNotificationsSite",component:ye},{path:"notifications/toast",name:"SettingsNotificationsToast",component:Se},{path:"notifications/sms",name:"SettingsNotificationsSms",component:Pe},{path:"notifications/telegram",name:"SettingsNotificationsTelegram",component:ve},{path:"notifications/telegram/link",name:"SettingsTelegramLink",component:be},{path:"notifications/mentions",name:"SettingsNotificationsMentions",component:we,meta:{requiresPerformer:!0}},{path:"security",name:"SettingsSecurity",component:Ie},{path:"security/block_by_country",name:"SettingsBlockByCountry",component:ke,meta:{requiresPerformer:!0}},{path:"security/block_by_ip",name:"SettingsBlockByIP",component:Ce,meta:{requiresPerformer:!0}},{path:"security/watermarks",name:"SettingsWatermarks",component:Te,meta:{requiresPerformer:!0}},{path:"subscription",name:"SettingsSubscription",component:$e},{path:"fans",name:"SettingsFans",component:Le,meta:{requiresPerformer:!0}},{path:"spotify",name:"SettingsSpotify",component:Me,meta:{isPage:!0}},{path:"spring-store",name:"SettingsSpringStore",component:_e,meta:{isPage:!0}},{path:"social-media",name:"SettingsSocialMedia",component:Xe},{path:"ethwallet",name:"SettingsEthWallet",component:Ae,meta:{isPage:!0}},{path:"nft",name:"SettingsNftAssets",component:xe,meta:{isPage:!0}},{path:"links",name:"SettingsThingsILike",component:Fe,meta:{isPage:!0,requiresUser:!0,requiresCanMakeProfileLinks:!0}},{path:"campaign-links",redirect:{name:"SettingsTrackingLinks"}},{path:"tracking-links",name:"SettingsTrackingLinks",component:Ee,meta:{isPage:!0,requiresUser:!0}},{path:"shopify-settings",name:"SettingsShopify",component:De,meta:{isPage:!0,requiresUser:!0,requiresCanShopify:!0}},{path:"shopify-products",name:"SettingsShopifyProducts",component:Ue,meta:{isPage:!0,requiresUser:!0,requiresCanShopify:!0}},{path:"other",name:"SettingsOther",component:Oe},{path:"story",name:"SettingsStory",component:Re,meta:{requiresCanAddStory:!0}},{path:"email",redirect:{name:"SettingsEmail"}},{path:"change-email",redirect:{name:"SettingsEmail"}},{path:"helpers",name:"PerformerHelpers",component:qe,meta:{requiresCanAddHelper:!0}},{path:"spotify/artists",name:"SpotifyArtists",component:je},{path:"spotify/anthem",name:"SpotifyAnthem",component:We},{path:"display",name:"SettingsDisplay",component:Ve},{path:"display/language",name:"SettingsLanguage",component:Ne},{path:"qrcode",name:"SettingsQRCode",component:He,meta:{requiresPerformer:!0}}]}];var Ye=Ge;const Ke=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8350),s.e(2201),s.e(7141),s.e(916),s.e(7058),s.e(5289),s.e(1694),s.e(2411),s.e(3337),s.e(7028),s.e(5659),s.e(2795),s.e(3558),s.e(3077)]).then(s.bind(s,261398)),Qe=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8350),s.e(2201),s.e(7141),s.e(916),s.e(7058),s.e(5289),s.e(1694),s.e(2411),s.e(3337),s.e(7028),s.e(5659),s.e(2795),s.e(3558),s.e(3077)]).then(s.bind(s,145162)),Je=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8350),s.e(2201),s.e(7141),s.e(916),s.e(7058),s.e(5289),s.e(1694),s.e(2411),s.e(3337),s.e(7028),s.e(5659),s.e(2795),s.e(3558),s.e(3077)]).then(s.bind(s,808607)),et=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8350),s.e(2201),s.e(7141),s.e(916),s.e(7058),s.e(5289),s.e(1694),s.e(2411),s.e(3337),s.e(7028),s.e(5659),s.e(2795),s.e(3558),s.e(3077)]).then(s.bind(s,554735)),tt=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8350),s.e(2201),s.e(7141),s.e(916),s.e(7058),s.e(5289),s.e(1694),s.e(2411),s.e(3337),s.e(7028),s.e(5659),s.e(2795),s.e(3558),s.e(3077)]).then(s.bind(s,402731)),st=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8350),s.e(2201),s.e(7141),s.e(916),s.e(7058),s.e(5289),s.e(1694),s.e(2411),s.e(3337),s.e(7028),s.e(5659),s.e(2795),s.e(3558),s.e(3077)]).then(s.bind(s,770992)),rt=[{path:"/my/payments",component:Ke,meta:{requiresAuth:!0},children:[{path:"",name:"Payments",component:Je},{path:"list",name:"PaymentsCreditsTransactions",component:et},{path:"add_card",name:"PaymentsAddCard",component:Qe,meta:{requiresAuth:!0,requiresCanAddCard:!0,allowFraudRepayment:!0,ageVerificationRequired:!0}},{path:"alternative",name:"PaymentsAlternative",component:tt},{path:"alternative/add",name:"PaymentsAlternativeAdd",component:st}]}];var nt=rt;const at=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8350),s.e(2201),s.e(7141),s.e(916),s.e(7058),s.e(5289),s.e(1694),s.e(2411),s.e(3337),s.e(7028),s.e(5659),s.e(2795),s.e(3558),s.e(3077)]).then(s.bind(s,54866)),it=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8350),s.e(2201),s.e(7141),s.e(916),s.e(7058),s.e(5289),s.e(1694),s.e(2411),s.e(3337),s.e(7028),s.e(5659),s.e(2795),s.e(3558),s.e(3077)]).then(s.bind(s,628359)),ot=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8350),s.e(2201),s.e(7141),s.e(916),s.e(7058),s.e(5289),s.e(1694),s.e(2411),s.e(3337),s.e(7028),s.e(5659),s.e(2795),s.e(3558),s.e(3077)]).then(s.bind(s,460327)),ct=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8350),s.e(2201),s.e(7141),s.e(916),s.e(7058),s.e(5289),s.e(1694),s.e(2411),s.e(3337),s.e(7028),s.e(5659),s.e(2795),s.e(3558),s.e(3077)]).then(s.bind(s,983949)),dt=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8350),s.e(2201),s.e(7141),s.e(916),s.e(7058),s.e(5289),s.e(1694),s.e(2411),s.e(3337),s.e(7028),s.e(5659),s.e(2795),s.e(3558),s.e(3077)]).then(s.bind(s,606372)),ut=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8350),s.e(2201),s.e(7141),s.e(916),s.e(7058),s.e(5289),s.e(1694),s.e(2411),s.e(3337),s.e(7028),s.e(5659),s.e(2795),s.e(3558),s.e(3077)]).then(s.bind(s,693402)),lt=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8350),s.e(2201),s.e(7141),s.e(916),s.e(7058),s.e(5289),s.e(1694),s.e(2411),s.e(3337),s.e(7028),s.e(5659),s.e(2795),s.e(3558),s.e(3077)]).then(s.bind(s,588143)),mt=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8350),s.e(2201),s.e(7141),s.e(916),s.e(7058),s.e(5289),s.e(1694),s.e(2411),s.e(3337),s.e(7028),s.e(5659),s.e(2795),s.e(3558),s.e(3077)]).then(s.bind(s,61561)),ht=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8350),s.e(2201),s.e(7141),s.e(916),s.e(7058),s.e(5289),s.e(1694),s.e(2411),s.e(3337),s.e(7028),s.e(5659),s.e(2795),s.e(3558),s.e(3077)]).then(s.bind(s,92432)),ft=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8350),s.e(2201),s.e(7141),s.e(916),s.e(7058),s.e(5289),s.e(1694),s.e(2411),s.e(3337),s.e(7028),s.e(5659),s.e(2795),s.e(3558),s.e(3077)]).then(s.bind(s,381430)),pt=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8350),s.e(2201),s.e(7141),s.e(916),s.e(7058),s.e(5289),s.e(1694),s.e(2411),s.e(3337),s.e(7028),s.e(5659),s.e(2795),s.e(3558),s.e(3077)]).then(s.bind(s,970850)),gt=[{path:"/my/banking",component:at,meta:{requiresAuth:!0},children:[{path:"",name:"Banking",component:it},{path:"edit",name:"BankingEdit",component:it},{path:"primary",name:"BankingPrimary",component:it,meta:{requiresHasStripe:!0}},{path:"payout_types",name:"BankingPayoutTypes",component:ot},{path:"support",name:"BankingSupport",component:ct},{path:"w9",name:"W9",component:ht},{path:"w9custom",name:"W9custom",component:ht,meta:{type:"custom"}},{path:"w9_form_address_check",name:"w9_form_address_check",component:pt,meta:{requiresPerformer:!0}},{path:"vat",name:"BankingVat",component:dt,meta:{isCountryVatNumberCollect:!0,isVatRequired:!0}},{path:"vat/change",name:"BankingVatChange",component:ut,meta:{isCountryVatNumberCollect:!0}},{path:"vat/add-documents",name:"BankingVatAddDocuments",component:lt,meta:{isCountryVatNumberCollect:!0,isVatRequired:!0}},{path:"vat/create-document",name:"BankingVatCreateDocument",component:mt,meta:{isCountryVatNumberCollect:!0,isVatRequired:!0}},{path:":section",name:"BankingSection",redirect:{name:"BankingPrimary"}}]},{path:"/my/verify",name:"VerifyPage",component:ft}];var yt=gt;const St=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8308),s.e(7666),s.e(2411),s.e(5430)]).then(s.bind(s,849994)),Pt=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8308),s.e(7666),s.e(2411),s.e(5430)]).then(s.bind(s,457321)),vt=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8308),s.e(7666),s.e(2411),s.e(5430)]).then(s.bind(s,617676)),wt=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8308),s.e(7666),s.e(2411),s.e(5430)]).then(s.bind(s,36845)),bt=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8308),s.e(7666),s.e(2411),s.e(5430)]).then(s.bind(s,458796)),It=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8308),s.e(7666),s.e(2411),s.e(5430)]).then(s.bind(s,390690)),kt=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8308),s.e(7666),s.e(2411),s.e(5430)]).then(s.bind(s,997359)),Ct=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8308),s.e(7666),s.e(2411),s.e(5430)]).then(s.bind(s,994575)),Tt=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8308),s.e(7666),s.e(2411),s.e(5430)]).then(s.bind(s,783084)),$t=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8308),s.e(7666),s.e(2411),s.e(5430)]).then(s.bind(s,643439)),Lt=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8308),s.e(7666),s.e(2411),s.e(5430)]).then(s.bind(s,485445)),Mt=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8308),s.e(7666),s.e(2411),s.e(5430)]).then(s.bind(s,243730)),_t=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8308),s.e(7666),s.e(2411),s.e(5430)]).then(s.bind(s,342433)),At=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8308),s.e(7666),s.e(2411),s.e(5430)]).then(s.bind(s,573102)),xt=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8308),s.e(7666),s.e(2411),s.e(5430)]).then(s.bind(s,564802)),Ft=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8308),s.e(7666),s.e(2411),s.e(5430)]).then(s.bind(s,818197)),Et=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8308),s.e(7666),s.e(2411),s.e(5430)]).then(s.bind(s,262312)),Dt=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8308),s.e(7666),s.e(2411),s.e(5430)]).then(s.bind(s,847138)),Ut=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8308),s.e(7666),s.e(2411),s.e(5430)]).then(s.bind(s,692522)),Ot=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8308),s.e(7666),s.e(2411),s.e(5430)]).then(s.bind(s,345571)),Rt=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8308),s.e(7666),s.e(2411),s.e(5430)]).then(s.bind(s,249133)),Zt=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8308),s.e(7666),s.e(2411),s.e(5430)]).then(s.bind(s,520223)),Bt=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8308),s.e(7666),s.e(2411),s.e(5430)]).then(s.bind(s,456194)),jt=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8308),s.e(7666),s.e(2411),s.e(5430)]).then(s.bind(s,749166)),Wt=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8308),s.e(7666),s.e(2411),s.e(5430)]).then(s.bind(s,618471)),qt=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8308),s.e(7666),s.e(2411),s.e(5430)]).then(s.bind(s,630415)),Vt=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(2569),s.e(8308),s.e(7666),s.e(2411),s.e(5430)]).then(s.bind(s,498010)),Nt=[{path:"/help/:chapter?/:section?/:subsection?",component:bt,title:"FAQs",name:"faq",meta:{hasStaticFooter:!0,staticContainer:!0,type:"faq",allowFraudRepayment:!0,allowNeedLoginIV:!0,hideHelperBtn:!0}},{path:"/terms/:section?",beforeEnter(){window.location.href=`${window.location.origin}/terms.html${window.location.hash}`}},{path:"/termsnov21/:section?",beforeEnter(){window.location.href=`${window.location.origin}/termsnov21.html${window.location.hash}`}},{path:"/contract",beforeEnter(){window.location.href=`${window.location.origin}/contract.html${window.location.hash}`}},{path:"/contractnov21",beforeEnter(){window.location.href=`${window.location.origin}/contractnov21.html${window.location.hash}`}},{path:"/dmca",component:St,title:"Dmca",name:"dmca",meta:{hasStaticFooter:!0,hideHeader:!0,staticContainer:!0,type:"dmca",allowFraudRepayment:!0,allowNeedLoginIV:!0}},{path:"/store",beforeEnter(){window.location.replace("https://store.onlyfans.com")}},{path:"/antitraffickingstatement",component:kt,title:"Anti-Slavery and Anti-Trafficking Statement",name:"statement",meta:{hasStaticFooter:!0,hideHeader:!0,staticContainer:!0,allowFraudRepayment:!0,allowNeedLoginIV:!0,metaTags:[{name:"robots",content:"noindex, nofollow"}]}},{path:"/transparency",component:Mt,meta:{hasStaticFooter:!0,hideHeader:!0,staticContainer:!0},children:[{path:"",component:At,title:"OnlyFans Transparency Reports",name:"transparencyReportList"},{path:":year/:month",component:_t,title:"OnlyFans Transparency Report",name:"transparencyReportPage"},{path:":month",redirect:e=>{try{const{month:t}=e.params,s=+t.replace(/\D+/g,""),r=new Date(`${s}/${t.replace(/\d+/g,"")}`).getMonth()+1;return{name:"transparencyReportPage",params:{year:s,month:r}}}catch(t){return{name:"transparencyReportList"}}}}]},{path:"/transparency-center",component:xt,meta:{hasStaticFooter:!0,hideHeader:!0,staticContainer:!0},children:[{path:"",name:"transparencyReportCenter",component:Ft,meta:{title:"OnlyFans Safety & Transparency Center"}},{path:"verification",component:Et,name:"transparencyReportVerification",meta:{title:"Age & Identity Verification"}},{path:"assisting",component:Dt,name:"transparencyReportAssisting",meta:{title:"Assisting Law Enforcement"}},{path:"helping",component:Ut,name:"transparencyReportHelping",meta:{title:"Helping Creators Protect their Copyright"}},{path:"privacy",component:Ot,name:"transparencyReportPrivacy",meta:{title:"Respecting Your Privacy"}},{path:"preventing",component:Rt,name:"transparencyReportPreventing",meta:{title:"Preventing Modern Slavery & Human Trafficking "}},{path:"commitment",component:Zt,name:"transparencyReportCommitment",meta:{title:"Our Commitment to Safety & Transparency"}},{path:"safeguarding",component:Bt,name:"transparencyReportSafeguarding",meta:{title:"Safeguarding Against Money Laundering & Fraud"}},{path:"tackling",component:jt,name:"transparencyReportTackling",meta:{title:"Tackling Hate Speech"}}]},{path:"/fightcsam",component:Wt,title:"OnlyFans fights to combat the creation and distribution of child sexual abuse materials (CSAM)",name:"fightcsam",meta:{hasStaticFooter:!0,hideHeader:!0,staticContainer:!0}},{path:"/license_form",component:qt,title:"OnlyFans trademark license for creator domain name",name:"license",meta:{hasStaticFooter:!0,hideHeader:!0,staticContainer:!0,allowNeedLoginIV:!0}},{path:"/values",component:Vt,title:"Our Mission, Vision and Values",name:"values",meta:{hasStaticFooter:!0,hideHeader:!0,staticContainer:!0,allowNeedLoginIV:!0}},{path:"/compliance",component:Ct,title:"Compliance",name:"compliance",meta:{hasStaticFooter:!0,hideHeader:!0,staticContainer:!0,allowFraudRepayment:!0,allowNeedLoginIV:!0,metaTags:[{name:"robots",content:"noindex, nofollow"}]}},{path:"/compliance2",component:Tt,title:"Compliance2",name:"compliance2",meta:{hasStaticFooter:!0,staticContainer:!0,hideHeader:!0,allowFraudRepayment:!0,allowNeedLoginIV:!0,metaTags:[{name:"robots",content:"noindex, nofollow"}]}},{path:"/contact",component:Pt,title:"Contact",name:"contacts",meta:{hasStaticFooter:!0,type:"contacts",allowFraudRepayment:!0,allowNeedLoginIV:!0}},{path:"/contacts",redirect:"/contact"},{path:"/legalinquiry",title:"Law Enforcement",name:"legalinquiry",component:vt},{path:"/legalguide",title:"Law Enforcement Guide",name:"legalguide",component:Lt,meta:{hasStaticFooter:!0,staticContainer:!0,hideHeader:!0,allowFraudRepayment:!0,allowNeedLoginIV:!0}},{path:"/how",component:wt,title:"How it works",name:"how",meta:{hasStaticFooter:!0,staticContainer:!0,type:"how",allowFraudRepayment:!0,allowNeedLoginIV:!0}},{path:"/privacy",beforeEnter(){window.location.href=`${window.location.origin}/privacy.html${window.location.hash}`}},{path:"/usc2257",beforeEnter(){window.location.href=`${window.location.origin}/usc2257.html${window.location.hash}`}},{path:"/banking-help",component:St,title:"Adding a Bank Account",name:"banking-help",meta:{hasStaticFooter:!0,staticContainer:!0,type:"page",allowFraudRepayment:!0,allowNeedLoginIV:!0}},{path:"/terms-of-service",redirect:"/terms"},{path:"/tos",redirect:"/terms"},{path:"/tosd",redirect:"/terms"},{path:"/about",beforeEnter(){window.location.href=`${window.location.origin}/about.html${window.location.hash}`}},{path:"/my/tickets/:type?",component:bt,name:"TicketsPage",meta:{hasStaticFooter:!0,requiresAuth:!0,staticContainer:!0,hideHelperBtn:!0}},{path:"/brand",component:It,name:"Brand",title:"Brand Resources",meta:{hasStaticFooter:!0,staticContainer:!0,hideHeader:!0,allowFraudRepayment:!0,allowNeedLoginIV:!0}},{path:"/gdpr/:id",component:$t,name:"DownloadReport",meta:{hasStaticFooter:!0,staticContainer:!0,hideHeader:!0}}];var Ht=Nt;const zt=()=>Promise.all([s.e(382),s.e(7491),s.e(5768),s.e(1796),s.e(1980),s.e(2569),s.e(7058),s.e(1694),s.e(2411),s.e(5564),s.e(8848),s.e(1326)]).then(s.bind(s,127894)),Xt=()=>Promise.all([s.e(382),s.e(7491),s.e(5768),s.e(1796),s.e(1980),s.e(2569),s.e(7058),s.e(1694),s.e(2411),s.e(5564),s.e(8848),s.e(1326)]).then(s.bind(s,381218)),Gt=()=>Promise.all([s.e(382),s.e(7491),s.e(5768),s.e(1796),s.e(1980),s.e(2569),s.e(7058),s.e(1694),s.e(2411),s.e(5564),s.e(8848),s.e(1326)]).then(s.bind(s,69581)),Yt=()=>Promise.all([s.e(382),s.e(7491),s.e(5768),s.e(1796),s.e(1980),s.e(2569),s.e(7058),s.e(1694),s.e(2411),s.e(5564),s.e(8848),s.e(1326)]).then(s.bind(s,741311)),Kt=()=>Promise.all([s.e(382),s.e(7491),s.e(5768),s.e(1796),s.e(1980),s.e(2569),s.e(7058),s.e(1694),s.e(2411),s.e(5564),s.e(8848),s.e(1326)]).then(s.bind(s,490601)),Qt=()=>Promise.all([s.e(382),s.e(7491),s.e(5768),s.e(1796),s.e(1980),s.e(2569),s.e(7058),s.e(1694),s.e(2411),s.e(5564),s.e(8848),s.e(1326)]).then(s.bind(s,966454)),Jt=()=>Promise.all([s.e(382),s.e(7491),s.e(5768),s.e(1796),s.e(1980),s.e(2569),s.e(7058),s.e(1694),s.e(2411),s.e(5564),s.e(8848),s.e(1326)]).then(s.bind(s,871706)),es=()=>Promise.all([s.e(5768),s.e(7058),s.e(4686)]).then(s.bind(s,179075)),ts=[{path:"/my/statements",component:zt,meta:{requiresPerformer:!0},children:[{path:"",name:"Statements",redirect:{name:"StatementsEarnings"}},{path:"earnings",name:"StatementsEarnings",component:Xt},{path:"payouts",name:"StatementsPayoutRequests",component:Gt,children:[{path:"stripe",name:"StatementsPayoutRequestsStripe",component:Gt}]},{path:"vat",name:"StatementsVat",component:es,meta:{requiresCountryVatRefundable:!0}},{path:"referrals",name:"StatementsReferrals",component:Jt}]},{path:"/my/statements/support",name:"StatementsSupport",component:Qt,meta:{requiresPerformer:!0}},{path:"/my/stats",component:zt,meta:{requiresPerformer:!0},children:[{path:"earnings",name:"StatsEarnings",component:Yt},{path:"disputes",name:"StatsDisputes",component:Kt}]}];var ss=ts;const rs=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(4815),s.e(8350),s.e(7060),s.e(787),s.e(8308),s.e(7549),s.e(7225),s.e(7058),s.e(1694),s.e(5052),s.e(7969),s.e(7222),s.e(7725),s.e(3005),s.e(3166),s.e(8883),s.e(2795),s.e(8848),s.e(3193)]).then(s.bind(s,41225)),ns=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(4815),s.e(8350),s.e(7060),s.e(787),s.e(8308),s.e(7549),s.e(7225),s.e(7058),s.e(1694),s.e(5052),s.e(7969),s.e(7222),s.e(7725),s.e(3005),s.e(3166),s.e(8883),s.e(2795),s.e(8848),s.e(3193)]).then(s.bind(s,598140)),as=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(4815),s.e(8350),s.e(7060),s.e(787),s.e(8308),s.e(7549),s.e(7225),s.e(7058),s.e(1694),s.e(5052),s.e(7969),s.e(7222),s.e(7725),s.e(3005),s.e(3166),s.e(8883),s.e(2795),s.e(8848),s.e(3193)]).then(s.bind(s,410625)),is=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(4815),s.e(8350),s.e(7060),s.e(787),s.e(8308),s.e(7549),s.e(7225),s.e(7058),s.e(1694),s.e(5052),s.e(7969),s.e(7222),s.e(7725),s.e(3005),s.e(3166),s.e(8883),s.e(2795),s.e(8848),s.e(3193)]).then(s.bind(s,904117)),os=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(4815),s.e(8350),s.e(7060),s.e(787),s.e(8308),s.e(7549),s.e(7225),s.e(7058),s.e(1694),s.e(5052),s.e(7969),s.e(7222),s.e(7725),s.e(3005),s.e(3166),s.e(8883),s.e(2795),s.e(8848),s.e(3193)]).then(s.bind(s,571167)),cs=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(4815),s.e(8350),s.e(7060),s.e(787),s.e(8308),s.e(7549),s.e(7225),s.e(7058),s.e(1694),s.e(5052),s.e(7969),s.e(7222),s.e(7725),s.e(3005),s.e(3166),s.e(8883),s.e(2795),s.e(8848),s.e(3193)]).then(s.bind(s,952332)),ds=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(4815),s.e(8350),s.e(7060),s.e(787),s.e(8308),s.e(7549),s.e(7225),s.e(7058),s.e(1694),s.e(5052),s.e(7969),s.e(7222),s.e(7725),s.e(3005),s.e(3166),s.e(8883),s.e(2795),s.e(8848),s.e(3193)]).then(s.bind(s,426970)),us=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(4815),s.e(8350),s.e(7060),s.e(787),s.e(8308),s.e(7549),s.e(7225),s.e(7058),s.e(1694),s.e(5052),s.e(7969),s.e(7222),s.e(7725),s.e(3005),s.e(3166),s.e(8883),s.e(2795),s.e(8848),s.e(3193)]).then(s.bind(s,882042)),ls=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(4815),s.e(8350),s.e(7060),s.e(787),s.e(8308),s.e(7549),s.e(7225),s.e(7058),s.e(1694),s.e(5052),s.e(7969),s.e(7222),s.e(7725),s.e(3005),s.e(3166),s.e(8883),s.e(2795),s.e(8848),s.e(3193)]).then(s.bind(s,557435)),ms=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(4815),s.e(8350),s.e(7060),s.e(787),s.e(8308),s.e(7549),s.e(7225),s.e(7058),s.e(1694),s.e(5052),s.e(7969),s.e(7222),s.e(7725),s.e(3005),s.e(3166),s.e(8883),s.e(2795),s.e(8848),s.e(3193)]).then(s.bind(s,242395)),hs=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(4815),s.e(8350),s.e(7060),s.e(787),s.e(8308),s.e(7549),s.e(7225),s.e(7058),s.e(1694),s.e(5052),s.e(7969),s.e(7222),s.e(7725),s.e(3005),s.e(3166),s.e(8883),s.e(2795),s.e(8848),s.e(3193)]).then(s.bind(s,387885)),fs=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(4815),s.e(8350),s.e(7060),s.e(787),s.e(8308),s.e(7549),s.e(7225),s.e(7058),s.e(1694),s.e(5052),s.e(7969),s.e(7222),s.e(7725),s.e(3005),s.e(3166),s.e(8883),s.e(2795),s.e(8848),s.e(3193)]).then(s.bind(s,354267)),ps=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(4815),s.e(8350),s.e(7060),s.e(787),s.e(8308),s.e(7549),s.e(7225),s.e(7058),s.e(1694),s.e(5052),s.e(7969),s.e(7222),s.e(7725),s.e(3005),s.e(3166),s.e(8883),s.e(2795),s.e(8848),s.e(3193)]).then(s.bind(s,808603)),gs=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(4815),s.e(8350),s.e(7060),s.e(787),s.e(8308),s.e(7549),s.e(7225),s.e(7058),s.e(1694),s.e(5052),s.e(7969),s.e(7222),s.e(7725),s.e(3005),s.e(3166),s.e(8883),s.e(2795),s.e(8848),s.e(3193)]).then(s.bind(s,530040)),ys=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(4815),s.e(8350),s.e(7060),s.e(787),s.e(8308),s.e(7549),s.e(7225),s.e(7058),s.e(1694),s.e(5052),s.e(7969),s.e(7222),s.e(7725),s.e(3005),s.e(3166),s.e(8883),s.e(2795),s.e(8848),s.e(3193)]).then(s.bind(s,165184)),Ss=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(4815),s.e(8350),s.e(7060),s.e(787),s.e(8308),s.e(7549),s.e(7225),s.e(7058),s.e(1694),s.e(5052),s.e(7969),s.e(7222),s.e(7725),s.e(3005),s.e(3166),s.e(8883),s.e(2795),s.e(8848),s.e(3193)]).then(s.bind(s,49875)),Ps=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(4815),s.e(8350),s.e(7060),s.e(787),s.e(8308),s.e(7549),s.e(7225),s.e(7058),s.e(1694),s.e(5052),s.e(7969),s.e(7222),s.e(7725),s.e(3005),s.e(3166),s.e(8883),s.e(2795),s.e(8848),s.e(3193)]).then(s.bind(s,422282)),vs=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(4815),s.e(8350),s.e(7060),s.e(787),s.e(8308),s.e(7549),s.e(7225),s.e(7058),s.e(1694),s.e(5052),s.e(7969),s.e(7222),s.e(7725),s.e(3005),s.e(3166),s.e(8883),s.e(2795),s.e(8848),s.e(3193)]).then(s.bind(s,320109)),ws=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(4815),s.e(8350),s.e(7060),s.e(787),s.e(8308),s.e(7549),s.e(7225),s.e(7058),s.e(1694),s.e(5052),s.e(7969),s.e(7222),s.e(7725),s.e(3005),s.e(3166),s.e(8883),s.e(2795),s.e(8848),s.e(3193)]).then(s.bind(s,497571)),bs=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(4815),s.e(8350),s.e(7060),s.e(787),s.e(8308),s.e(7549),s.e(7225),s.e(7058),s.e(1694),s.e(5052),s.e(7969),s.e(7222),s.e(7725),s.e(3005),s.e(3166),s.e(8883),s.e(2795),s.e(8848),s.e(3193)]).then(s.bind(s,664071)),Is=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(4815),s.e(8350),s.e(7060),s.e(787),s.e(8308),s.e(7549),s.e(7225),s.e(7058),s.e(1694),s.e(5052),s.e(7969),s.e(7222),s.e(7725),s.e(3005),s.e(3166),s.e(8883),s.e(2795),s.e(8848),s.e(3193)]).then(s.bind(s,915217)),ks=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(4815),s.e(8350),s.e(7060),s.e(787),s.e(8308),s.e(7549),s.e(7225),s.e(7058),s.e(1694),s.e(5052),s.e(7969),s.e(7222),s.e(7725),s.e(3005),s.e(3166),s.e(8883),s.e(2795),s.e(8848),s.e(3193)]).then(s.bind(s,84436)),Cs=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(4815),s.e(8350),s.e(7060),s.e(787),s.e(8308),s.e(7549),s.e(7225),s.e(7058),s.e(1694),s.e(5052),s.e(7969),s.e(7222),s.e(7725),s.e(3005),s.e(3166),s.e(8883),s.e(2795),s.e(8848),s.e(3193)]).then(s.bind(s,381910)),Ts=[{path:"/my/statistics",component:rs,name:"Statistics",redirect:{name:"StatisticsStatements"},meta:{requiresPerformer:!0},children:[{path:"overview",name:"StatisticsOverview",component:ns,redirect:{name:"StatisticsOverviewEarnings"},children:[{path:"earnings",name:"StatisticsOverviewEarnings",component:ns},{path:"summary",name:"StatisticsOverviewSummary",component:ns},{path:"top-highlights",name:"StatisticsOverviewTopHighlight",component:ns}]},{path:"statements",name:"StatisticsStatements",component:as,redirect:{name:"StatisticsStatementsEarnings"},children:[{path:"earnings",name:"StatisticsStatementsEarnings",component:is,children:[{path:"tips/:type(all|profile|post|chat|stream|story)",name:"StatisticsStatementsEarningsTips",component:is,meta:{parentTag:"earnings_tips"}}]},{path:"payout-request",name:"StatisticsStatementsPayoutRequests",component:os},{path:"payout-request/stripe",name:"StatisticsStatementsPayoutRequestsStripe",component:os},{path:"disputes",name:"StatisticsStatementsDisputes",component:cs},{path:"referrals",name:"StatisticsStatementsReferrals",component:ds,redirect:{name:"StatisticsStatementsReferralEarnings"},children:[{path:"earnings",name:"StatisticsStatementsReferralEarnings",component:us,meta:{parentTag:"referrals"}},{path:"creators",name:"StatisticsStatementsReferralCreators",component:ls,meta:{parentTag:"referrals"}},{path:"users",name:"StatisticsStatementsReferralUsers",component:ms,meta:{parentTag:"referrals"}}]},{path:"vat-documents",name:"StatisticsStatementsVatDocuments",component:hs}]},{path:"engagement",name:"StatisticsEngagement",component:fs,redirect:{name:"StatisticsEngagementPosts"},children:[{path:"posts",name:"StatisticsEngagementPosts",component:ps},{path:"mass-messages",name:"StatisticsEngagementMassMessages",component:gs},{path:"streaming",name:"StatisticsEngagementStreaming",component:ys},{path:"stories",name:"StatisticsEngagementStories",component:Ss}]},{path:"reach",name:"StatisticsReach",component:Ps,redirect:{name:"StatisticsReachProfileVisitors"},children:[{path:"profile-visitors/",name:"StatisticsReachProfileVisitors",component:vs},{path:"profile-visitors/:type(users|guests|subscribers)",name:"StatisticsReachProfileVisitorsByType",meta:{parentTag:"profile_visitors"},component:vs},{path:"promotions",name:"StatisticsReachPromotions",component:ws},{path:"campaigns",redirect:{name:"StatisticsReachTrackingLinks"}},{path:"tracking-links",name:"StatisticsReachTrackingLinks",component:bs}]},{path:"fans",name:"StatisticsFans",component:Is,redirect:{name:"StatisticsFansSubscriptions"},children:[{path:"subscriptions",name:"StatisticsFansSubscriptions",component:ks},{path:"top-fans",name:"StatisticsFansTop",component:Cs}]}]}];var $s=Ts;const Ls=()=>Promise.all([s.e(3983),s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(7060),s.e(5350),s.e(787),s.e(9980),s.e(7225),s.e(9250),s.e(9645),s.e(7969),s.e(2576)]).then(s.bind(s,778660)),Ms=()=>Promise.all([s.e(3983),s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(7060),s.e(5350),s.e(787),s.e(9980),s.e(7225),s.e(9250),s.e(9645),s.e(7969),s.e(2576)]).then(s.bind(s,693767)),_s=()=>Promise.all([s.e(3983),s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(7060),s.e(5350),s.e(787),s.e(9980),s.e(7225),s.e(9250),s.e(9645),s.e(7969),s.e(2576)]).then(s.bind(s,128626)),As=()=>Promise.all([s.e(3983),s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(7060),s.e(5350),s.e(787),s.e(9980),s.e(7225),s.e(9250),s.e(9645),s.e(7969),s.e(2576)]).then(s.bind(s,913735)),xs=()=>Promise.all([s.e(3983),s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(7060),s.e(5350),s.e(787),s.e(9980),s.e(7225),s.e(9250),s.e(9645),s.e(7969),s.e(2576)]).then(s.bind(s,312387)),Fs=[{path:"/my/streaming",name:"Streaming",component:Ls,meta:{requiresCanStreaming:!0}},{path:"/:user/live",name:"Live",component:xs,meta:{requiresAuth:!0}},{path:"/my/live/view/:user",redirect:{name:"Live"}},{path:"my/streaming/chat",name:"StreamingChat",component:Ms,meta:{requiresPerformer:!0}},{path:"my/streaming/dashboard",name:"StreamingDashboard",component:_s,meta:{requiresAuth:!0,requiresPerformer:!0}},{path:"my/streaming/dashboard/create",name:"StreamingCreateEditSchedule",component:As,meta:{requiresAuth:!0,requiresPerformer:!0}},{path:"my/streaming/dashboard/:id",name:"StreamingEditSchedule",component:As,meta:{requiresAuth:!0,requiresPerformer:!0}}];var Es=Fs;const Ds=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(5350),s.e(787),s.e(2201),s.e(9980),s.e(7549),s.e(7141),s.e(8926),s.e(7225),s.e(9250),s.e(9645),s.e(5052),s.e(7969),s.e(7222),s.e(7666),s.e(7725),s.e(3686),s.e(3166),s.e(5549),s.e(179)]).then(s.bind(s,551174)),Us=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(5350),s.e(787),s.e(2201),s.e(9980),s.e(7549),s.e(7141),s.e(8926),s.e(7225),s.e(9250),s.e(9645),s.e(5052),s.e(7969),s.e(7222),s.e(7666),s.e(7725),s.e(3686),s.e(3166),s.e(5549),s.e(179)]).then(s.bind(s,280454)),Os=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(5350),s.e(787),s.e(2201),s.e(9980),s.e(7549),s.e(7141),s.e(8926),s.e(7225),s.e(9250),s.e(9645),s.e(5052),s.e(7969),s.e(7222),s.e(7666),s.e(7725),s.e(3686),s.e(3166),s.e(5549),s.e(179)]).then(s.bind(s,610756)),Rs=[{path:"/my/post-labels",component:Ds,meta:{requiresPerformer:!0},children:[{path:"",name:"PostLabels",component:Us},{path:":id(\\d+|archived|private_archived)/:postType(photos|videos|audios)?",name:"PostLabel",component:Os}]}];var Zs=Rs;const Bs=()=>Promise.all([s.e(5768),s.e(6204),s.e(1078),s.e(6230),s.e(8926),s.e(5506),s.e(6007)]).then(s.bind(s,964758)),js=()=>Promise.all([s.e(7491),s.e(6204),s.e(1796),s.e(1078),s.e(6230),s.e(4815),s.e(787),s.e(7666),s.e(2219)]).then(s.bind(s,368809)),Ws=()=>Promise.all([s.e(7491),s.e(1796),s.e(1980),s.e(2569),s.e(8350),s.e(2201),s.e(3337),s.e(7844)]).then(s.bind(s,985107)),qs=()=>Promise.all([s.e(5768),s.e(6204),s.e(1078),s.e(6230),s.e(8926),s.e(5506),s.e(6007)]).then(s.bind(s,153831)),Vs=()=>Promise.all([s.e(7491),s.e(1796),s.e(1980),s.e(2569),s.e(8350),s.e(2201),s.e(3337),s.e(7844)]).then(s.bind(s,49618)),Ns=()=>Promise.all([s.e(7491),s.e(1796),s.e(1980),s.e(2569),s.e(8350),s.e(2201),s.e(3337),s.e(7844)]).then(s.bind(s,950721)),Hs=()=>Promise.all([s.e(5768),s.e(6204),s.e(1078),s.e(6230),s.e(8926),s.e(5506),s.e(6007)]).then(s.bind(s,901518));var zs=[{path:"/my/release-forms/search",name:"ReleaseFormsSearch",component:qs,props:!0,meta:{requiresPerformer:!0}},{path:"/my/release-forms/add",name:"ReleaseFormsAddDocs",component:Ws,meta:{requiresPerformer:!0}},{path:"/my/release-forms/create-link",name:"CreateReleaseFormLink",component:Vs,meta:{requiresPerformer:!0}},{path:"/my/release-forms/link",name:"ReleaseFormLink",component:Ns,meta:{requiresPerformer:!0}},{path:"/my/release-forms/:id",name:"ReleaseFromPage",component:js,meta:{noRedirectOnLogOut:!0}},{path:"/my/release-forms",name:"ReleaseFormsStorage",component:Bs,meta:{requiresPerformer:!0}},{path:"/my/release-form/add",name:"AddReleaseForm",component:Hs,meta:{requiresPerformer:!0}}],Xs=s(738129),Gs=s(285088);const Ys=()=>s.e(8359).then(s.t.bind(s,572007,23)),Ks=()=>{Gs.isMobile&&Ys().then((e=>{window.eruda=e.default,window.eruda.init()}))},Qs=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(5350),s.e(787),s.e(2201),s.e(9980),s.e(7549),s.e(7141),s.e(8926),s.e(7225),s.e(9250),s.e(9645),s.e(5052),s.e(7969),s.e(7222),s.e(7666),s.e(7725),s.e(3686),s.e(3166),s.e(5549),s.e(179)]).then(s.bind(s,836115)),Js=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(5350),s.e(787),s.e(2201),s.e(9980),s.e(7549),s.e(7141),s.e(8926),s.e(7225),s.e(9250),s.e(9645),s.e(5052),s.e(7969),s.e(7222),s.e(7666),s.e(7725),s.e(3686),s.e(3166),s.e(5549),s.e(179)]).then(s.bind(s,637822));Js.isErrorPage=!0;const er=i.ZP.prototype.push,tr=i.ZP.prototype.replace,sr=["ProfileInner","Profile","ProfileLabel"];i.ZP.prototype.push=function(e,t,s){if(t||s)return er.call(this,e,t,s);try{return er.call(this,e).catch((e=>e))}catch(r){console.log(r)}},i.ZP.prototype.replace=function(e,t,s){if(t||s)return tr.call(this,e,t,s);try{return tr.call(this,e).catch((e=>e))}catch(r){console.log(r)}},a["default"].use(i.ZP);const rr=[...te,...Ht,...p.Hh,...p.H,...Ye,...S,...p.ph,...p.Ii,...nt,...ss,...$s,...yt,...Es,...Zs,...I,...L,...x,...zs,...H],nr=new i.ZP({mode:"history",base:"/",scrollBehavior(e,t,s){return-1!==sr.indexOf(e.name)&&-1!==sr.indexOf(t.name)||"faq"===e.name&&"faq"===t.name||"terms"===e.name&&"terms"===t.name||"MyQueue"===e.name&&"MyQueue"===t.name||0===e.name.indexOf("StatisticsStatementsEarnings")&&0===t.name.indexOf("StatisticsStatementsEarnings")?s:{x:0,y:0}},routes:[{path:"/",component:Qs,children:rr}]});nr.beforeEach((async(e,t,s)=>{if(document.documentMode)return void s();if(u.Z.state.init.neededReload&&e.fullPath&&e.query&&!e.query._&&(!e.params||!e.params.isLogout&&!e.params.noReload))return void(window.location.href=e.fullPath);null===u.Z.getters["init/getInit"].isAuth&&await u.Z.dispatch("init/fetchInit");let r=u.Z.getters["init/getInit"];if(!window.TEXTS){if(r.languages&&Object.keys(r.languages).length){const e=o.ZP.$cookie.get("lang",{domain:".onlyfans.com"});e&&!Object.keys(r.languages).includes(e)&&(o.ZP.$cookie["delete"]("lang",{domain:".onlyfans.com"}),o.ag.locale="en");const t=window.navigator.languages||[window.navigator.language||window.navigator.browserLanguage];if(t&&Array.isArray(t)&&t.length){const e=t.find((e=>Object.keys(r.languages).includes(e)));e&&"en"!==e&&!o.ZP.$cookie.get("lang",{domain:".onlyfans.com"})&&(o.ag.locale=e)}}await(0,o.gE)(o.ag.locale)}if(!window.TEXTS)return void s();if("Error"===e.name)return void s();f(e);let a=null;const i=e.matched.some((e=>e.meta.requiresGuest)),c=e.matched.some((e=>e.meta.requiresCanCreatePromotion)),d=e.matched.some((e=>e.meta.requiresConnectedAccount)),h=e.matched.some((e=>e.meta.requiresCanAddHelper)),p=e.matched.some((e=>e.meta.requiresCanAddStory)),g=e.matched.some((e=>e.meta.requiresCanAddCard)),y=e.matched.some((e=>e.meta.requiresCanMakeProfileLinks)),S=e.matched.some((e=>e.meta.requiresCanShopify)),P=e.matched.some((e=>e.meta.requiresPaidFeed)),v=e.matched.some((e=>e.meta.requiresPurchased)),w=e.matched.some((e=>e.meta.requiresCanStreaming)),b=c||e.matched.some((e=>e.meta.requiresPerformer)),I=e.matched.some((e=>e.meta.requiresCustomer)),k=e.matched.some((e=>e.meta.requiresCanSearchUsers)),C=e.matched.some((e=>e.meta.requiresReferrerAllowed)),T=e.matched.some((e=>e.meta.requiresEmailNotChecked)),$=e.matched.some((e=>e.meta.requiresHasStripe)),L=e.matched.some((e=>e.meta.requiresCountryVatRefundable)),M=e.matched.some((e=>e.meta.isCountryVatNumberCollect)),_=e.matched.some((e=>e.meta.isVatRequired)),A=w||p||d||T||h||k||I||C||P||v||b||e.matched.some((e=>e.meta.requiresUser)),x=A||e.matched.some((e=>e.meta.requiresAuth)),F=e.matched.some((e=>e.meta.allowFraudRepayment)),E=e.matched.some((e=>e.meta.allowNeedLoginIV)),D=e.matched.some((e=>e.meta.ageVerificationRequired)),U=e.matched.some((e=>e.meta.requiresCanChat));if(i&&r.isAuth)return void s("/");if(x&&(e.meta.requiresAuth=!0,!r.isAuth&&!u.Z.getters["init/apiError"]))return e&&e.fullPath?void s(`/?return_to=${window.encodeURIComponent(e.fullPath)}`):void s("/");if((x||r.isAuth)&&(u.Z.getters["auth/isAuth"]||await u.Z.dispatch("auth/fetchUserMe",{root:!0}),!u.Z.getters["auth/isAuth"]))return void s();const O=u.Z.getters["auth/authUser"];r=u.Z.getters["init/getInit"];const R=(0,m.O)();if(R.length&&R.every((t=>e.fullPath.indexOf(t)<0)))return document.querySelectorAll(`a[href="${e.fullPath}"]`).forEach((e=>{e.classList.add("m-forbidden")})),void s(R[0]);if(F||!r.isFraudRepayment||"Profile"===t.name)if(E||!r.isNeedIV||"Profile"===t.name){if(h){if(!O.id)return void s("/my/chats");O.canAddHelper||O.helperAccess&&O.helperAccess.length||(a={name:"Error"})}if(p&&!O.canAddStory&&(a={name:"Error"}),g&&!O.canAddCard&&(a={name:"Error"}),w&&!O.canStreaming&&(a={name:"Error"}),y&&!O.canMakeProfileLinks&&(a={name:"Error"}),S&&!O.canShopify&&(a={name:"Error"}),d&&!(O.canConnectOfAccount||O.connectedOfAccounts&&O.connectedOfAccounts.length)&&(a={name:"Error"}),I&&O.isPerformer&&(a={name:"Error"}),U&&!O.canChat&&(a={name:"Error"}),(k&&!O.isMakePayment&&!O.isPerformer||C&&!O.isReferrerAllowed||b&&!O.isPerformer||c&&!O.canCreatePromotion)&&(a={name:"Error"}),(P&&!O.paidFeed||v&&!O.hasPurchasedPosts)&&(a={name:"Feed"}),!T||O.email&&!O.isEmailChecked||(a={name:"SettingsAdvanced"}),$&&!O.hasStripe&&(a={name:"Banking"}),M&&!O.isCountryVatNumberCollect&&(a={name:"Banking"}),L&&!O.isCountryVatRefundable&&(a={name:"Statements"}),_&&O.isVatRequired&&(a={name:"BankingVatChange"}),D)if(O.ageVerificationRequired&&!O.isAgeVerified){o.ZP.$root.$emit("ageVerificationRequired");try{(0,l.Jz)(O.id,{type:"add_card",source:"banking",isAllowed:!1})}catch(Z){}if(null!==t.name)return;a={name:"Payments"}}else"failed"===n()(O,"ageVerificationSession.status")&&O.canCheckDocsOnAddCard&&"approved"!==O.ivStatus&&O.needIVApprove&&(a={name:"VerifyPage"});if((0,Xs.vq)(e),(0,Xs.yK)(e)&&(a=(0,Xs.OW)(e)),a)s(a);else if(t&&t.name&&"TicketsPage"===e.name&&!O.email){const e={message:o.ZP.$t("message.tickets_need_valid_email"),html:!0,buttons:[{title:o.ZP.$t("message.go_to_settings"),onclick:()=>{s({name:"SettingsChangeEmail"})},closeOnClick:!0}]};"faq"!==t.name&&(e.onclose=s({name:"faq"})),alert(e)}else u.Z.commit("init/setGoBackRouteFrom",t),s()}else s({name:"Profile",params:{userId:O.username}});else s({name:"Profile",params:{userId:O.username}})})),nr.afterEach(((e,t)=>{u.Z.commit("router/setRoute",{from:t,to:e}),t&&null===t.name&&window.history.state&&u.Z.commit("init/setGoBackInitHistoryState",window.history.state.key)})),nr.onError((e=>{/loading chunk .* failed./i.test(e.message)&&(Sentry.captureMessage(`Capture router loading chunk error \n${e.message}`,"error"),window.location.reload())})),nr.pushAsync=e=>new Promise(((t,s)=>{nr.push(e,t,s)})),["beta","beta2","dev"].includes("live")&&!d().get("disableEruda",{domain:".onlyfans.com"})&&Ks();var ar=nr},437035:function(e,t,s){"use strict";s.d(t,{H:function(){return h},Hh:function(){return m},Ii:function(){return p},ph:function(){return f}});const r=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(5350),s.e(787),s.e(2201),s.e(9980),s.e(7549),s.e(7141),s.e(8926),s.e(7225),s.e(9250),s.e(9645),s.e(5052),s.e(7969),s.e(7222),s.e(7666),s.e(7725),s.e(3686),s.e(3166),s.e(5549),s.e(179)]).then(s.bind(s,713361)),n=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(5350),s.e(787),s.e(2201),s.e(9980),s.e(7549),s.e(7141),s.e(8926),s.e(7225),s.e(9250),s.e(9645),s.e(5052),s.e(7969),s.e(7222),s.e(7666),s.e(7725),s.e(3686),s.e(3166),s.e(5549),s.e(179)]).then(s.bind(s,390030)),a=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(5350),s.e(787),s.e(2201),s.e(9980),s.e(7549),s.e(7141),s.e(8926),s.e(7225),s.e(9250),s.e(9645),s.e(5052),s.e(7969),s.e(7222),s.e(7666),s.e(7725),s.e(3686),s.e(3166),s.e(5549),s.e(179)]).then(s.bind(s,640954)),i=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(5350),s.e(787),s.e(2201),s.e(9980),s.e(7549),s.e(7141),s.e(8926),s.e(7225),s.e(9250),s.e(9645),s.e(5052),s.e(7969),s.e(7222),s.e(7666),s.e(7725),s.e(3686),s.e(3166),s.e(5549),s.e(179)]).then(s.bind(s,529708)),o=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(5350),s.e(787),s.e(2201),s.e(9980),s.e(7549),s.e(7141),s.e(8926),s.e(7225),s.e(9250),s.e(9645),s.e(5052),s.e(7969),s.e(7222),s.e(7666),s.e(7725),s.e(3686),s.e(3166),s.e(5549),s.e(179)]).then(s.bind(s,638198)),c=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(5350),s.e(787),s.e(2201),s.e(9980),s.e(7549),s.e(7141),s.e(8926),s.e(7225),s.e(9250),s.e(9645),s.e(5052),s.e(7969),s.e(7222),s.e(7666),s.e(7725),s.e(3686),s.e(3166),s.e(5549),s.e(179)]).then(s.bind(s,465117)),d=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(5350),s.e(787),s.e(2201),s.e(9980),s.e(7549),s.e(7141),s.e(8926),s.e(7225),s.e(9250),s.e(9645),s.e(5052),s.e(7969),s.e(7222),s.e(7666),s.e(7725),s.e(3686),s.e(3166),s.e(5549),s.e(179)]).then(s.bind(s,408204)),u=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(5350),s.e(787),s.e(2201),s.e(9980),s.e(7549),s.e(7141),s.e(8926),s.e(7225),s.e(9250),s.e(9645),s.e(5052),s.e(7969),s.e(7222),s.e(7666),s.e(7725),s.e(3686),s.e(3166),s.e(5549),s.e(179)]).then(s.bind(s,702369)),l=()=>Promise.all([s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(8350),s.e(7060),s.e(5350),s.e(787),s.e(2201),s.e(9980),s.e(7549),s.e(7141),s.e(8926),s.e(7225),s.e(9250),s.e(9645),s.e(5052),s.e(7969),s.e(7222),s.e(7666),s.e(7725),s.e(3686),s.e(3166),s.e(5549),s.e(179)]).then(s.bind(s,753773)),m=[{path:"/my/subscriptions",name:"Subscribes",component:r,meta:{requiresAuth:!0},children:[{path:":type(active|expired|attention)",name:"SubscribesByType"}]}],h=[{path:"/my/subscribers/top/:year?/:month?",name:"SubscribersAwards",component:a,meta:{requiresPerformer:!0}},{path:"/my/subscribers",name:"Subscribers",component:n,meta:{requiresAuth:!0},children:[{path:":type(active|expired|activity)",name:"SubscribersByType"},{path:"restricted",redirect:{name:"RestrictedUsers"}}]},{path:"/my/promotions",name:"Promotions",component:i,meta:{requiresCanCreatePromotion:!0}},{path:"/my/blocked",name:"BlockedUsers",component:o,meta:{requiresAuth:!0}},{path:"/my/restricted",name:"RestrictedUsers",component:c,meta:{requiresAuth:!0}}],f=[{path:"/bookmarks",name:"BookmarkPosts",component:d,meta:{requiresAuth:!0,type:"all"},children:[{path:"photos",name:"BookmarkPosts_photos",component:d,meta:{type:"photos"}},{path:"videos",name:"BookmarkPosts_videos",component:d,meta:{type:"videos"}},{path:"audio",name:"BookmarkPosts_audio",component:d,meta:{type:"audios"}},{path:"other",name:"BookmarkPosts_other",component:d,meta:{type:"other"}},{path:"locked",name:"BookmarkPosts_locked",component:d,meta:{type:"locked"}}]}],p=[{path:"/my/lists",name:"UsersLists",component:u,meta:{requiresAuth:!0}},{path:"/my/lists/:list",name:"CustomList",component:l,meta:{requiresAuth:!0}},{path:"/my/friends",name:"MyFriends",component:l,meta:{requiresPerformer:!0}},{path:"/my/bookmarks",name:"Bookmarks",component:l,meta:{requiresAuth:!0}},{path:"/my/favorites",name:"Favorites",component:l,meta:{requiresAuth:!0}}]},619849:function(e,t,s){"use strict";s.d(t,{$M:function(){return Et},$c:function(){return Pt},$q:function(){return Oe},A7:function(){return Ee},AI:function(){return G},AO:function(){return F},BK:function(){return rt},Bd:function(){return f},C:function(){return Me},CD:function(){return $},Cm:function(){return i},Cr:function(){return pt},D:function(){return Ze},Dh:function(){return A},Dw:function(){return Ge},EF:function(){return Ae},F1:function(){return ct},Ff:function(){return Mt},Fr:function(){return Je},Gb:function(){return q},Hi:function(){return lt},Ko:function(){return O},L_:function(){return D},Lk:function(){return ze},M6:function(){return $e},MV:function(){return _t},Mh:function(){return Tt},Mx:function(){return ge},N3:function(){return ye},Ng:function(){return vt},Nl:function(){return N},Ns:function(){return Qe},Nt:function(){return Fe},OI:function(){return At},ON:function(){return me},Of:function(){return yt},Oj:function(){return _e},P1:function(){return h},Pd:function(){return He},Pz:function(){return M},Q$:function(){return k},QF:function(){return X},QI:function(){return Ye},QR:function(){return P},R:function(){return Ke},R5:function(){return nt},Rb:function(){return We},Ro:function(){return pe},SK:function(){return de},Si:function(){return R},Tj:function(){return je},UG:function(){return Ve},UR:function(){return ve},UU:function(){return Re},Um:function(){return n},Ux:function(){return E},VP:function(){return b},Vb:function(){return st},Vo:function(){return m},Vv:function(){return J},Wb:function(){return p},XH:function(){return dt},Xh:function(){return x},Xn:function(){return Y},Xz:function(){return Ie},YB:function(){return Lt},YR:function(){return T},YV:function(){return v},Ym:function(){return bt},Zp:function(){return ht},_B:function(){return o},_Q:function(){return Te},_e:function(){return ke},_p:function(){return xt},aY:function(){return z},b$:function(){return ue},be:function(){return fe},c0:function(){return at},cP:function(){return ot},cZ:function(){return U},ds:function(){return be},eD:function(){return ft},fC:function(){return Be},fD:function(){return y},fS:function(){return ee},ff:function(){return B},gu:function(){return tt},h2:function(){return xe},hF:function(){return L},hM:function(){return wt},hS:function(){return le},i4:function(){return se},iN:function(){return Q},i_:function(){return $t},if:function(){return we},ip:function(){return mt},j8:function(){return V},je:function(){return I},jk:function(){return c},km:function(){return ne},l$:function(){return _},lI:function(){return Ce},ld:function(){return W},m9:function(){return a},mb:function(){return Ue},nO:function(){return ae},of:function(){return Le},or:function(){return gt},ow:function(){return j},p9:function(){return Z},pC:function(){return Ct},pt:function(){return qe},qP:function(){return Se},qW:function(){return g},rL:function(){return oe},ri:function(){return S},rn:function(){return l},s3:function(){return Xe},sA:function(){return te},sE:function(){return ce},si:function(){return C},sq:function(){return Ft},st:function(){return he},sy:function(){return K},tF:function(){return H},tj:function(){return Pe},tn:function(){return De},tw:function(){return it},ui:function(){return ie},uq:function(){return re},us:function(){return w},vk:function(){return It},wR:function(){return et},x6:function(){return Ne},xk:function(){return u},xq:function(){return d},zH:function(){return St},zc:function(){return ut},zz:function(){return kt}});var r=s(420629);const n=e=>({...(0,r.rn)("users",[...e])}),a=e=>({...(0,r.Se)("users",[...e])}),i=e=>({...(0,r.OI)("users",[...e])}),o=e=>({...(0,r.nv)("users",[...e])}),c=e=>({...(0,r.rn)("posts",[...e])}),d=e=>({...(0,r.Se)("posts",[...e])}),u=e=>({...(0,r.OI)("posts",[...e])}),l=e=>({...(0,r.nv)("posts",[...e])}),m=e=>({...(0,r.Se)("comments",[...e])}),h=e=>({...(0,r.nv)("comments",[...e])}),f=e=>({...(0,r.rn)("modals",[...e])}),p=e=>({...(0,r.Se)("modals",[...e])}),g=e=>({...(0,r.OI)("modals",[...e])}),y=e=>({...(0,r.rn)("auth",[...e])}),S=e=>({...(0,r.Se)("auth",[...e])}),P=e=>({...(0,r.OI)("auth",[...e])}),v=e=>({...(0,r.nv)("auth",[...e])}),w=e=>({...(0,r.Se)("socket",[...e])}),b=e=>({...(0,r.OI)("socket",[...e])}),I=e=>Array.isArray(e)?{...(0,r.rn)("chats",[...e])}:{...(0,r.rn)("chats",e)},k=e=>({...(0,r.Se)("chats",[...e])}),C=e=>({...(0,r.OI)("chats",[...e])}),T=e=>({...(0,r.nv)("chats",[...e])}),$=e=>({...(0,r.Se)("streams",[...e])}),L=e=>({...(0,r.nv)("streams",[...e])}),M=e=>({...(0,r.rn)("streamsPast",[...e])}),_=e=>({...(0,r.Se)("streamsPast",[...e])}),A=e=>({...(0,r.nv)("streamsPast",[...e])}),x=e=>({...(0,r.Se)("streamsScheduled",[...e])}),F=e=>({...(0,r.nv)("streamsScheduled",[...e])}),E=e=>({...(0,r.rn)("shopify",[...e])}),D=e=>({...(0,r.Se)("shopify",[...e])}),U=e=>({...(0,r.nv)("shopify",[...e])}),O=e=>({...(0,r.rn)("settings",[...e])}),R=e=>({...(0,r.Se)("settings",[...e])}),Z=e=>({...(0,r.OI)("settings",[...e])}),B=e=>({...(0,r.nv)("settings",[...e])}),j=e=>({...(0,r.rn)("init",[...e])}),W=e=>({...(0,r.Se)("init",[...e])}),q=e=>({...(0,r.OI)("init",[...e])}),V=e=>({...(0,r.nv)("init",[...e])}),N=e=>({...(0,r.rn)("subscribes",[...e])}),H=e=>({...(0,r.Se)("subscribes",[...e])}),z=e=>({...(0,r.OI)("subscribes",[...e])}),X=e=>({...(0,r.nv)("subscribes",[...e])}),G=e=>({...(0,r.rn)("subscribers",[...e])}),Y=e=>({...(0,r.Se)("subscribers",[...e])}),K=e=>({...(0,r.OI)("subscribers",[...e])}),Q=e=>({...(0,r.nv)("subscribers",[...e])}),J=e=>({...(0,r.rn)("offers",[...e])}),ee=e=>({...(0,r.Se)("offers",[...e])}),te=e=>({...(0,r.OI)("offers",[...e])}),se=e=>({...(0,r.nv)("offers",[...e])}),re=e=>({...(0,r.Se)("static",[...e])}),ne=e=>({...(0,r.OI)("static",[...e])}),ae=e=>({...(0,r.nv)("static",[...e])}),ie=e=>({...(0,r.nv)("postStatCollector",[...e])}),oe=e=>({...(0,r.rn)("referrals",[...e])}),ce=e=>({...(0,r.OI)("referrals",[...e])}),de=e=>({...(0,r.nv)("referrals",[...e])}),ue=e=>({...(0,r.rn)("creditTransactions",[...e])}),le=e=>({...(0,r.OI)("creditTransactions",[...e])}),me=e=>({...(0,r.nv)("creditTransactions",[...e])}),he=e=>({...(0,r.Se)("payments",[...e])}),fe=e=>({...(0,r.OI)("payments",[...e])}),pe=e=>({...(0,r.nv)("payments",[...e])}),ge=e=>({...(0,r.rn)("statements",[...e])}),ye=e=>({...(0,r.Se)("statements",[...e])}),Se=e=>({...(0,r.OI)("statements",[...e])}),Pe=e=>({...(0,r.nv)("statements",[...e])}),ve=e=>({...(0,r.rn)("banking",[...e])}),we=e=>({...(0,r.Se)("banking",[...e])}),be=e=>({...(0,r.OI)("banking",[...e])}),Ie=e=>({...(0,r.nv)("banking",[...e])}),ke=e=>({...(0,r.rn)("stories",[...e])}),Ce=e=>({...(0,r.Se)("stories",[...e])}),Te=e=>({...(0,r.nv)("stories",[...e])}),$e=e=>({...(0,r.OI)("stories",[...e])}),Le=e=>({...(0,r.Se)("bundles",[...e])}),Me=e=>({...(0,r.nv)("bundles",[...e])}),_e=e=>({...(0,r.rn)("streaming",[...e])}),Ae=e=>({...(0,r.Se)("streaming",[...e])}),xe=e=>({...(0,r.OI)("streaming",[...e])}),Fe=e=>({...(0,r.nv)("streaming",[...e])}),Ee=e=>({...(0,r.rn)("live",[...e])}),De=e=>({...(0,r.Se)("live",[...e])}),Ue=e=>({...(0,r.OI)("live",[...e])}),Oe=e=>({...(0,r.nv)("live",[...e])}),Re=e=>({...(0,r.Se)("massMessagesStat",[...e])}),Ze=e=>({...(0,r.OI)("massMessagesStat",[...e])}),Be=e=>({...(0,r.nv)("massMessagesStat",[...e])}),je=e=>({...(0,r.rn)("router",[...e])}),We=e=>({...(0,r.Se)("router",[...e])}),qe=e=>({...(0,r.rn)("usersLists",[...e])}),Ve=e=>({...(0,r.Se)("usersLists",[...e])}),Ne=e=>({...(0,r.OI)("usersLists",[...e])}),He=e=>({...(0,r.nv)("usersLists",[...e])}),ze=e=>({...(0,r.rn)("lastPosts",[...e])}),Xe=e=>({...(0,r.OI)("lastPosts",[...e])}),Ge=e=>({...(0,r.nv)("lastPosts",[...e])}),Ye=e=>({...(0,r.rn)("photoSwipe",e)}),Ke=e=>({...(0,r.OI)("photoSwipe",e)}),Qe=e=>({...(0,r.Se)("performerHelpers",[...e])}),Je=e=>({...(0,r.OI)("performerHelpers",[...e])}),et=e=>({...(0,r.nv)("performerHelpers",[...e])}),tt=e=>({...(0,r.rn)("mediaVault",[...e])}),st=e=>({...(0,r.Se)("mediaVault",[...e])}),rt=e=>({...(0,r.OI)("mediaVault",[...e])}),nt=e=>({...(0,r.nv)("mediaVault",[...e])}),at=e=>({...(0,r.Se)("translations",[...e])}),it=e=>({...(0,r.rn)("currentPlayMedia",[...e])}),ot=e=>({...(0,r.OI)("currentPlayMedia",[...e])}),ct=e=>({...(0,r.OI)("formApiErrors",[...e])}),dt=e=>({...(0,r.rn)("draft",[...e])}),ut=e=>({...(0,r.Se)("draft",[...e])}),lt=e=>({...(0,r.OI)("draft",[...e])}),mt=e=>({...(0,r.rn)("schedule",[...e])}),ht=e=>({...(0,r.Se)("schedule",[...e])}),ft=e=>({...(0,r.OI)("schedule",[...e])}),pt=e=>({...(0,r.nv)("schedule",[...e])}),gt=e=>({...(0,r.rn)("postLabels",[...e])}),yt=e=>({...(0,r.Se)("postLabels",[...e])}),St=e=>({...(0,r.OI)("postLabels",[...e])}),Pt=e=>({...(0,r.nv)("postLabels",[...e])}),vt=e=>({...(0,r.rn)("statistic",[...e])}),wt=e=>({...(0,r.Se)("statistic",[...e])}),bt=e=>({...(0,r.OI)("statistic",[...e])}),It=e=>({...(0,r.nv)("statistic",[...e])}),kt=e=>({...(0,r.Se)("hints",[...e])}),Ct=e=>({...(0,r.OI)("hints",[...e])}),Tt=e=>({...(0,r.rn)("savedForLater",[...e])}),$t=e=>({...(0,r.Se)("savedForLater",[...e])}),Lt=e=>({...(0,r.OI)("savedForLater",[...e])}),Mt=e=>({...(0,r.nv)("savedForLater",[...e])}),_t=e=>({...(0,r.rn)("campaigns",[...e])}),At=e=>({...(0,r.nv)("campaigns",[...e])}),xt=e=>({...(0,r.rn)("releaseForms",[...e])}),Ft=e=>({...(0,r.OI)("releaseForms",[...e])}),Et=e=>({...(0,r.nv)("releaseForms",[...e])})},550615:function(e,t,s){"use strict";var r=s(730236),n=s.n(r),a=s(328583),i=s.n(a),o=s(682492),c=s.n(o),d=s(720144),u=s(420629),l=s(614278),m=s.n(l),h=s(211988),f=s(84702);d["default"].use(u.ZP);const p=[(0,f.Z)({paths:["draft"],key:"draft",filter:e=>["draft/setPostDraft","draft/removePostDraft","draft/setChatDraft","draft/removeChatDraft","draft/logout"].includes(e.type)}),(0,f.Z)({storage:window.sessionStorage,paths:["hints"],key:"vuexSession"})];navigator.cookieEnabled&&p.push(m()({predicate:["users/setUserHiddenPosts"]})),t["Z"]=new u.ZP.Store({strict:!1,modules:h["default"],plugins:p,actions:{logout(){return new Promise((e=>{Object.keys(this.state).forEach((e=>{this.commit(`${e}/logout`)})),e()}))}},mutations:{set(e,t){if(t.entities){if(t.entities.posts||t.entities.linkedPosts){const s={...t.entities.linkedPosts,...t.entities.posts};e.posts.items=n()({},e.posts.items,s,((e,t)=>{if(Array.isArray(t))return t}))}if(t.entities.users){const s={...t.entities.users},r=Object.keys(s).map(Number);if(e.users.needResetCheckOnlines){e.users.needResetCheckOnlines=!1;const t=e.auth.user;e.users.checkOnlines=[...new Set([...r,t])]}else e.users.checkOnlines=[...new Set([...e.users.checkOnlines,...r])];e.users.items=n()({},e.users.items,s,((e,t,s)=>"view"===s?i()(e||{},t):Array.isArray(t)?t:void 0))}if(t.entities.usersLists&&(e.usersLists.items=n()({},e.usersLists.items,t.entities.usersLists,((e,t)=>{if(Array.isArray(t))return t}))),t.entities.comments&&(e.comments.items=c()({},e.comments.items,t.entities.comments)),t.entities.chats){const s={...t.entities.chats};e.chats.items=c()({},e.chats.items,s)}if(t.entities.chatUser){const s={...t.entities.chatUser};Object.keys(s).forEach((e=>{s[e].messages=[],s[e].typing=!1})),e.chats.items=c()({},e.chats.items,s)}if(t.entities.messages){const s={...t.entities.messages};t.chatId&&Object.keys(s).forEach((e=>{s[e].chatId=+t.chatId})),e.chats.messages=c()({},e.chats.messages,s)}t.entities.streams&&(e.streams.items=n()({},e.streams.items,t.entities.streams,((e,t)=>{if(Array.isArray(t))return t}))),t.entities.subscribes&&(e.subscribes.items=c()({},e.subscribes.items,t.entities.subscribes)),t.entities.subscribers&&(e.subscribers.items=c()({},e.subscribers.items,t.entities.subscribers)),t.entities.offers&&(e.offers.items=c()({},e.offers.items,t.entities.offers)),t.entities.spotifyArtists&&(e.settings.spotifyArtistsItems=c()({},e.settings.spotifyArtistsItems,t.entities.spotifyArtists)),t.entities.spotifyTracks&&(e.settings.spotifyTracksItems=c()({},e.settings.spotifyTracksItems,t.entities.spotifyTracks)),t.entities.cards&&(e.payments.cards=c()({},e.payments.cards,t.entities.cards)),t.entities.bundles&&(e.bundles.items=c()({},e.bundles.items,t.entities.bundles)),t.entities.commentIds&&(e.comments.itemsIds=n()({},e.comments.itemsIds,t.entities.commentIds,((e,t)=>{if(Array.isArray(t))return t}))),t.entities.repliesIds&&(e.static.repliesIds=n()({},e.static.repliesIds,t.entities.repliesIds,((e,t)=>{if(Array.isArray(t))return t}))),t.entities.ticketReplies&&(e.static.ticketReplies=c()({},e.static.ticketReplies,t.entities.ticketReplies)),t.entities.votersList&&(e.posts.votersList=n()({},e.posts.votersList,t.entities.votersList,((e,t)=>{if(Array.isArray(t))return t}))),t.entities.supportTickets&&(e.static.supportTickets=c()({},e.static.supportTickets,t.entities.supportTickets)),t.entities.performerHelpers&&(e.performerHelpers.items=c()({},e.performerHelpers.items,t.entities.performerHelpers)),t.entities.helperAccess&&(e.performerHelpers.helperAccess=c()({},e.performerHelpers.helperAccess,t.entities.helperAccess)),t.entities.postLabels&&(e.postLabels.items=n()({},e.postLabels.items,t.entities.postLabels,((e,t)=>{if(Array.isArray(t))return t}))),t.entities.vaultLists&&(e.mediaVault.vaultLists=c()({},e.mediaVault.vaultLists,t.entities.vaultLists)),t.entities.stories&&(e.stories.items=n()({},e.stories.items,t.entities.stories,((e,t,s)=>{if("src"===s&&e&&t&&e.split("?")[0]===t.split("?")[0])return e}))),t.entities.highlights&&(e.stories.highlightsItems={...e.stories.highlightsItems,...t.entities.highlights}),t.entities.massMessagesStat&&(e.massMessagesStat.items=c()({},e.massMessagesStat.items,t.entities.massMessagesStat)),t.entities.releaseForms&&(e.releaseForms.items=c()({},e.releaseForms.items,t.entities.releaseForms))}}}})},397235:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return g},getters:function(){return f},mutations:function(){return p},state:function(){return h}});var r=s(227361),n=s.n(r),a=s(782677),i=s(243168),o=s(97386),c=s(999023),d=s(172462),u=s(925832),l=s(114494);const m=()=>({user:null,logoutInProgress:!1,subscriptionInitiated:!1,isLogin:!0,QRCode:"",QRCodeSize:{width:246,height:246},accessToken:void 0,visitorId:void 0}),h=m(),f={authUser(e,t,s){const r=n()(e,"user",!1);let a={};return r&&(a=n()(s,`users.items[${r}]`,{})),a},authUserNotificationsCount(e,t,s){const r=e.user;return r?s.users.items[r].notificationsCount:0},authUserId:e=>e.user,isAuth:e=>!!e.user},p={setAuthUser(e,t){e.user=t},setLogoutInProgress(e,t){e.logoutInProgress=t},setSubscriptionInitiated(e,t){e.subscriptionInitiated=t},setIsLogin(e,t){e.isLogin=t},setQRCode(e,t=""){e.QRCode=t},setQRCodeSize(e,t={}){e.QRCodeSize={...e.QRCodeSize,...t}},setVisitorId(e,t){e.visitorId=t},setAccessToken(e,t){e.accessToken=t},logout(e){Object.assign(e,m(),{visitorId:e.visitorId})}},g={async login(e,t){return await(0,o.x4)(t)},async loginAsReferral(e,t){return await(0,o.pP)(t)},async logoutFromReferral(){return await(0,o.jK)()},async reqLogout({commit:e}){e("setLogoutInProgress",!0);const t=await(0,o.uf)();return l.ZP.$store.dispatch("logout"),t},async register(e,t){return await(0,o.z2)(t)},async fetchUserMe({commit:e,dispatch:t}){let s;try{if(s=await(0,c.ui)(),s&&"object"===typeof s){s.hasScheduledStream&&t("schedule/fetchClosestScheduledStream",{},{root:!0});const r=(0,a.Fv)(s,i.IK);e("set",r,{root:!0}),e("setAuthUser",s.id),s.hasScenario&&await(0,u.Z)(),"Profile"!==l.ZP.$route.name&&"Post"!==l.ZP.$route.name||l.ZP.$route.params.userId!==s.username||e("users/setCurrentUser",s.id,{root:!0})}else(0,d.oj)({error:new Error("typeof response is incorrect"),extra:{response:s}});e("init/mainRequestsLoaded",!0,{root:!0})}catch(r){e("init/mainRequestsLoaded",!0,{root:!0}),r&&(401===r.status||r.data&&r.data.error&&101===r.data.error.code)||(0,d.oj)({error:r})}},async fetchUserAuthToken({commit:e,state:t}){let s;try{s=await(0,c.Nh)(),s&&"object"===typeof s&&e("users/setUserField",{userId:t.user,field:"wsAuthToken",status:s.wsAuthToken},{root:!0})}catch(r){}},async fetchAccessToken({commit:e}){let t;try{t=await(0,o.To)(),t&&"object"===typeof t&&e("setAccessToken",t.accessToken)}catch(s){}}}},906189:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return p},getters:function(){return h},mutations:function(){return f},state:function(){return m}});var r=s(150361),n=s.n(r),a=s(227361),i=s.n(a),o=s(398563),c=s(218684),d=s(617875),u=s(172462);const l=()=>({payoutsBank:{},payoutsBankPreview:{},payoutsStripe:{stripe_legal:{}},payoutsLegal:{},disableSubmit:!1,paymentErrors:"",payoutsAccount:{},loading:!1,bankingLoading:!1,isEditBanking:!1}),m=l(),h={payoutsStripe(e){return e.payoutsStripe},payoutsAccount(e){return e.payoutsAccount},getBankingState:e=>t=>void 0!==e[t]?e[t]:"",getLoading(e){return e.loading}},f={setBankingState(e,{field:t,value:s}){void 0!==e[t]&&(e[t]=s)},setPayoutsBank(e,t){const{payoutCode:s}=t,r=t.payouts.find((e=>e.code===s));r&&r.fields&&Object.keys(r.fields).forEach((e=>{const{value:t,type:s}=r.fields[e];t||(r.fields[e].value=""),"checkbox"===s&&(r.fields[e].value=!!r.fields[e].value)})),e.payoutsBank=t},setPayoutsBankPreview(e,t){e.payoutsBankPreview=n()(t)},setPayoutsStripe(e,t){e.payoutsStripe={...e.payoutsStripe,...t}},setPayoutsStripeSections(e,t){e.payoutsStripe={...e.payoutsStripe,...t}},setPayoutsLegal(e,t){e.payoutsLegal=t},clearPayoutsStripe(e){e.payoutsStripe={stripe_legal:{}}},clearPayoutsStripeLegal(e){e.payoutsStripe.stripe_legal={}},setPayoutsAccount(e,t){e.payoutsAccount=t},changePayoutFieldValue(e,{code:t,field:s,value:r,stripe:n=!1}){(t||s)&&(n?e.payoutsStripe[t].fields[s].value=r:e.payoutsBank.payouts.find((e=>e.code===t)).fields[s].value=r)},setStripeStates(e,t){i()(e,"payoutsStripe.stripe_legal.fields.legal_address_state.values")&&(e.payoutsStripe.stripe_legal.fields.legal_address_state.values=t)},setLoading(e,t){e.loading=t},setBankingLoading(e,t){e.bankingLoading=t},setIsEditBanking(e,t){e.isEditBanking=t},logout(e){Object.assign(e,l())}},p={async fetchPayoutsBank({commit:e},{other:t=!1,...s}={}){let r;r=t?await(0,o.mt)():await(0,o.iO)(s),r&&(e("setPayoutsBankPreview",r),e("setPayoutsBank",r),e("setIsEditBanking","edit"===s.context))},async fetchPayoutsLegal({commit:e}){let t;return t=await(0,o.Jd)(),t&&e("setPayoutsLegal",t),t},async sendPayoutsBank({commit:e},t){let s;s=await(0,o.KD)(t),s&&(e("setPayoutsBankPreview",s),e("setPayoutsBank",s))},async removePayoutsBank({dispatch:e}){try{const t=await(0,o.uI)();t&&t.success&&e("fetchPayoutsBank")}catch(t){(0,u.Po)(t)}},async fetchPayoutsAccount({commit:e}){let t;try{t=await(0,o.cD)()}catch(s){}t&&e("setPayoutsAccount",t)},async fetchPayoutsStripe({commit:e}){let t;e("setLoading",!0),t=await(0,o.GG)(),t&&(e("setPayoutsStripe",t),e("setLoading",!1))},async fetchStripeStates({commit:e,state:t}){try{const s=await(0,d.Yx)(t.payoutsAccount.id);e("setStripeStates",s)}catch(s){}},async fetchPayoutsStripeLegal({commit:e,dispatch:t}){let s;try{s=await(0,o.SH)()}catch(r){}s&&(i()(s,"stripe_legal.fields.legal_address_state")&&t("fetchStripeStates"),e("setPayoutsStripeSections",s))},async sendPayoutsStripeLegal({commit:e,dispatch:t},s){let r;return r=await(0,o.t1)(s),r&&(i()(r,"stripe_legal.fields.legal_address_state")&&t("fetchStripeStates"),e("setPayoutsStripeSections",r)),r},async fetchPayoutsStripeAccount({commit:e},{edit:t=!1}={}){let s;try{s=await(0,o.VN)(t)}catch(r){}s&&e("setPayoutsStripeSections",s)},async sendPayoutsStripeAccount({commit:e},t){let s;s=await(0,o.oY)(t),s&&e("setPayoutsStripeSections",s)},async fetchPaymentsAlternativeMethodsForm({commit:e},t){let s;if(await(0,c.u6)(t),s){s.code="alternative";const t={payouts:[],payoutCode:"alternative"};t.payouts.push(s),e("setPayoutsBankPreview",t),e("setPayoutsBank",t)}},sendPaymentsAlternativeMethodsForm(e,t){return(0,c.Eh)(t)}}},615675:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return u},getters:function(){return c},mutations:function(){return d},state:function(){return o}});var r=s(975701);const n=()=>{const e=`${r.tW}/pages/contacts`;return r.ZP.get(e).then((e=>e.data))},a=({data:e})=>{const t=`${r.tW}/pages/contacts`;return r.ZP.post(t,e).then((e=>e.data))},i=()=>({contacts:{},selectedSubject:"",contactsLoading:!1,submitting:!1}),o=i(),c={contacts:e=>e.contacts,contactsLoading:e=>e.contactsLoading,submitting:e=>e.submitting},d={setContacts(e,{data:t}){e.contacts=t},setContactsLoading(e,t){e.contactsLoading=t},setSubmitting(e,t){e.submitting=t},setSelectedSubject(e,{subject:t}){e.selectedSubject=t},logout(e){Object.assign(e,i())}},u={async fetchContacts({commit:e}){let t;e("setContactsLoading",!0);try{t=await n()}catch(s){Sentry.captureException(s),t={}}return e("setContacts",{contacts:t}),e("setContactsLoading",!1),t},async sendContacts({commit:e},{data:t}){let s;e("setSubmitting",!0);try{s=await a({data:t})}catch(r){throw Sentry.captureException(r),e("setSubmitting",!1),r}return e("setSubmitting",!1),s}}},497965:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return p},getters:function(){return h},mutations:function(){return f},state:function(){return m}});var r=s(782677),n=s(243168),a=s(172462),i=s(975701);const o=e=>{const t=`${i.tW}/subscriptions/bundles`;return i.ZP.post(t,e).then((e=>e.data))},c=()=>{const e=`${i.tW}/subscriptions/bundles`;return i.ZP.get(e).then((e=>e.data))},d=e=>{const t=`${i.tW}/subscriptions/bundles/${e.id}`;return i.ZP.put(t,e).then((e=>e.data))},u=e=>{const t=`${i.tW}/subscriptions/bundles/${e}`;return i.ZP["delete"](t).then((e=>e.data))},l=()=>({items:{},loading:!1}),m=l(),h={getBundles:e=>t=>t.map((t=>e.items[t]))},f={deleteBundle(e,t){const s={...e.items};delete s[t],e.items=s},logout(e){Object.assign(e,l())}},p={async fetchBundles({commit:e}){try{const t=await c();if(t&&t.length){const s=(0,r.Fv)(t,n.H3);e("set",s,{root:!0}),e("setBundles",s.result)}}catch(t){Sentry.captureException(t)}},async saveBundle({commit:e,rootGetters:t},s){try{let a;if(a=s.id?await d(s):await o(s),a&&a.id){const s=(0,r.Fv)(a,n.Vz);e("set",s,{root:!0});const i=t["auth/authUserId"];e("users/setBundle",{userId:i,bundleId:a.id},{root:!0})}}catch(i){(0,a.Po)(i)}},async deleteBundle({commit:e,rootGetters:t},s){try{const r=await u(s);if(r){const r=t["auth/authUserId"];e("users/deleteBundle",{userId:r,bundleId:s},{root:!0}),e("deleteBundle",s)}}catch(r){(0,a.Po)(r)}}}},807394:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return m},mutations:function(){return l},state:function(){return u}});var r=s(545578),n=s.n(r),a=s(782677),i=s(243168),o=s(76816),c=s(172462);const d=()=>({isLoading:!1,campaigns:{list:[],hasMore:!1},chartData:{loading:!1,data:null},claimersList:[]}),u=d(),l={setIsLoading(e,t){e.isLoading=t},setCampaigns(e,{campaigns:{list:t,hasMore:s},more:r=!1}){e.campaigns={list:r?n()([...e.campaigns.list,...t],"id"):t,hasMore:s}},setChartData(e,t){e.chartData.data=t},setChartDataLoading(e,t){e.chartData.loading=t},setCampaign(e,t){e.campaigns.list.unshift(t)},deleteCampaignMutation(e,t){e.campaigns.list=e.campaigns.list.filter((e=>e.id!==t))},logout(e){Object.assign(e,d())},setCampaignClaimers(e,{list:t,more:s}){e.claimersList=s?[...new Set([...e.claimersList,...t])]:t},resetCampaignClaimers(e){e.claimersList=d().claimersList}},m={async createCampaign({commit:e},t={}){let s;try{if(s=await(0,o.jP)(t),s&&Array.isArray(s)){const[t]=s;e("setCampaign",t)}else(0,c.oj)({error:new Error("typeof response is incorrect"),extra:{response:s}})}catch(r){(0,c.Po)(r)}return s},async deleteCampaignAction({commit:e},t){let s;try{s=await(0,o.bO)(t),s&&e("deleteCampaignMutation",t)}catch(r){(0,c.Po)(r)}return s},async fetchCampaigns({commit:e},{limit:t,offset:s,sort:r,field:n,more:a,startDate:i,endDate:u,withDeleted:l}={}){e("setIsLoading",!0);const m=d();a||e("setCampaigns",{campaigns:m.campaigns});try{const d=await(0,o._z)({limit:t,offset:s,sort:r,field:n,startDate:i,endDate:u,withDeleted:l});return e("setIsLoading",!1),d&&"object"===typeof d?e("setCampaigns",{campaigns:d,more:a}):(0,c.oj)({error:new Error("typeof response is incorrect"),extra:{response:d}}),d}catch(h){return Sentry.captureException(h),e("setIsLoading",!1),m.campaigns}},async fetchCampaignsChart({commit:e},{startDate:t,endDate:s}={}){let r;e("setChartDataLoading",!0);try{if(r=await(0,o.IK)({startDate:t,endDate:s}),r){const{claims:t,clicks:s,delta:n,total:a}=r,i={subscribers:t,clicks:s,delta:n,total:a};e("setChartData",i)}else(0,c.oj)({error:new Error("typeof response is incorrect"),extra:{response:r}})}catch(n){Sentry.captureException(n)}finally{e("setChartDataLoading",!1)}return r},async fetchCampaignClaimers({commit:e},{id:t,offset:s,more:r=!1,limit:n}){let d;try{if(d=await(0,o.et)({id:t,offset:s,more:r,limit:n}),d&&d.list){const s=(0,a.Fv)(d.list,i.Xd);e("set",s,{root:!0}),e("setCampaignClaimers",{campaignId:t,list:s.result,more:r})}}catch(u){(0,c.Po)(u)}return d}}},835401:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return P},getters:function(){return y},mutations:function(){return S},state:function(){return g}});var r=s(957557),n=s.n(r),a=s(227361),i=s.n(a),o=s(720144),c=s(782677),d=s(114494),u=s(243168),l=s(410697),m=s(172462),h=s(975701),f=s(914786);const p=()=>({chats:[],items:{},currentChat:null,messages:{},chatsLoading:!1,chatsListLoading:!1,sendMessageLoading:!1,searchIds:[],currentSearchIndex:null,searchQuery:"",chatsSort:null,chatsFilter:null,mobileVersion:!1,chatsListHasMore:!1,emptyMessagesList:!1,firstLoadingChatsList:!1,firstLoadingMessagesList:!1,usersTotal:0,selectedUsersIds:0,queueIds:[],queueItems:{},media:[],queueBuyersMarker:0,queueBuyersIds:[],queueBuyersError:!1,selectedUsers:[],galleryListNextLastId:void 0,showViewAllInclude:!1,selectViewAllInclude:[],showViewAllExclude:!1,selectViewAllExclude:[],nextOffset:0,scheduleQueueMessage:null,hasMoreUsers:!1,messagesHasMore:{},messageIdToCentered:null}),g=p(),y={chatsByType:e=>e.chats.map((t=>e.items[t])).filter((e=>e)),getChat:e=>t=>e.items[t],getMessages:e=>(t=[])=>t.map((t=>e.messages[t])),getMessage:e=>t=>e.messages[t],chatMessages:e=>t=>e.items[t].messages,getLikePrevent:e=>t=>e.messages[t].likePrevent,getIsMediaPlayed:e=>t=>e.messages[t].isMediaPlayed,getQueueItem:e=>t=>e.queueItems[t]},S={setLoading(e,t){e.chatsLoading=t},setChatsListLoading(e,t){e.chatsListLoading=t},setCurrentChat(e,t){e.currentChat=t},setSendMessageLoading(e,t){e.sendMessageLoading=t},setHasMoreUsers(e,t){e.hasMoreUsers=t},setMobileVersion(e,t){e.mobileVersion=t},setChats(e,{ids:t=[]}){e.chats=t},resetChats(e){e.chats=[]},addChats(e,{ids:t}){e.chats=[...new Set([...e.chats,...t])]},setChatMessages(e,t){const{id:s,messageIds:r,add:n=!1,before:a=!0,ownMsg:i,isSocket:c=!1}=t,d=Array.isArray(r)?r:[r];!1!==i||e.items[s]||o["default"].set(e.items,t.id,{withUser:t.id,unreadMessagesCount:1,messages:[],hasUnreadTips:!1,countPinnedMessages:0}),n?e.items[s]&&Object.keys(e.items[s].messages).length?e.items[s].messages=a?[...new Set([...d,...e.items[s].messages])]:[...new Set([...e.items[s].messages,...d.reverse()])]:(e.items[s]&&(e.items[s].messages=[...new Set([...e.items[s].messages,...d])]),c&&"newest"===e.chatsSort&&(e.chats=e.chats.reduce(((e,t)=>t!==s?[...e,t]:e),[s]))):e.items[s]&&(e.items[s].messages=d)},setLastMessage(e,{chatId:t,messageId:s,ownMsg:r=!1,isNew:n}){e.items[t]&&(e.items[t].prevMessage=e.items[t].lastMessage,e.items[t].lastMessage=s,!r&&void 0!==e.items[t].unreadMessagesCount&&null!==e.items[t].unreadMessagesCount&&n&&(e.items[t].unreadMessagesCount+=1))},deleteChat(e,t){const s=Array.isArray(t)?t:[t];e.chats=e.chats.filter((e=>!s.includes(e))),e.items=n()(e.items,s)},deleteSomeChat(e,t){t.forEach((t=>{e.chats=e.chats.filter((e=>e!==t))}))},setMessageIdToCentered(e,t){e.messageIdToCentered=t},setSearchIds(e,t){e.searchIds=t},setCurrentSearchIndex(e,t){e.currentSearchIndex=t},setSearchQuery(e,t){e.searchQuery=t},deleteMessage(e,{chatId:t,messageId:s}){const r=e.items[t];if(!r)return;r.messages=r.messages.filter((e=>e!==s));const n=r.messages.length,a=n?r.messages[n-1]:null;r.prevMessage=a,r.lastMessage=a},deleteMessageById(e,t){const s=e.messages[t];if(s){if(s.chatId&&e.items[s.chatId]){const r=e.items[s.chatId].messages.filter((e=>e!==+t)),n=r[r.length-1];e.items[s.chatId].messages=r,e.items[s.chatId].lastMessage=n}s.isCanceled=!0,e.messages={...e.messages,message:s}}},decrMessageCancelSeconds(e,t){e.messages[t].cancelSeconds<=0?e.messages[t].cancelSeconds=0:e.messages[t].cancelSeconds-=1},setChatTyping(e,{chatId:t,status:s}){e.items[t]&&(e.items[t].typing=s)},setMessageIsNew(e,{messageId:t,status:s}){e.messages[t]&&(e.messages[t].isNew=s)},setMuted(e,{id:t,status:s}){e.items[t]&&(e.items[t].isMuted=s)},setChatsSort(e,t){if(void 0===t){let e="newest";try{["newest","oldest"].includes(f.Z.getItem("sort_chats"))&&(e=f.Z.getItem("sort_chats"))}catch(s){}t=e}e.chatsSort=t;try{f.Z.setItem("sort_chats",t)}catch(s){}},setChatsFilter(e,t){e.chatsFilter=t},setAddedNewItemChats(e,{id:t}){e.chats.unshift(t)},setNewUserChats(e,t){e.chats.includes(t)||(e.chats.unshift(t),e.chats.splice(-1,1))},setChatAsRead(e,t){e.items[t]&&(e.items[t].unreadMessagesCount=!1)},setLastReadMessageId(e,t){e.items[t]&&(e.items[t].lastReadMessageId=e.items[t].lastMessage)},setChatAsUnRead(e,t){e.items[t]&&(e.items[t].unreadMessagesCount=1)},setAllChatAsRead(e,t){Object.keys(e.items).forEach((s=>{t.includes(+s)&&(e.items[s].unreadMessagesCount=!1)}))},setNewMessageIds(e,t=[]){Array.isArray(t)||(t=[t]),t.forEach((t=>{+e.currentChat!==+t&&e.items[t]&&e.items[t].unreadMessagesCount&&!e.items[t].newMessageId&&(e.items[t].newMessageId=e.items[t].lastReadMessageId)}))},clearNewMessageId(e,t){e.items[t]&&(e.items[t].newMessageId=null)},setMessageReleaseForms(e,{messageId:t,value:s}){e.messages[t]&&(e.messages[t].releaseForms=s)},setMessageIsLiked(e,{messageId:t,value:s}){e.messages[t]&&(e.messages[t].isLiked=s)},setMessageIsPinned(e,{messageId:t,value:s}){e.messages[t]&&(e.messages[t].isPinned=s)},setChatMessagesPinnedCount(e,{chatId:t,value:s}){const r=e.items[t];r&&(r.countPinnedMessages||(r.countPinnedMessages=0),s?r.countPinnedMessages+=1:r.countPinnedMessages>0&&(r.countPinnedMessages-=1))},setChatUnpinned(e,{withUserId:t}){e.items[t]&&(e.items[t].countPinnedMessages=0)},setChatMessagesUnpinned(e,{withUserId:t}){e.items[t]&&e.items[t].messages.forEach((t=>{e.messages[t]&&(e.messages[t].isPinned=!1)}))},setLikePrevent(e,{messageId:t,value:s}){e.messages[t]&&(e.messages[t].likePrevent=s)},setMessageCancelSeconds(e,{messageId:t,value:s}){e.messages[t]&&(e.messages[t].cancelSeconds=s)},setIsMediaPlayed(e,{messageId:t,value:s}){e.messages[t]&&(e.messages[t].isMediaPlayed=s)},setChatsHasMore(e,{userId:t,hasMoreTop:s,hasMoreBottom:r}){let n={};n=e.messagesHasMore[t]?{...e.messagesHasMore[t],...void 0!==s&&{top:s},...void 0!==r&&{bottom:r}}:{top:!(!1===s),bottom:!(!1===r)},e.messagesHasMore={...e.messagesHasMore,[t]:n}},setChatsListHasMore(e,t){e.chatsListHasMore=t},setEmptyMessagesList(e,t){e.emptyMessagesList=t},setMuteNotifications(e,t){e.items[t]&&(e.items[t].isMutedNotifications=!e.items[t].isMutedNotifications)},setFirstLoadingChatsList(e,t){e.firstLoadingChatsList=t},setFirstLoadingMessagesList(e,t){!e.firstLoadingMessagesList&&t&&(e.firstLoadingMessagesList=!0),t||(e.firstLoadingMessagesList=!1)},setUsersTotal(e,t){e.usersTotal=t>0?t:0},setSelectedUsersIds(e,t){e.selectedUsersIds=t},setChatUserMedia(e,t){e.media=[...new Set(t)]},addChatUserMedia(e,t){e.media=[...new Set([...e.media,...t])]},setQueueBuyersMarker(e,t=0){e.queueBuyersMarker=t},setQueueBuyersIds(e,{more:t=!1,ids:s=[]}={}){e.queueBuyersIds=t?[...new Set([...e.queueBuyersIds,...s])]:s},setQueueBuyersError(e,t){e.queueBuyersError=t},setSelectedUsers(e,t){e.selectedUsers.includes(t)?e.selectedUsers=e.selectedUsers.filter((e=>e!==t)):e.selectedUsers.push(t)},setAllSelectedUsers(e){e.selectedUsers=e.chats},resetSelectedUsers(e){e.selectedUsers=[]},removeSelectedUserById(e,t){const s=Array.isArray(t)?t:[t];e.selectedUsers=e.selectedUsers.filter((e=>!s.includes(e)))},setGalleryNextLastId(e,t=null){e.galleryListNextLastId=t},setShowViewAllInclude(e,t){e.showViewAllInclude=t},setSelectViewAllInclude(e,t){e.selectViewAllInclude=t},setShowViewAllExclude(e,t){e.showViewAllExclude=t},setSelectViewAllExclude(e,t){e.selectViewAllExclude=t},setNextOffset(e,t){e.nextOffset=t},setMessagesQueue(e,{items:t}){const s=(0,c.Fv)(t,u.GD);e.queueItems=s.entities.queues||{},e.queueIds=s.result},setMessageScheduledQueue(e,t){e.scheduleQueueMessage=t},setMessageIsReportedByMeTemp(e,t=0){e.messages[t]&&(e.messages[t]={...e.messages[t],isReportedByMeTemp:!0})},setHasPurchesesFeed(e,{id:t,status:s}){e.items[t]&&e.items[t].hasPurchasedFeed!==s&&(e.items[t]={...e.items[t],hasPurchasedFeed:s})},setEmptyMessages(e,t){e.messagesHasMore={},e.firstLoadingMessagesList=!1,e.items[t]&&(e.items[t].messages=[])},logout(e){Object.assign(e,p())}},P={async fetchChats({commit:e,dispatch:t,state:s},{limit:r=h.P9,more:n=!1,filter:a,order:i,query:o,field:d,list_id:m,recent:f,muted:p}={}){const{cancelToken:g,Cancel:y}=(0,h.Yz)("fetchChats");e("setLoading",!0),e("setChatsListLoading",!0),n||(e("setChatsListHasMore",!1),e("setNextOffset",0),e("resetChats"));try{const h=await(0,l.zG)({limit:r,offset:s.nextOffset,filter:a,order:i,query:o,field:d,list_id:m,recent:f,muted:p},g);if(h&&Array.isArray(h.list))if(h.list.length){const s=(0,c.Fv)(h.list,u.rL),r=s.result,a={entities:{users:{}}};r.forEach((e=>{a.entities.users[e]={_views:["cl"]}})),await t("users/getUsersIfNeeded",a,{root:!0}),e("set",s,{root:!0}),e(n?"addChats":"setChats",{ids:r}),e("setNewMessageIds",r)}else n||h.hasMore||e("resetChats");return e("setChatsListHasMore",h&&h.hasMore),e("setNextOffset",h&&h.nextOffset||s.nextOffset+r),e("setLoading",!1),e("setChatsListLoading",!1),e("setFirstLoadingChatsList",!0),h}catch(S){return S instanceof y?{list:[],hasMore:!1}:(e("setChatsListHasMore",!1),e("setNextOffset",0),e("setLoading",!1),e("setChatsListLoading",!1),e("setFirstLoadingChatsList",!0),{list:[],hasMore:!1,error:!0})}},async fetchChat({commit:e,dispatch:t},s){try{const r=await(0,l.mb)(s);if(!r||"object"!==typeof r)throw(0,m.oj)({error:new Error("typeof response is incorrect"),extra:{response:r}}),new Error("Network Error");{const s=(0,c.Fv)(r,u.dO);await t("users/getUsersIfNeeded",s,{root:!0}),e("set",s,{root:!0})}}catch(r){throw d.ZP.$router.replace({name:"Chats"}),d.ZP.$nextTick((()=>{(0,m.Po)(r)})),r}},async fetchChatsMessages({commit:e,dispatch:t},{userId:s,lastId:r,firstId:n,id:a,more:i=!1,before:o=!0,limit:f=h.P9,filter:p,order:g="desc"}={}){e("setEmptyMessagesList",!1),i||e("setEmptyMessages",s);try{const m=await(0,l.DP)(s,{lastId:r,firstId:n,id:a,skip_users:"all",limit:f,filter:p,order:g});if(m&&m.list){let d;if(1===f&&1===m.list.length)d=(0,c.Fv)(m.list[0],u.w1),e("set",d,{root:!0});else{if(m.list.length){d=(0,c.Fv)(m.list,u.VR),await t("users/getUsersIfNeeded",d,{root:!0}),d.chatId=s,d.messageId=d.id,e("set",d,{root:!0});const r=d.result.reverse();e("setChatMessages",i?{id:s,messageIds:r,add:!0,before:o}:{id:s,messageIds:r})}else i||e("setEmptyMessagesList",!0);if(void 0===r&&void 0===n&&void 0===a)e("setChatsHasMore",{userId:s,hasMoreTop:!!m.hasMore,hasMoreBottom:!1});else{const t={userId:s,[o?"hasMoreTop":"hasMoreBottom"]:!!m.hasMore};m.list.length&&n&&!d.result.includes(+n)&&(t[o?"hasMoreBottom":"hasMoreTop"]=!1),e("setChatsHasMore",t)}e("setFirstLoadingMessagesList",!0)}}else e("setChatsHasMore",{userId:s,[o?"hasMoreTop":"hasMoreBottom"]:!1}),e("setFirstLoadingMessagesList",!0),alert(d.ZP.$t("message.debug_alert_message"))}catch(y){d.ZP.$router.replace({name:"Chats"}),d.ZP.$nextTick((()=>{(0,m.Po)(y)}))}},async fetchChatsUsers({commit:e,rootGetters:t,dispatch:s},{query:r,offset:n,sort:a,field:i,filter:o,limit:d=h.P9,scheduledSubscribedOn:f}={}){const{cancelToken:p,Cancel:g}=(0,h.Yz)("fetchChatsUsers");try{const h=t["users/needSkipUsersOnShort"]?"all":void 0,g=await(0,l.o8)({query:r,offset:n,sort:a,field:i,filter:o,limit:d,total:r||n?0:1,skip_users:h,scheduledSubscribedOn:f},p);if(g&&"object"===typeof g){const{hasMore:t,list:r,total:n}=g;if(e("setHasMoreUsers",!!t),"number"===typeof n&&e("setUsersTotal",n),Array.isArray(r)&&r.length){const t=(0,c.Fv)(r,u.Xd);return h&&await s("users/getUsersIfNeeded",t,{root:!0}),e("set",t,{root:!0}),t.result}return[]}(0,m.oj)({error:new Error("typeof response is incorrect"),extra:{response:g}})}catch(y){if(y instanceof g)throw y}return e("setUsersTotal",0),e("setHasMoreUsers",!1),[]},async fetchMessagesQueue({commit:e}){let t;try{t=await(0,l.tx)(),Array.isArray(t)&&e("setMessagesQueue",{items:t})}catch(s){(0,m.Po)(s)}},async clearQueueState({commit:e,state:t},{id:s}){const r=Object.values(t.queueItems),n=Object.values(t.messages).filter((e=>e.isFromQueue&&e.queueId===s)).map((e=>e.id));n.forEach((t=>e("deleteMessageById",t))),e("setMessagesQueue",{items:r.filter((e=>e.id!==s))})},async delMessagesQueue({state:e,dispatch:t},{id:s,withRequest:r}){if(r){if(e.queueIds.includes(s))try{const e=await(0,l.SL)(s);e&&e.success&&t("clearQueueState",{id:s})}catch(n){(0,m.Po)(n)}}else t("clearQueueState",{id:s})},async getMessageScheduledQueue({commit:e},{id:t}){const{cancelToken:s,Cancel:r}=(0,h.Yz)("getMessageScheduledQueue");try{const r=await(0,l.ae)(t,"scheduled",s);return e("setMessageScheduledQueue",r),!0}catch(n){n instanceof r||(0,m.Po)(n)}return!1},async sendMessage({commit:e,state:t},{id:s,data:r}){e("clearNewMessageId",s),e("setSendMessageLoading",!0);try{const n=await(0,l.bG)(s,r);if(e("setSendMessageLoading",!1),n&&n.id){n.chatId=s;const r=(0,c.Fv)(n,u.w1);e("set",r,{root:!0});const a=r.result;e("setChatMessages",{id:s,messageIds:a,add:!0,before:!1});const i=+s;return t.chats.includes(i)||e("setAddedNewItemChats",{id:i}),n}}catch(n){if(e("setSendMessageLoading",!1),i()(n,"data.errors.textHighLight[0]"))return(0,m.Po)(n),n;(0,m.Po)(n)}return!1},async deleteChat({commit:e,dispatch:t,state:s},r){const n=Array.isArray(r)?r:[r];let a;try{a=await(0,l.GO)(n.join())}catch(i){(0,m.Po)(i)}if(a&&a.success){const r=n.filter((e=>!!s.items[e]&&s.items[e].countPinnedMessages>0)).length;r>0&&t("users/updateChatPinnedCount",{status:-r},{root:!0}),e("deleteChat",n),e("removeSelectedUserById",n)}},async searchMessages({commit:e},{id:t,query:s,filter:r}){let n;try{n=await(0,l.sl)(t,{query:s,filter:r})}catch(a){return[]}return e("setSearchIds",n),e("setSearchQuery",s),n},async deleteMessages({commit:e,dispatch:t},{chatId:s,messageId:r}){let n;try{n=await(0,l.qP)(r,s)}catch(a){(0,m.Po)(a)}if(n&&n.success){let n=!1;g.messages[r]&&(n=g.messages[r].isPinned),e("deleteMessage",{chatId:s,messageId:r});const a=g.items[s];n&&(e("setChatMessagesPinnedCount",{chatId:s,value:!1}),a&&0===a.countPinnedMessages&&t("users/updateChatPinnedCount",{status:-1},{root:!0}))}},async markChatAsRead({commit:e},t){let s;try{s=await(0,l.JK)(t)}catch(r){(0,m.Po)(r)}s&&s.success&&e("setChatAsRead",t)},async markChatAsUnRead({commit:e},t){let s;try{s=await(0,l.kd)(t)}catch(r){(0,m.Po)(r)}s&&s.success&&(e("setChatAsUnRead",t),e("setNewMessageIds",t))},async markAllChatAsRead({commit:e,rootState:t},{filteredChatsIds:s,unreadMessagesCount:r,currentFiltersIds:n}){let a;try{a=await(0,l.Re)(n)}catch(i){(0,m.Po)(i)}a&&a.success&&(e("users/resetChatMessagesCount",{userId:t.auth.user,unreadMessagesCount:r},{root:!0}),e("setAllChatAsRead",s))},async setLikeMessage({commit:e},{messageId:t,withUserId:s}){try{e("setLoading",!0);const r=await(0,l.d9)(t,s);e("setLoading",!1),r&&r.success&&e("setMessageIsLiked",{messageId:t,value:!0})}catch(r){e("setLoading",!1),(0,m.Po)(r)}},async setUnlikeMessage({commit:e},{messageId:t,withUserId:s}){try{e("setLoading",!0);const r=await(0,l.tY)(t,s);e("setLoading",!1),r&&r.success&&e("setMessageIsLiked",{messageId:t,value:!1})}catch(r){e("setLoading",!1),(0,m.Po)(r)}},async hideChats({commit:e,dispatch:t,state:s},r){let n;try{if(n=await(0,l.ad)(r),n&&n.success){const n=s.items[r],a=n?n.countPinnedMessages:0;e("deleteChat",r),a>0&&t("users/updateChatPinnedCount",{status:-1},{root:!0})}}catch(a){(0,m.Po)(a)}return n},async toggleMuteNotifications({commit:e,state:t,rootState:s},r){const{isMutedNotifications:n}=t.items[r];let a;try{if(a=n?await(0,l.cJ)(r):await(0,l.XC)(r),a&&a.success){e("setMuteNotifications",r);const t=s.users.items[r];if(t&&t.listsStates&&t.listsStates.length){const s=t.listsStates.map((e=>"muted"===e.type?{...e,hasUser:!e.hasUser}:e));e("users/setUserField",{userId:r,field:"listsStates",status:s},{root:!0})}}}catch(i){(0,m.Po)(i)}return a},async fetchChatsUsersMedia({commit:e,state:t},{userId:s,type:r,opened:n,limit:a,lastId:i=t.galleryListNextLastId}={}){try{const t=await(0,l.yq)({userId:s,type:r,opened:n,lastId:i,limit:a});if(t){if(t.list&&Array.isArray(t.list)&&t.list.length){const s=(0,c.Fv)(t.list,u.VR);e("set",s,{root:!0}),e(i?"addChatUserMedia":"setChatUserMedia",s.result)}return e("setGalleryNextLastId",t.nextLastId),t.hasMore}}catch(o){Sentry.captureException(o)}return!1},async fetchQueueBuyersList({commit:e,rootGetters:t,dispatch:s,state:r},{queueId:n,more:a=!1,offset:i}){e("setQueueBuyersError",!1);try{a||(e("setQueueBuyersMarker"),e("setQueueBuyersIds"));const o=t["users/needSkipUsersOnShort"]?"all":void 0,d=await(0,l.j2)({queueId:n,skip_users:o,offset:i,marker:r.queueBuyersMarker});if(d&&d.list&&(d.marker&&e("setQueueBuyersMarker",d.marker),Array.isArray(d.list)&&d.list.length)){const t=(0,c.Fv)(d.list,u.Xd);o&&await s("users/getUsersIfNeeded",t,{root:!0}),e("set",t,{root:!0}),e("setQueueBuyersIds",{more:a,ids:t.result})}return d}catch(o){e("setQueueBuyersError",!0)}return!1},newMessageFromSocket({commit:e},t){const{bottom:s}=g.messagesHasMore[t.id]||{};s||e("setChatMessages",t)},async togglePinMessage({commit:e,state:t,dispatch:s},{messageId:r,withUserId:n}){try{e("setLoading",!0);const a=t.messages[r],i=!(!a||!a.isPinned),o=a&&a.chatId;let c;if(c=i?await(0,l.lg)(r,n):await(0,l.rY)(r,n),e("setLoading",!1),c&&c.success){e("setMessageIsPinned",{messageId:r,value:!i}),e("setChatMessagesPinnedCount",{chatId:o,value:!i});const n=o&&t.items[o];if(n){const{countPinnedMessages:e}=n;(!i&&1===e||i&&0===e)&&s("users/updateChatPinnedCount",{status:i?-1:1},{root:!0})}}}catch(a){e("setLoading",!1),(0,m.Po)(a)}},async unpinAllChatMessages({commit:e,dispatch:t},{withUserId:s}){try{e("setLoading",!0);const r=await(0,l.dU)(s);e("setLoading",!1),r&&r.success&&(e("setChatUnpinned",{withUserId:s}),e("setChatMessagesUnpinned",{withUserId:s}),e("setEmptyMessagesList",!0),t("users/updateChatPinnedCount",{status:-1},{root:!0}))}catch(r){e("setLoading",!1),(0,m.Po)(r)}},async hideMessage({commit:e,dispatch:t,state:s},r){try{const n=await(0,l.SR)(r);if(n&&n.success){const n=s.messages[r],a=!(!n||!n.isPinned),i=n&&n.chatId,o=i&&s.items[i];i&&a&&e("setChatMessagesPinnedCount",{chatId:i,value:!1}),o&&0===o.countPinnedMessages&&t("users/updateChatPinnedCount",{status:-1},{root:!0}),e("deleteMessageById",r),o&&"PinnedMessages"===d.ZP.$route.name&&e("setEmptyMessagesList",!0)}return n}catch(n){(0,m.Po)(n)}return!1},async fetchMessageToPost({commit:e,dispatch:t},{limit:s,userId:r,groupId:n}={}){let a;e("posts/setError",!1,{root:!0}),e("posts/setLoading",!0,{root:!0});try{if(r){const{list:e}=await(0,l.DP)(r,{groupId:n,limit:s});if(e.length){const[t]=e;a={...t,chatId:r,messageId:t.id}}}else a=await(0,l.AT)(n);a.isDeleted=!0}catch(o){return e("posts/setLoading",!1,{root:!0}),e("posts/setError",!0,{root:!0}),[]}if(!a||"object"!==typeof a)return(0,m.oj)({error:new Error("typeof response is incorrect"),extra:{post:a}}),[];n&&(a.id=a.queueId),e("posts/setActivePost",+a.id,{root:!0});const i=(0,c.Fv)(a,u.Rj);return await t("users/getUsersIfNeeded",i,{root:!0}),t("posts/setPost",a,{root:!0}),e("posts/setLoading",!1,{root:!0}),a}}},206060:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return m},getters:function(){return u},mutations:function(){return l},state:function(){return d}});var r=s(782677),n=s(243168),a=s(849344),i=s(329732),o=s(172462);const c=()=>({items:{},itemsIds:{},loading:!1}),d=c(),u={getComment:e=>t=>e.items[t],getCommentsByPostId:e=>t=>e.itemsIds[t]?e.itemsIds[t].map((t=>e.items[t])):[],isCommentsLoading:e=>e.loading},l={setLoading(e,t){e.loading=t},toggleCommentLike(e,{id:t,isLiked:s,likesCount:r,byAuthor:n}){e.items[t].isLiked=s,e.items[t].likesCount=r,n&&(e.items[t].isLikedByAuthor=s)},deleteComment(e,t){const s={...e.items};delete s[t],e.items=s},logout(e){Object.assign(e,c())}},m={async fetchPostComments({commit:e,state:t,dispatch:s},{id:i,limit:c,offset:d=0,more:u=!1}){e("setLoading",!0);let l=[];try{const m=await(0,a.w8)({id:i,limit:c,offset:d});if(m&&Array.isArray(m)){if(m.length){const a=(0,r.Fv)(m,n.Nq);await s("users/getUsersIfNeeded",a,{root:!0}),e("set",a,{root:!0}),l=a.result,e("set",{entities:{commentIds:{[i]:u?[...new Set([...t.itemsIds[i]||[],...l])].sort(((e,t)=>t-e)):l}}},{root:!0})}}else(0,o.oj)({error:new Error("typeof response is incorrect"),extra:{response:m}})}catch(m){}return e("setLoading",!1),l},async sendComment({commit:e,state:t},{id:s,text:i,answerTo:o,giphyId:c}){const d=await(0,a.Cs)({id:s,text:i,answerTo:o,giphyId:c});if(d&&d.id){const a=(0,r.Fv)(d,n.kN);e("set",a,{root:!0});const i=a.result;e("set",{entities:{commentIds:{[s]:[i,...t.itemsIds[s]||[]]}}},{root:!0}),e("posts/incrementPostCommentsCount",s,{root:!0})}return d},async likeComment({commit:e},{id:t,like:s,byAuthor:r}){try{const n=s?await(0,i.ar)(t):await(0,i.vO)(t);if(n&&n.success){const{isLiked:s,likesCount:a}=n;e("toggleCommentLike",{id:t,isLiked:s,likesCount:a,byAuthor:r})}}catch(n){}},async deleteComment({commit:e,state:t},{postId:s,commentId:r}){try{const n=await(0,i.Ru)(r);n&&n.success&&(e("posts/decrementPostComment",s,{root:!0}),e("set",{entities:{commentIds:{[s]:[...t.itemsIds[s]||[]].filter((e=>e!==r))}}},{root:!0}),e("deleteComment",r))}catch(n){}}}},474878:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return f},getters:function(){return m},mutations:function(){return h},state:function(){return l}});var r=s(727484),n=s.n(r),a=s(201646),i=s.n(a),o=s(218684),c=s(975701),d=s(927598);n().extend(i());const u=()=>({allTransactions:[],latestTransactions:[],marker:void 0,timePeriod:{startDate:n()(),endDate:n()(),type:"all"},isHasTransactions:!1,isHasTransactionsLoading:!1,startDateModel:null}),l=u(),m={},h={setAllTransactions(e,{items:t=[],more:s=!1}={}){e.allTransactions=(0,d.Z)(s?[...e.allTransactions,...t]:[...t])},setLatestTransactions(e,t=[]){e.latestTransactions=t},setMarker(e,t){e.marker=t},logout(e){Object.assign(e,u())},setTimePeriod(e,{startDate:t,endDate:s,type:r="custom"}){let a=t,i=s||n()().add(-1,"day").endOf("day");const{startDateModel:o}=e;o&&(a=t.isAfter(o)?t:o,i=o.isBefore(i)?i:n()()),e.timePeriod={startDate:a,endDate:i,startDateFormatted:a.format(),endDateFormatted:i.format(),type:r}},setStartDateModel(e,t){e.startDateModel=n()(t)},setIsHasTransactions(e,t){e.isHasTransactions=t},setIsHasTransactionsLoading(e,t){e.isHasTransactionsLoading=t}},f={async fetchIsHasTransactions({commit:e}){e("setIsHasTransactionsLoading",!0);try{const{hasTransactions:t}=await(0,o.j1)();e("setIsHasTransactions",t)}catch(t){Sentry.captureException(t)}finally{e("setIsHasTransactionsLoading",!1)}},async fetchAllTransactions({commit:e,state:t},{limit:s=c.P9,more:r=!1,type:n="all",dateFrom:a=t.timePeriod.startDateFormatted,dateTo:i=t.timePeriod.endDateFormatted}={}){r||(e("setAllTransactions"),e("setMarker"));try{const{list:c,nextMarker:d,hasMore:u}=await(0,o._v)({limit:s,type:n,dateFrom:a,dateTo:i,marker:t.marker});if(Array.isArray(c))return c.length&&e("setAllTransactions",{items:c,more:r}),e("setMarker",d),u}catch(d){Sentry.captureException(d)}},async fetchLatestTransactions({commit:e},{limit:t=5,type:s="all"}={}){try{const{list:r}=await(0,o._v)({limit:t,type:s});Array.isArray(r)&&r.length&&e("setLatestTransactions",r)}catch(r){Sentry.captureException(r)}}}},928658:function(e,t,s){"use strict";s.r(t),s.d(t,{mutations:function(){return a},state:function(){return n}});const r=()=>({currentPlayAudio:null,currentPlayVideo:null}),n=r(),a={setCurrentPlayAudio(e,t){e.currentPlayAudio=t},setCurrentPlayVideo(e,t){e.currentPlayVideo=t},resetCurrentPlayAudio(e){e.currentPlayAudio=null},resetCurrentPlayVideo(e){e.currentPlayVideo=null},logout(e){Object.assign(e,r())}}},849156:function(e,t,s){"use strict";s.r(t),s.d(t,{getters:function(){return l},mutations:function(){return m},state:function(){return u}});var r=s(150361),n=s.n(r),a=s(227361),i=s.n(a),o=s(720144),c=s(914786);const d=()=>({chatDraft:{},postDraft:{}}),u=d(),l={draftMessageById:e=>t=>{const s=JSON.parse(c.Z.getItem("draft")||"{}"),r=i()(s,`draft.chatDraft.${t}`,null);return e.chatDraft[t]&&r?e.chatDraft[t]:null},userPostDraft:(e,t,s,r)=>i()(e.postDraft,r["auth/authUserId"],{})},m={setChatDraft(e,t){o["default"].set(e.chatDraft,String(t.chatId),t)},removeChatDraft(e,t){o["default"]["delete"](e.chatDraft,t)},setPostDraft(e,{draft:t,userId:s}){const r=n()(e.postDraft);r[s]=t,e.postDraft=r},removePostDraft(e,t){o["default"]["delete"](e.postDraft,t)},logout(e){Object.assign(e,d())}}},979155:function(e,t,s){"use strict";s.r(t),s.d(t,{mutations:function(){return a},state:function(){return n}});const r=()=>({hasError:!1}),n=r(),a={setErrorCondition(e,t){e.hasError=t},logout(e){Object.assign(e,r())}}},229551:function(e,t,s){"use strict";s.r(t),s.d(t,{getters:function(){return a},mutations:function(){return i},state:function(){return n}});const r=()=>({hiddenHints:[]}),n=r(),a={isHintHiddenById:e=>t=>e.hiddenHints.includes(t)},i={setHiddenHint(e,t){e.hiddenHints=[...e.hiddenHints,t]},logout(e){Object.assign(e,r())}}},211988:function(e,t,s){"use strict";s.r(t);var r=s(968929),n=s.n(r);const a=s(501078),i={};a.keys().forEach((e=>{if("./index.js"===e)return;const t=n()(e.replace(/(\.\/|\.js)/g,""));i[t]={namespaced:!0,...a(e)}})),t["default"]=i},901371:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return g},getters:function(){return f},mutations:function(){return p},state:function(){return h}});var r=s(975701);const n=()=>{const e=`${r.tW}/init`;return r.ZP.get(e,{"axios-retry":{retries:1}}).then((e=>e.data))},a=()=>{const e=`${r.tW}/ip`;return r.ZP.get(e).then((e=>e.data))};var i=s(481274),o=s(834253),c=s.n(o),d=s(172462),u=s(315223),l=s(914786);const m=()=>({apiError:!1,canTranslate:!1,csrf:"",cardVerification:{minAmount:null,maxAmount:null},currentRev:null,currentDate:Date.now(),geoInfoCached:!1,geoInfo:{geo:{countryCode:null}},goBack:{initHistoryState:null,routeFrom:null},isAuth:null,isLoadRecaptcha:!1,isLoggedFromReferrer:!1,languages:{},neededReload:!1,settings:{},showBetaSwitcher:!1,showBeta2Switcher:!1,obsStreamingServer:null,usersLinksMaxLimit:0,reportAbuseOptions:{},mainRequestsLoaded:!1,isShowCookiesNotice:!(c().get("cookiesAccepted",{domain:".onlyfans.com"})||l.Z.getItem("cookiesAccepted")),showReturnAdmin:!1,isLoginFromAdmin:!1,isFraudRepayment:!1,fraudRepaymentData:{},isNeedIV:!1,loginIV:{},repaymentAgree:!1,geetestCaptcha:!1,hCaptchaSiteKey:"",hCaptchaPassiveSiteKey:"",isRecaptchaMain:!0,recaptchaV3Public:"",recaptchaV2Public:"",recaptchaEPublic:"",recaptchaECPublic:"",socialMediaProviders:null,socialButtonsMaxLimit:0}),h=m(),f={getInit:e=>e,apiError:e=>e.apiError,goBackState:e=>e.goBack,shouldSendStat:e=>!!e.isPostsViewsEnabled},p={setInit(e,t){Object.assign(e,{showBetaSwitcher:!1,showBeta2Switcher:!1,geetestCaptcha:!1,hCaptchaSiteKey:"",hCaptchaPassiveSiteKey:"",showReturnAdmin:!1,isLoginFromAdmin:!1},t)},setInitAuth(e,t){e.isAuth=t},setNeededReload(e,t){e.neededReload=t},setCurrentRev(e,t){e.currentRev=t},setApiError(e,t){e.apiError=t},setGoBackRouteFrom(e,t){e.goBack.routeFrom=t},setGoBackInitHistoryState(e,t){e.goBack.initHistoryState=t},setGeoInfo(e,t){e.geoInfo=t},setGeoInfoCached(e,t){e.geoInfoCached=t},setCurrentDate(e,t){e.currentDate=t},setReportAbuseOptions(e,t){e.reportAbuseOptions=t},setIsLoadRecaptcha(e,t){e.isLoadRecaptcha=t},mainRequestsLoaded(e,t){e.mainRequestsLoaded=t},setShowCookiesNotice(e,t){e.isShowCookiesNotice=t,c().set("cookiesAccepted",!0,{domain:".onlyfans.com",expires:"3Y"}),l.Z.setItem("cookiesAccepted",!0)},setIsFraudRepayment(e,t){e.isFraudRepayment=t},setFraudRepaymentData(e,t){e.fraudRepaymentData=t},setRepaymentAgree(e,t){e.repaymentAgree=t},setIsNeedIV(e,t){e.isNeedIV=t},setlLoginRequiresIv(e,t={}){e.loginIV=t},logout(e){const{languages:t,neededReload:s,currentRev:r,csrf:n,mainRequestsLoaded:a,isShowCookiesNotice:i,recaptchaV3Public:o,recaptchaV2Public:c,recaptchaEPublic:d,recaptchaECPublic:u,geetestCaptcha:l,hCaptchaSiteKey:h,hCaptchaPassiveSiteKey:f}=e;Object.assign(e,m(),{isAuth:!1,languages:t,neededReload:s,currentRev:r,csrf:n,mainRequestsLoaded:a,isShowCookiesNotice:i,recaptchaV3Public:o,recaptchaV2Public:c,recaptchaEPublic:d,recaptchaECPublic:u,geetestCaptcha:l,hCaptchaSiteKey:h,hCaptchaPassiveSiteKey:f})}},g={async fetchInit({commit:e}){try{const t=await n();t&&"object"===typeof t?(t.isLoggedFromReferrer=!!t.isLoggedFromReferrer,e("setInit",t),t.isAuth||e("init/mainRequestsLoaded",!0,{root:!0})):((0,d.oj)({error:new Error("typeof response is incorrect"),extra:{response:t}}),(0,u.D)())}catch(t){}},async fetchGeoInfo({state:e,commit:t},s=!1){if(!e.geoInfoCached||s)try{const e=await a();t("setGeoInfo",e),t("setGeoInfoCached",!0)}catch(r){t("setGeoInfoCached",!1)}},async fetchReportAbuseOptions({commit:e}){try{const t=await(0,i.Is)();e("setReportAbuseOptions",t)}catch(t){}}}},732700:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return d},mutations:function(){return c},state:function(){return o}});var r=s(782677),n=s(243168),a=s(999023);const i=()=>({itemIds:[]}),o=i(),c={setItemIds(e,t=[]){e.itemIds=t},logout(e){Object.assign(e,i())}},d={async fetchLastPosts({commit:e},{id:t}){e("setItemIds",[]);try{const s=await(0,a.C8)({id:t,limit:4,type:"photos",onlyCanView:1,pinned_sort:0,counters:0});if(Array.isArray(null===s||void 0===s?void 0:s.list)&&s.list.length){const t=(0,r.Fv)(s.list,n.eI);e("set",t,{root:!0}),e("setItemIds",t.result)}}catch(s){}}}},954075:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return C},getters:function(){return I},mutations:function(){return k},state:function(){return b}});var r=s(82569),n=s.n(r),a=s(170735),i=s.n(a),o=s(441609),c=s.n(o),d=s(227361),u=s.n(d),l=s(782677),m=s(243168),h=s(172462),f=s(285088),p=s(849491),g=s(114494),y=s(872308),S=s(181528);const P=(e,t)=>{e.users={...e.users,[t.id]:{...e.users[t.id],...t}}},v=()=>({type:"",stream:{id:0,thumbUrl:"",startedAt:"",description:"",rawDescription:"",isOpened:!0,canJoin:!1,canEdit:!1,isShowTips:!1,tipsSumm:0,showCoStreamingRequest:!1,commentsCount:0,canComment:!1,likesCount:0,canLike:!1,canReport:!1,roomName:"",serverList:{}},user:{id:0,name:"",username:"",displayName:null,isVerified:!1,tipsEnabled:!1,subscribedBy:!1,canEarn:!1,isPerformer:!1,avatar:null,avatarThumbs:null},streamState:"beforeStart",videoPlaying:!1,tcpVideoOnPause:!1,volume:1,muted:!1,stretchVideo:!1,videoElementRenderKey:+new Date,tipGoal:{isShowTipGoal:!1,sum:0,progress:0,description:"",showTipGoalProgress:!1},showTapToPlay:!1,showUnmuteBtn:!1,videoLoaded:!1,lookApproved:void 0,endReason:"",sentryLog:{getApiUrlRequest:{},getApiUrlResponse:{},roomName:null,streamId:null,user:null,detailedSpeedResult:null}}),w=()=>({mode:"",maxStreams:2,streams:{},streamsOrder:[],primaryInstance:null,timer:"0:00",comments:{ids:[],items:{}},hasMoreComments:!1,loadedCommentsCount:0,likes:[],users:{},viewers:{ids:[],hasMore:!1,loading:!1},totalViewers:0,privateCommentUser:null,switchToDualStreaming:!1,primaryMovedToPartner:!1,streamTypes:{},streamType:"",failoverStreamTypes:[],UI:{showStreamDescription:!1,showStreamingActions:!1,showStreamingComments:!1,showJoinStreamBtn:!0,disabledJoinStreamBtn:!0,showCommentForm:!1,showEndScreen:!1,endReason:"",greetingVisible:!0,commentsViewMode:"compact",hasUnreadComments:!1,showStreamingViewers:!1,showVolumeControlsModal:!1,showViewControlsModal:!1,viewMode:"grid",commentInputFocused:!1,streamHasFatalError:!1,showStreamInformationModal:!1,showTipGoalModal:!1,showServerMaintenance:!1},serverMaintenanceAt:null}),b=w(),I={primary(e){return e.streams[e.primaryInstance]},partners(e){return Object.values(e.streams).filter((t=>t.user.id!=e.primaryInstance))},partner(e,t){return t.partners[0]},partner2(e,t){return t.partners[1]},partner3(e,t){return t.partners[2]},canJoinCoStream(e){return Object.keys(e.streams).length<e.maxStreams},likesCount(e){return Object.values(e.streams).reduce(((e,t)=>e+t.stream.likesCount),0)},commentsCount(e){return e.streams[e.primaryInstance].stream.commentsCount},streamDescription(e,t){return u()(t,"primary.stream.description")||""},rawStreamDescription(e,t){return u()(t,"primary.stream.rawDescription")||""},canComment(e){return!e.streamsOrder.map((t=>e.streams[t])).some((e=>!1===e.stream.canComment))},canLike(e){return!e.streamsOrder.map((t=>e.streams[t])).some((e=>!1===e.stream.canLike))},mustStartMuted(e){return(f.isMobile||f.isSafari)&&["hls","nano","llhls","tcp"].includes(e.streamType)},isOwnStream(e,t,s,r){return u()(t,"primary.user.id")==r["auth/authUserId"]}},k={setMode(e,t){e.mode=t},setPrimaryInstance(e,t){e.primaryInstance=t},setStream(e,{stream:t,instance:s}){s=s||e.primaryInstance,e.streams[s]||(g.ZP.$set(e.streams,s,v()),e.streamsOrder=[...e.streamsOrder,s]),e.streams[s]={...e.streams[s],...t}},setStreamStream(e,{stream:t,instance:s}){s=s||e.primaryInstance,e.streams[s]||(g.ZP.$set(e.streams,s,v()),e.streamsOrder=[...e.streamsOrder,s]),e.streams[s].stream={...e.streams[s].stream,...t}},setStreamUser(e,{user:t,instance:s}){s=s||e.primaryInstance,e.streams[s]||(g.ZP.$set(e.streams,s,v()),e.streamsOrder=[...e.streamsOrder,s]),e.streams[s].user={...e.streams[s].user,...t}},removeStream(e,t){e.streams[t]&&(e.streams[t]=null,delete e.streams[t],e.streams={...e.streams},e.streamsOrder=e.streamsOrder.filter((e=>e!=t)))},setStreamsOrder(e,t){e.streamsOrder=[...t]},updateStreamHelpers(e,t){e.users=Object.keys(e.users).map((s=>({...e.users[s],isStreamHelper:t.includes(+s)}))).reduce(((e,t)=>({...e,[t.id]:t})),{})},incrementCommentsCount(e,t){e.streams[e.primaryInstance].stream.commentsCount+=t},addComments(e,t){t.forEach((t=>{e.comments.items[t.comment_id]={id:t.comment_id,text:t.comment,userId:t.user.id,isPrivate:t.isPrivate},e.users[t.user.id]||P(e,t.user),e.comments.ids=[t.comment_id,...e.comments.ids]}))},addComment(e,t){P(e,t.user),e.comments.items={...e.comments.items,[t.id]:{id:t.id,text:t.text,userId:t.user.id,isPrivate:t.isPrivate}},e.comments.ids=[...e.comments.ids,t.id]},updateCommentUser(e,t){P(e,t)},removeComment(e,t){t&&(e.comments.ids=e.comments.ids.filter((e=>e!=t)),delete e.comments.items[t])},setHasMoreComments(e,t){e.hasMoreComments=t},setLoadedCommentsCount(e,t){e.loadedCommentsCount=t},addLike(e,t){e.streams[t.streamUserId]&&(t.id=e.likes.length,e.likes=[...e.likes,t],e.streams[t.streamUserId].stream.likesCount+=1)},removeLike(e,t){e.likes=e.likes.filter((e=>e.id!=t.id))},setTimer(e,t){e.timer=t},addViewer(e,t){P(e,t),e.viewers.ids=[...e.viewers.ids,t.id]},addViewers(e,t){const s=[];e.users={...e.users,...t.reduce(((e,t)=>(s.push(t.id),{...e,[t.id]:t})),{})},e.viewers.ids=[...e.viewers.ids,...s]},removeViewer(e,t){e.viewers.ids=e.viewers.ids.filter((e=>e!=t.id))},setViewers(e,t){e.viewers={...e.viewers,...t}},clearViewers(e){e.viewers.ids=[],e.viewers.hasMore=!1},setTotalViewers(e,t){e.totalViewers=t||0},setStreamState(e,{value:t,instance:s}){s=s||e.primaryInstance,e.streams[s]&&(e.streams[s].streamState=t)},setStreamDescription(e,{value:t,instance:s}){s=s||e.primaryInstance,e.streams[s].stream.description=t},setStreamVideoPlaying(e,{value:t,instance:s}){s=s||e.primaryInstance,e.streams[s]&&(e.streams[s].videoPlaying=t)},setStreamTCPVideoPause(e,{value:t,instance:s}){s=s||e.primaryInstance,e.streams[s]&&(e.streams[s].tcpVideoOnPause=t)},setStreamVolume(e,{volume:t,instance:s}){s=s||e.primaryInstance,e.streams[s].volume=t},setStreamMuted(e,{muted:t,instance:s}){s=s||e.primaryInstance,e.streams[s]&&(e.streams[s].muted=t)},setStreamStretchVideo(e,{stretchVideo:t,instance:s}){s=s||e.primaryInstance,e.streams[s].stretchVideo=t},setTipGoal(e,{data:t,instance:s}){s=s||e.primaryInstance,e.streams[s].tipGoal={...e.streams[s].tipGoal,...t}},setStreamShowTapToPlay(e,{show:t,instance:s}){s=s||e.primaryInstance,e.streams[s].showTapToPlay=t},setShowUnmuteBtn(e,{show:t,instance:s}){s=s||e.primaryInstance,e.streams[s].showUnmuteBtn=t},setPrivateCommentUser(e,t){e.privateCommentUser=t?{...t}:null},setStreamType(e,t){e.streamType=t},setStreamTypes(e,t){e.streamTypes=t.reduce(((e,t)=>{const s=t.toLowerCase();let r;switch(s){case"nano":r="Low latency";break;case"mux":r="HLS";break;case"muxllhls":r="LLHLS";break;case"agora":r="CloudBeta";break;default:r=t.toUpperCase();break}return{...e,[s]:r}}),{})},setFailoverStreamTypes(e,t){e.failoverStreamTypes=t},setUI(e,t){e.UI={...e.UI,...t}},setStreamUI(e,{UI:t,instance:s}){s=s||e.primaryInstance,e.streams[s].UI={...e.streams[s].UI,...t}},setSwitchToDualStreaming(e,t){e.switchToDualStreaming=t},setPrimaryMovedToPartner(e,t){e.primaryMovedToPartner=t},setDefaultState(e){Object.assign(e,w())},logout(e){Object.assign(e,w())},setStreamSentryLog(e,{key:t,value:s,instance:r}){t&&e.streams[r]&&(e.streams[r].sentryLog[t]=s)},setServerMaintenanceAt(e,t){e.serverMaintenanceAt=t}},C={async createViewModules({state:e,dispatch:t}){await Promise.all(Object.keys(e.streams).map((e=>t("createViewModule",e))))},async createViewModule({state:e},t){t=t||e.primaryInstance,await(0,y.k2)(t,e.streamType)},destroy({state:e,commit:t}){e.switchToDualStreaming||(Object.keys(e.streams).forEach((e=>{(0,y.D5)({instance:e}),t("removeStream",e)})),delete window.viewModule),t("setDefaultState")},stopAll({getters:e}){e.partners.forEach((e=>{(0,y.Pe)(e.user.id)})),b.switchToDualStreaming||(0,y.Pe)(b.primaryInstance)},async getUserStreamDataAndInit({getters:e,dispatch:t,commit:s},r){const n=await(0,p.UD)(r,!0);if(!n||0===+n.id)throw Error("Stream not found");t("setStreamData",n),e.primary.stream.commentsCount&&s("setHasMoreComments",!0)},setUserStreamData({state:e,commit:t},s){const r=s.user.id;let a=u()(s,"viewerAvailableStreamTypes",[]);!a.length&&c()(e.streamTypes)&&((0,h.Ri)({error:"invalid available viewer streamTypes",tags:{streamingMode:"live"},extra:s}),a=[s.streamType||"webrtc"]),c()(e.streamTypes)&&(t("setStreamTypes",a),a.includes("llhls")&&(a=[...n()(a,"llhls"),"llhls"]),t("setFailoverStreamTypes",a)),e.streamType||t("setStreamType",a[0]);const i={id:s.id,thumbUrl:s.thumbUrl,description:s.description,rawDescription:s.rawDescription,startedAt:s.startedAt,isOpened:s.isOpened,canJoin:s.canJoin,canEdit:s.canEdit,isShowTips:s.isShowTips,showCoStreamingRequest:s.showCoStreamingRequest,commentsCount:+s.commentsCount,canComment:s.canComment,likesCount:+s.likesCount,canLike:s.canLike,canReport:s.canReport,roomName:s.room};"undefined"!==typeof s.tipsSumm&&(i.tipsSumm=+parseFloat(s.tipsSumm).toFixed(2)),"undefined"!==typeof s.serverList&&(i.serverList=s.serverList),t("setStreamStream",{stream:i,instance:r});const o=(0,l.Fv)({...s.user},m.IK);t("set",o,{root:!0}),t("setStreamUser",{user:{id:s.user.id,name:(0,S.HZ)(s.user.name),username:s.user.username,displayName:s.user.displayName,isVerified:s.user.isVerified,tipsEnabled:s.user.tipsEnabled,subscribedBy:s.user.subscribedBy,canEarn:s.user.canEarn,isPerformer:s.user.isPerformer,avatar:s.user.avatar,avatarThumbs:s.user.avatarThumbs},instance:r});const d={isShowTipGoal:!!s.isShowTipsGoal,sum:+s.tipsGoalSum,progress:+s.tipsGoalProgress,description:s.tipsGoal};d.isShowTipGoal?e.streams[r].tipGoal.isShowTipGoal&&d.sum===e.streams[r].tipGoal.sum&&d.description===e.streams[r].tipGoal.description||(d.showTipGoalProgress=!0):d.showTipGoalProgress=!1,t("setTipGoal",{data:d,instance:r})},setStreamData({state:e,getters:t,commit:s,dispatch:r},n={}){let a="";t.primary&&(a=t.primary.stream.rawDescription),r("setUserStreamData",n);const o=i()(e.streamsOrder,[n.user.id,...n.partners.map((e=>e.user.id))],Number);o.forEach((e=>{(0,y.D5)({instance:e}),s("removeStream",e)})),n.partners&&n.partners.length?(n.partners.forEach((e=>{r("setUserStreamData",e)})),n.primaryPartnerUserId?(n.primaryPartnerUserId=+n.primaryPartnerUserId,e.primaryInstance&&e.primaryInstance!=n.primaryPartnerUserId&&s("setPrimaryMovedToPartner",!0),s("setPrimaryInstance",n.primaryPartnerUserId)):s("setPrimaryInstance",n.user.id),s("setMode","dual-live")):(s("setPrimaryInstance",n.user.id),s("setMode","live")),t.primary.stream.rawDescription?a!==t.primary.stream.rawDescription&&s("setUI",{showStreamDescription:!0}):s("setUI",{showStreamDescription:!1})},async loadMoreComments({state:e,getters:t,commit:s}){const r=await(0,p.W7)(t.primary.stream.id,{id:e.comments.ids.length?e.comments.ids[0]:void 0,limit:20}),n=r.list;s("addComments",n),s("setLoadedCommentsCount",e.loadedCommentsCount+n.length),s("setHasMoreComments",r.hasMore)},addComment({commit:e},t){e("addComment",t),e("incrementCommentsCount",1)},addTipsComment({state:e,commit:t,rootGetters:s},r){const n=Object.values(e.streams).find((e=>e.user.id==r.stream_user_id));if(n){const e=(0,y.b$)({vm:g.ZP,authUser:s["auth/authUser"],fromUser:r.from_user,toUser:n.user,amount:r.amount_human,message:r.message});e&&t("addComment",{id:r.id,text:e,user:r.from_user})}},async addLike({commit:e},t){e("addLike",t)},switchToDualStreaming({state:e,getters:t,commit:s,dispatch:r}){s("setSwitchToDualStreaming",!0),r("streaming/doSwitchFromLive",{livePrimary:t.primary,partners:t.partners,comments:e.comments,users:e.users,UI:{showCommentForm:e.UI.showCommentForm,commentsViewMode:e.UI.commentsViewMode,showStreamDescription:e.UI.showStreamDescription}},{root:!0}),g.ZP.$router.replace({name:"Streaming",params:{switchFromLive:!0}})},toggleCommentsViewMode({state:e,commit:t}){const s="full"===e.UI.commentsViewMode?"compact":"full";t("setUI",{commentsViewMode:s})},setTipGoal({commit:e},{data:t,instance:s}){e("setTipGoal",{data:t,instance:s})},updateLiveUser({state:e,commit:t},s){const r=Object.keys(e.streams).find((e=>e==s.id));r&&t("setStreamUser",{user:{tipsEnabled:s.tipsEnabled,subscribedBy:s.subscribedBy},instance:r})},joinUser({commit:e},t){e("addViewer",t)},leaveUser({commit:e},t){e("removeViewer",t)},showStreamingViewersModal({commit:e}){e("setUI",{showStreamingViewers:!0})},setAllShowTipGoalProgress({state:e,commit:t},s){e.streamsOrder.forEach((e=>{t("setTipGoal",{data:{showTipGoalProgress:s},instance:e})}))},async updateStreamInformation({state:e,getters:t,commit:s},r){const n=await(0,p.jI)({streamId:t.primary.stream.id,data:r});s("setStreamStream",{stream:{description:n.description,rawDescription:n.rawDescription,isShowTips:n.isShowTips},instance:e.primaryInstance})},async fetchStreamViewers({state:e,getters:t,commit:s},{more:r=!1}){try{r||s("clearViewers");const n=e.viewers.ids.length;s("setViewers",{loading:!0});const a=await(0,p.ip)({streamId:t.primary.stream.id,offset:n});u()(a,"list.length",0)&&(s("addViewers",a.list),s("setViewers",{hasMore:a.hasMore}))}catch(n){}finally{s("setViewers",{loading:!1})}}}},478831:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return f},getters:function(){return m},mutations:function(){return h},state:function(){return l}});var r=s(682492),n=s.n(r),a=s(243168),i=s(782677),o=s(410697),c=s(975701),d=s(172462);const u=()=>({ids:[],items:{}}),l=u(),m={messages:e=>e.ids.map((t=>e.items[t])).filter((e=>!!e))},h={setMessages(e,{messages:t=[],more:s=!1}={}){e.ids=s?[...new Set([...e.ids,...t])]:[...t]},setMessage(e,t={}){if(t&&t.id){const s=(0,i.Fv)(t,a.V4);e.items=n()({},e.items,s.entities.massMessagesStat)}},logout(e){Object.assign(e,u())}},f={async fetchMessagesStat({commit:e},t={}){const{cancelToken:s,Cancel:r}=(0,c.Yz)("fetchMessagesStat");try{const r=await(0,o.Jn)(t,s);if("object"===typeof r){if(Array.isArray(r.list)){const s=(0,i.Fv)(r.list,a.P$);e("set",s,{root:!0}),e("setMessages",{messages:s.result,more:!!t.offset})}return r.hasMore}return void(0,d.oj)({error:new Error("typeof response is incorrect"),extra:{response:r}})}catch(n){if(!(n instanceof r))return}return!1}}},449299:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return _},getters:function(){return L},mutations:function(){return M},state:function(){return $}});var r=s(227361),n=s.n(r),a=s(975701);const i=(e={})=>{const{limit:t=a.P9,offset:s=0,query:r,field:n,sort:i,list:o,type:c,cancelToken:d}=e,u=(0,a.XP)({limit:t,offset:s,query:r,field:n,sort:i,list:o,type:c}),l=`${a.tW}/vault/media${u}`;return a.ZP.get(l,{cancelToken:d}).then((e=>e.data))},o=(e={})=>{const t=(0,a.XP)(e),s=`${a.tW}/vault/media/hash${t}`;return a.ZP.get(s).then((e=>e.data))},c=({ids:e})=>{const t=`${a.tW}/vault/media/hidden`;return a.ZP.put(t,{mediaIds:e}).then((e=>e.data))},d=(e={})=>{const t=(0,a.XP)(e),s=`${a.tW}/vault/lists${t}`;return a.ZP.get(s).then((e=>e.data))},u=e=>{const t=`${a.tW}/vault/lists/${e}`;return a.ZP.get(t).then((e=>e.data))},l=e=>{const t=`${a.tW}/vault/lists`;return a.ZP.post(t,{name:e}).then((e=>e.data))},m=({id:e,name:t})=>{const s=`${a.tW}/vault/lists/${e}`;return a.ZP.patch(s,{name:t}).then((e=>e.data))},h=(e,t)=>{const s=`${a.tW}/vault/lists/${e}`;return a.ZP["delete"](s,{data:{clearMedia:t}}).then((e=>e.data))},f=e=>{const t=`${a.tW}/vault/lists/media`;return a.ZP.post(t,e).then((e=>e.data))},p=(e,t)=>{const s=`${a.tW}/vault/lists/${t}/media`;return a.ZP["delete"](s,{data:{data:e}}).then((e=>e.data))},g=e=>{const t=`${a.tW}/vault/lists/sort`;return a.ZP.post(t,e).then((e=>e.data))},y=()=>{const e=`${a.tW}/vault/media/types`;return a.ZP.get(e).then((e=>e.data))},S=({mediaId:e})=>{const t=`${a.tW}/vault/media/${e}`;return a.ZP.get(t).then((e=>e.data))};var P=s(782677),v=s(243168),w=s(172462),b=s(378945);function I(e){let t=0,s=0,r=0;return e.forEach((e=>{"video"===e.type&&(s+=1),"photo"===e.type&&(t+=1),"gif"===e.type&&(r+=1)})),{photosCount:t,videosCount:s,gifsCount:r}}function k({item:e,listId:t,newMedia:s}){if(t===e.id){const t=e.medias.concat(s),{photosCount:r,videosCount:n,gifsCount:a}=I(t);return{...e,medias:t,photosCount:r,videosCount:n,gifsCount:a,hasMedia:!!r||!!n||!!a}}return e}function C({filled:e}){return e?"setVaultListsFilledIds":"setVaultListsIds"}const T=()=>({vault:{},items:[],isLoadingMedia:!1,fieldVault:"default",sortVault:"asc",vaultFilter:"recent",vaultOrder:"desc",isLoadingMediaListsFilled:!1,hasMoreListMain:!0,hasMoreListMainFilled:!1,modalCustomVaultListId:"",customOrderEnabledVault:!1,vaultListLimit:10,offset:0,vaultListsIds:[],vaultListsFilledIds:[],vaultLists:{},selectIdList:[],mediaCounts:{hasPhoto:!1,hasGif:!1,hasVideo:!1}}),$=T(),L={posts:e=>e.items.reduce(((t,s)=>{const r=e.vault[s];return r&&!r.hidden&&t.push(r),t}),[]),hasPosts:e=>!!e.items.length,getMediaId:e=>t=>e.vault[t],getVaultListsByIds:e=>(0,b.w)(e.vaultListsIds,e.vaultLists),getVaultListById:e=>t=>e.vaultLists[t]||{},getVaultListsFilledByIds:e=>(0,b.w)(e.vaultListsFilledIds,e.vaultLists),currentVaultList:e=>{const[t]=e.selectIdList;return t&&e.vaultLists[t]||{}}},M={setLoadingMedia(e,t){e.isLoadingMedia=t},addItems(e,t){const s=[],r=t.reduce(((e,t)=>(s.push(t.id),e[t.id]=t,e)),{});e.vault={...e.vault,...r},e.items=[...e.items,...s]},hideMediaVaultByIds(e,t=[]){const s={};t.forEach((t=>{const r=e.vault[t];r&&(r.hidden=!0,s[t]=r)})),e.vault={...e.vault,...s}},setSortVault(e,t){e.sortVault=t},setFieldVault(e,t){e.fieldVault=t},setLoadingMediaListsFilled(e,t){e.isLoadingMediaListsFilled=t},setNewList(e,t){const s=t.id;s&&(e.vaultListsIds=[s,...e.vaultListsIds],e.vaultLists={...e.vaultLists,[s]:t})},deleteVaultList(e,t){e.vaultListsIds=e.vaultListsIds.filter((e=>e!==t)),e.vaultListsFilledIds=e.vaultListsFilledIds.filter((e=>e!==t)),delete e.vaultLists[t]},setModalCustomVaultListId(e,t){e.modalCustomVaultListId=t},setUpdateVaultListName(e,{id:t,name:s}){e.vaultLists[t]&&(e.vaultLists[t].name=s)},updateVaultMediaListStates(e,t){const{mediaIds:s=[],listId:r,hasMedia:n}=t,a=s.reduce(((t,s)=>{const a=e.vault[s];if(a){const e=a.listStates.findIndex((e=>+e.id===r));-1===e?a.listStates.push({hasMedia:n,id:r}):a.listStates[e].hasMedia=n,t[s]=a}return t}),{});e.vault={...e.vault,...a}},setCustomOrderEnabledVault(e,t){e.customOrderEnabledVault=t},setHasMoreListMain(e,t){e.hasMoreListMain=t},setHasMoreListMainFilled(e,t){e.hasMoreListMainFilled=t},setVaultFilter(e,t){e.vaultFilter=t},setVaultOrder(e,t){e.vaultOrder=t},toggleMediaVisibility(e,{mediaIds:t,hidden:s}){const r=t.reduce(((t,r)=>{const n=e.vault[r];return n&&(n.hidden=s,t[r]=n),t}),{});e.vault={...e.vault,...r}},addMediaToMainList(e,{mediaIds:t,listId:s}){if(s&&e.vaultLists[s]){const r=[];t.forEach((t=>{const s=e.vault[t];s&&r.push({...s})}));const n=e.vaultLists[s];e.vaultLists[s]=k({item:n,newMedia:r,listId:s})}},updateVaultListMain(e,{list:t}={}){t&&t.id&&(e.vaultLists[t.id]=t)},setVaultListsIds(e,{ids:t=[],more:s=!1}={}){e.vaultListsIds=s?[...new Set([...e.vaultListsIds,...t])]:t},setVaultListsFilledIds(e,{ids:t=[],more:s=!1}={}){e.vaultListsFilledIds=s?[...new Set([...e.vaultListsFilledIds,...t])]:t},setMediaCounts(e,t){e.mediaCounts=t},setSelectIdList(e,t){e.selectIdList=t},resetItems(e){e.items=[]},resetPosts(){$.vault={},$.items=[]},setOffset(e,t=0){e.offset=t},logout(e){Object.assign(e,T())}},_={async fetchMediaVaultByType({commit:e,state:t},{limit:s=24,more:r=!1,query:o,field:c,sort:d,list:u,type:l}={}){e("setLoadingMedia",!0),r||(e("resetItems"),e("setOffset"));const{cancelToken:m,Cancel:h}=(0,a.Yz)("fetchMediaVaultByType");let f;try{f=await i({limit:s,offset:t.offset,query:o,field:c,sort:d,list:u,type:l,cancelToken:m})}catch(g){return g instanceof h||e("setLoadingMedia",!1),{list:[],hasMore:!1}}const p=n()(f,"hasMore",!1);return f&&"object"===typeof f&&f.list.length?(p&&e("setOffset",t.offset+s),e("addItems",f.list),e("setLoadingMedia",!1),f):(e("setLoadingMedia",!1),{list:[],hasMore:p})},async fetchVaultMediaByHash({},{h:e,size:t}){let s;try{s=await o({h:e,size:t})}catch(r){404!==r.status&&Sentry.captureException(r),s=null}return s},async hideMediaVaultByIds({commit:e},t){try{await c({ids:t})}catch(s){}e("hideMediaVaultByIds",t)},async fetchVaultLists({commit:e},t){const s={...t,limit:$.vaultListLimit},{offset:r,filled:n}=s;n&&e("setLoadingMediaListsFilled",!0);try{const t=C({filled:n});r||e(t);const a=await d(s);if(a){const{list:s=[],hasMore:i=!1}=a,o=(0,P.Fv)(s,v.Zi);e("set",o,{root:!0}),e(t,{ids:o.result,more:!!r});const c=n?"setHasMoreListMainFilled":"setHasMoreListMain";return e(c,i),n&&e("setLoadingMediaListsFilled",!1),i}}catch(a){return Sentry.captureException(a),void(n&&e("setLoadingMediaListsFilled",!0))}return n&&e("setLoadingMediaListsFilled",!0),!1},async fetchVaultList({commit:e},t){try{const s=await u(t);if(s&&s.id){const t=(0,P.Fv)(s,v.zr);e("set",t,{root:!0})}}catch(s){Sentry.captureException(s)}},async addVaultList({commit:e},t){try{const s=await l(t);s&&e("setNewList",s)}catch(s){(0,w.Po)(s)}},async deleteVaultList({commit:e},{id:t,withMedia:s}){try{const r=await h(t,s);if(r&&r.success)return e("deleteVaultList",t),!0}catch(r){(0,w.Po)(r)}return!1},async updateVaultList({commit:e},{id:t,name:s}){try{const r=await m({id:t,name:s});r&&r.id&&e("setUpdateVaultListName",r)}catch(r){(0,w.Po)(r)}},async toggleSomeMediaInList({commit:e},t){const{mediaIds:s,listId:r,hasMedia:n}=t;try{const a=n?await p({[r]:s},r):await f({[r]:s});if(a){const i=n?s:a[r];return e("updateVaultMediaListStates",{mediaIds:i,listId:r,hasMedia:!n}),n?a.id&&e("updateVaultListMain",{list:a}):(a.list&&e("updateVaultListMain",{list:a}),i?e("addMediaToMainList",{mediaIds:i,listId:r}):(0,w.oj)({error:new Error("Error: Add media to main list"),extra:{result:a,data:t}})),!0}}catch(a){(0,w.Po)(a)}return!1},async saveVaultListsOrder({commit:e,rootGetters:t},s){try{const r=await g(s);if(r&&r.success){const{sort:r,order:n}=s,a=t["auth/authUserId"];r&&(e("setFieldVault",r),e("users/setUserField",{userId:a,field:"vaultListsSort",status:r},{root:!0})),n&&(e("setSortVault",n),e("users/setUserField",{userId:a,field:"vaultListsSortOrder",status:n},{root:!0}))}}catch(r){(0,w.Po)(r)}},async fetchVaultMediaTypes({commit:e}){try{const t=await y();t&&"object"===typeof t&&e("setMediaCounts",t)}catch(t){}},async fetchVaultMediaItem({commit:e},t){try{const s=await S(t);if(s&&s.id)return e("addItems",[s]),!0}catch(s){}return!1}}},172441:function(e,t,s){"use strict";s.r(t),s.d(t,{getters:function(){return a},mutations:function(){return o},state:function(){return n}});const r=()=>({sidebar:{isShow:!1},otpModal:{isShow:!1,title:"",strong:!1,app:!1,phone:!1,phoneLast4:"",face:!1},otpCardModal:{isShow:!1,cardAuthState:{user:{},last4:""}},reportPostId:null,reportType:"",alert:{title:"",text:"",html:!1,onclose:null,buttons:[],hideCloseBtn:!1,headerIcon:null},preloader:{isShow:!1},trustModal:{email:!1,phoneOtp:!1,appOtp:!1,faceOtp:!1},purchaseModal:{payCallback:null,amount:null,modalTitle:null,paymentType:null,toUser:null,isRetry:!1,preMessage:""},addCardModal:{addCardCallback:null},tipsModal:{tipInitAmount:"",tipInitText:"",tipSource:"",tipStreamId:null,tipIsPrivate:!1,tipCallback:null}}),n=r(),a={isSidebarShow:e=>e.sidebar.isShow,isOtpModalShow:e=>e.otpModal.isShow,reportType:e=>({type:e.reportType,postId:e.reportPostId}),isPreloaderShow:e=>e.preloader.isShow},i=e=>{e?(document.documentElement.classList.add("m-sidebar-visible"),window.disableBodyScroll(!0)):(document.documentElement.classList.remove("m-sidebar-visible"),window.enableBodyScroll(!0))},o={sidebarShow(e,t){e.sidebar.isShow=t,i(t)},sidebarToggle(e){e.sidebar.isShow=!e.sidebar.isShow;const t=e.sidebar.isShow;i(t)},otpModalShow(e,t){e.otpModal.isShow=t,t?document.body.classList.add("m-prevent-scrolling","modal-open"):document.body.classList.remove("m-prevent-scrolling","modal-open")},setOtpModal(e,t={}){e.otpModal={...e.otpModal,...t}},setReportType(e,{type:t,postId:s}){e.reportType=t,s&&(e.reportPostId=s)},setAlert(e,{title:t,text:s,html:r=!1,onclose:n=null,buttons:a=[],hideCloseBtn:i=!1,headerIcon:o=null}){e.alert={title:t,text:s,html:r,onclose:n,buttons:a,hideCloseBtn:i,headerIcon:o}},preloaderShow(e,t){e.preloader.isShow=t},setTrustModal(e,t={}){t&&"object"===typeof t||(t={}),e.trustModal={...r().trustModal,...t}},setTipsModal(e,t={}){e.tipsModal={...r().tipsModal,...t}},resetTipsModal(e){e.tipsModal=r().tipsModal},setOtpCardModal(e,t={}){e.otpCardModal={...r().otpCardModal,...t}},setPurchaseModal(e,t={}){e.purchaseModal={...r().purchaseModal,...t}},resetPurchaseModal(e){e.purchaseModal=r().purchaseModal},setAddCardModal(e,t={}){e.addCardModal={...r().addCardModal,...t}},logout(e){Object.assign(e,r())}}},544956:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return h},getters:function(){return l},mutations:function(){return m},state:function(){return u}});var r=s(782677),n=s(114494),a=s(201505),i=s(243168),o=s(172462),c=s(975701);const d=()=>({items:{},offers:[],modalOffer:null,offset:0}),u=d(),l={getOffer:e=>t=>e.items[t],modalOffer:e=>e.modalOffer},m={setPromotionOffers(e,{itemIds:t=[],more:s=!1}={}){e.offers=s?[...new Set([...e.offers,...t])]:[...t]},clearUnclaimedOffers(e){e.offers=e.offers.filter((t=>e.items[t].finishedAt))},clearClaimedOffers(e){e.offers=e.offers.filter((t=>!e.items[t].finishedAt))},unsetOffer(e,t){e.offers=e.offers.filter((e=>e!==t))},setModalOffer(e,t){e.modalOffer=t},unshiftOffers(e,t=[]){e.offers=[...new Set([...t,...e.offers])]},setOffset(e,t=0){e.offset=t},logout(e){Object.assign(e,d())}},h={async fetchPromotionOffers({commit:e,dispatch:t,state:s},{query:n,sort:d,field:u,filter:l,more:m=!1}={}){const{cancelToken:h,Cancel:f}=(0,c.Yz)("fetchPromotionOffers");try{m||(e("setOffset"),e("setPromotionOffers"));const f=await(0,a.pc)({query:n,sort:d,field:u,filter:l,limit:c.P9,offset:s.offset,cancelToken:h});if(f&&"object"===typeof f){const{users:n,offers:a}=f;if(n&&Object.keys(n).length){const s=(0,r.Fv)(n,i.Xd);await t("users/getUsersIfNeeded",s,{root:!0}),e("set",s,{root:!0})}if(a){if(a.length){const t=(0,r.Fv)(a,i.lR),n=t.result;e("set",t,{root:!0}),e("setPromotionOffers",{itemIds:n,more:m}),e("setOffset",s.offset+c.P9)}return{hasMore:!!a.length}}}(0,o.oj)({error:new Error("typeof response is incorrect"),extra:{response:f}})}catch(p){if(p instanceof f)return{isCanceled:!0}}return{isError:!0}},async deleteUnclaimedOffers({commit:e,rootGetters:t}){try{const s=await(0,a.aC)();if(s&&s.success){e("clearUnclaimedOffers");const s=t["auth/authUserId"];e("users/setUserField",{userId:s,field:"unclaimedOffersCount",status:0},{root:!0})}}catch(s){(0,o.Po)(s)}},async deleteUnclaimedOffer({commit:e,rootGetters:t},{offerId:s,userId:r}){try{const i=await(0,a.DE)(s);if(i&&i.success){e("unsetOffer",s);const a=t["users/getUser"](r);e("users/unsetUserOffer",{offerId:s,userId:r},{root:!0}),n.ZP.$root.$emit("show::toast",{text:n.ZP.$t("message.offer_cancelled",{NAME:a.displayName||a.name})})}}catch(i){(0,o.Po)(i)}},async deleteClaimedOffers({commit:e,rootGetters:t}){try{const s=await(0,a.uH)();if(s&&s.success){e("clearClaimedOffers");const s=t["auth/authUserId"];e("users/setUserField",{userId:s,field:"claimedOffersCount",status:0},{root:!0})}}catch(s){(0,o.Po)(s)}},unshiftOffers({commit:e},t=[]){const s=(0,r.Fv)(t,i.lR);e("set",s,{root:!0}),e("unshiftOffers",s.result)}}},702817:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return h},getters:function(){return l},mutations:function(){return m},state:function(){return u}});var r=s(252628),n=s.n(r),a=s(782677),i=s(243168),o=s(218684),c=s(172462);const d=()=>({cards:{},cardsWithVat:{},cardIds:[],cardNeedVerify:{},alternativeMethods:[],cardsWithVatCache:{}}),u=d(),l={cards:e=>e.cardIds.map((t=>e.cards[t])),cardsIds:e=>e.cardIds,getCard:e=>t=>e.cards[t],cardNeedVerify:e=>e.cardNeedVerify,alternativeMethods:e=>e.alternativeMethods,cardsWithVat:e=>n()(e.cardsWithVat),cardWithVatById:e=>t=>e.cardsWithVat[t],getCardsWithVatCacheByPrice:e=>t=>e.cardsWithVatCache[t]},m={setCardIds(e,t){e.cardIds=t},setCardsWithVat(e,t){e.cardsWithVat=t},setCardDefault(e,t){Object.keys(e.cards).forEach((t=>{e.cards[t].isDefault=!1})),e.cards[t]&&(e.cards[t].isDefault=!0)},removeCard(e,t){e.cardIds=e.cardIds.filter((e=>e!==t));const s={...e.cards};delete s[t],e.cards=s},setCardNeedVerify(e,t){e.cardNeedVerify=t},setAlternativeMethods(e,t){e.alternativeMethods=t},removeAlternativeMethods(e,t){e.alternativeMethods=e.alternativeMethods.filter((e=>+e.id!==+t))},updateCard(e,{id:t,card:s={}}){t&&e.cards[t]&&(e.cards[t]={...e.cards[t],...s}),t&&e.cardsWithVat[t]&&(e.cardsWithVat[t]={...e.cardsWithVat[t],...s})},setCardsWithVatCache(e,t){e.cardsWithVatCache=t},updateCardsWithVatCache(e,t){e.cardsWithVatCache={...e.cardsWithVatCache,...t}},logout(e){Object.assign(e,d())}},h={async fetchCards({commit:e}){try{const t=await(0,o.vm)();if(t&&Array.isArray(t)){const s=(0,a.Fv)(t,i.xp);e("set",s,{root:!0});const r=s.result;e("setCardIds",r)}else(0,c.oj)({error:new Error("typeof response is incorrect"),extra:{response:t}})}catch(t){Sentry.captureException(t)}},async fetchCardsVat({commit:e},t){try{const s=await(0,o.xR)(t);return e("setCardsWithVat",s),s}catch(s){Sentry.captureException(s)}},async fetchCardsVatWithCache({commit:e,getters:t,dispatch:s},r){try{const{price:n}=r;if(t.getCardsWithVatCacheByPrice(n))return void e("setCardsWithVat",t.getCardsWithVatCacheByPrice(n));const a=await s("fetchCardsVat",r);e("updateCardsWithVatCache",{[n]:a})}catch(n){Sentry.captureException(n)}},resetCardsVat({commit:e}){e("setCardsWithVat",d().cardsWithVat)},resetCardsWithVatCache({commit:e}){e("setCardsWithVatCache",d().cardsWithVatCache)},async setDefaultCard({commit:e,dispatch:t},{id:s,update:r=!1}={}){try{const n=await(0,o.t$)(s);n&&n.success&&(e("setCardDefault",s),r&&t("fetchCards"))}catch(n){(0,c.Po)(n)}},async deleteCard({commit:e,dispatch:t,rootGetters:s},{id:r,isDefault:n=!1}={}){try{const a=await(0,o.f1)(r);if(a&&a.success){if(e("removeCard",r),n&&t("fetchCards"),void 0!==a.isPaymentCardConnected){const t=s["auth/authUser"];e("users/setUserField",{userId:t.id,field:"isPaymentCardConnected",status:a.isPaymentCardConnected},{root:!0})}if(void 0!==a.canAddCard){const t=s["auth/authUser"];e("users/setUserField",{userId:t.id,field:"canAddCard",status:a.canAddCard},{root:!0})}}}catch(a){(0,c.Po)(a)}},async fetchPaymentsAlternativeMethods({commit:e}){try{const t=await(0,o.uX)();e("setAlternativeMethods",t)}catch(t){(0,c.Po)(t)}},async editCard({commit:e,state:t},{id:s,payload:r}){const n=await(0,o.B8)(s,r);if(n&&n.success){const n={...t.cards[s],addressCountry:r.userinfo.country};e("updateCard",{id:s,card:n})}}}},260950:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return l},getters:function(){return d},mutations:function(){return u},state:function(){return c}});var r=s(782677),n=s(243168),a=s(547732),i=s(172462);const o=()=>({items:{},helperAccess:[],heplersIds:[],permissions:{}}),c=o(),d={helpersIds:e=>e.heplersIds,permissions:e=>e.permissions,getHelper:e=>t=>e.items[t],helperAccess:e=>t=>e.helperAccess[t]},u={setHelpers(e,{itemIds:t=[],more:s=!1}={}){e.heplersIds=s?[...new Set([...e.heplersIds,...t])]:t},setPermissions(e,t){e.permissions=t},removeHelper(e,t){e.heplersIds=e.heplersIds.filter((e=>e!==t)),delete e.items[t]},logout(e){Object.assign(e,o())}},l={async getPerformerHelpers({commit:e},{more:t=!1}={}){try{t||e("setHelpers");const s=await(0,a.f9)();if(s&&s.length){const a=(0,r.Fv)(s,n.iq);e("set",a,{root:!0}),e("setHelpers",{itemIds:a.result,more:t})}}catch(s){}},async getPerformerHelper({commit:e},t){try{const s=await(0,a.KZ)(t);if(s&&s.isValid){const t=(0,r.Fv)(s,n.WH);e("set",t,{root:!0})}}catch(s){}},async getPerformerHelpersPermissions({commit:e}){try{const t=await(0,a.wq)();t&&e("setPermissions",t)}catch(t){}},async setPerformerHelper({commit:e},{userId:t,permissions:s=[]}){try{const i=await(0,a.HH)(t,s);if(i&&i.isValid){const t=(0,r.Fv)(i,n.WH);e("set",t,{root:!0})}else e("removeHelper",t)}catch(o){(0,i.Po)(o)}}}},802333:function(e,t,s){"use strict";s.r(t),s.d(t,{mutations:function(){return a},state:function(){return n}});const r=()=>({show:!0,items:[],options:{},isOpen:!1}),n=r(),a={setOpen(e,t){t||(e.items=[],e.options={}),e.isOpen=t},setItems(e,t){e.items=[...t]},setOptions(e,t){const s={};t.mainClass||(s.mainClass=void 0),e.options={...t,...s}},logout(e){Object.assign(e,r())}}},784819:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return p},getters:function(){return h},mutations:function(){return f},state:function(){return m}});var r=s(227361),n=s.n(r),a=s(782677),i=s(243168),o=s(605889),c=s(172462),d=s(975701),u=s(114494);const l=()=>({items:{},postLabelsIds:[],userLabelsIds:[],modalPostLabelId:null,customOrderEnabled:!1,isAddPostsMode:!1,loading:!1}),m=l(),h={getPostLabel:e=>t=>e.items[t]},f={setIds(e,t=[]){e.postLabelsIds=t},addIds(e,t=[]){e.postLabelsIds=[...new Set([...e.postLabelsIds,...t])]},setUserLabelsIds(e,t=[]){e.userLabelsIds=t},addUserLabelsIds(e,t=[]){e.userLabelsIds=[...new Set([...e.userLabelsIds,...t])]},setModalPostLabelId(e,t=null){e.modalPostLabelId=t},setCustomOrderEnabled(e,t){e.customOrderEnabled=t},setIsAddPostsMode(e,t=!1){e.isAddPostsMode=t},setPostLabel(e,{labelId:t,label:s={}}){e.items[t]={...e.items[t]||{},...s}},decrementPostLabelsCounters(e,t=[]){t.forEach((t=>{e.items[t.id]&&e.items[t.id].postsCount&&(e.items[t.id].postsCount-=1)}))},incrementPostLabelsCounters(e,t=[]){t.forEach((t=>{e.items[t.id]&&(e.items[t.id].postsCount+=1)}))},setCustomPostsCount(e,{labelId:t,value:s}){e.items[t]&&"archived"!==e.items[t].type&&(e.items[t].postsCount=s)},setPostLabelArchivedCounters(e,{archivedPostsCount:t=0,privateArchivedPostsCount:s=0}){const r=Object.values(e.items),n=r.find((e=>"archived"===e.type));n&&(n.postsCount=t);const a=r.find((e=>"private_archived"===e.type));a&&(a.postsCount=s)},logout(e){Object.assign(e,l())},setLoading(e,t){e.loading=t}},p={async fetchPostLabels({commit:e},{limit:t=d.P9,offset:s=0,needMore:r=!1,labelsIds:n=!1}){try{s||r||e("setIds"),e("setLoading",!0);const c=await(0,o.Ni)({limit:t,offset:s,labelsIds:n});if(e("setLoading",!1),c&&Array.isArray(c.list)&&c.list.length){const t=(0,a.Fv)(c.list,i.Xt);e("set",t,{root:!0}),e("addIds",t.result)}return c&&c.hasMore}catch(c){return void e("setLoading",!1)}},async fetchUserPostLabels({commit:e},{limit:t=d.P9,offset:s=0,userId:r}){try{s||e("setUserLabelsIds"),e("setLoading",!0);const n=await(0,o.Pj)({limit:t,offset:s,userId:r});if(e("setLoading",!1),n&&Array.isArray(n.list)&&n.list.length){const t=(0,a.Fv)(n.list,i.Xt);e("set",t,{root:!0}),e("addUserLabelsIds",t.result)}return n&&n.hasMore}catch(n){return}},async addPostLabel({commit:e},t){try{const s=await(0,o.iZ)(t);if(s&&s.id){const t=(0,a.Fv)(s,i.ub);return e("set",t,{root:!0}),e("addIds",[+t.result]),s}}catch(s){(0,c.Po)(s)}return null},async updatePostLabel({commit:e,rootState:t},{id:s,name:r}){try{const n=await(0,o.GX)({id:s,name:r});if(n&&n.id){const s=(0,a.Fv)(n,i.ub);e("set",s,{root:!0}),n.posts&&n.posts.length&&Object.keys(t.posts.items).forEach((s=>{if(t.posts.items[s].labelStates){let r=!1;const a=[];t.posts.items[s].labelStates.forEach(((e,t)=>{a[t]={...e},+e.id===+n.id&&(a[t].name=n.name,r=!0)})),r&&e("posts/setPostField",{postId:s,field:"labelStates",status:a},{root:!0})}}))}}catch(n){(0,c.Po)(n)}},async fetchPostLabel({commit:e},t){try{const s=await(0,o.NN)(t);if(s&&s.id){const t=(0,a.Fv)(s,i.ub);e("set",t,{root:!0})}}catch(s){Sentry.captureException(s)}},async savePostLabelsOrder({commit:e,rootGetters:t},s){const{customOrder:r,sort:n,order:a}=s;try{const i=await(0,o.Lp)({customOrder:r,sort:n,order:a});if(i&&i.success)if(r)e("setIds",r);else if(n||a){const r=t["auth/authUserId"],a=n?"labelsSort":"labelsSortOrder",i=Object.values(s)[0];e("users/setUserField",{userId:r,field:a,status:i},{root:!0})}}catch(i){(0,c.Po)(i)}},async clearPostLabel({commit:e},t){try{const s=await(0,o.ZH)(t);s&&s.success&&(e("setPostLabel",{labelId:t,label:{postsCount:0,posts:[]}}),e("posts/setItemIds",[],{root:!0}))}catch(s){(0,c.Po)(s)}},async updateLabels({commit:e},t){const s=(0,a.Fv)(t,i.Xt);e("set",s,{root:!0}),e("addIds",s.result)},async togglePostInPostsLabels({commit:e,dispatch:t,rootGetters:s,state:r},{labelId:a,postId:i}){try{const c=u.ZP.$route.name;let d,l;"MyQueue"===c?(d=s["schedule/getSchedulePostById"](i)||{},l=d.labelStates):(d=s["posts/getPost"](i),l=d[0].labelStates);const m=l.find((e=>+e.id===a)),h=[i],f=m?await(0,o.c$)(a,i):await(0,o.AS)(a,h);if(f&&f.success){e("addUserLabelsIds",[a]);const s=n()(f,"label.type","custom");if(m)await t("fetchPostLabel",a),e("MyQueue"===c?"schedule/deletePostLabel":"posts/deletePostLabel",{postId:i,labelId:a},{root:!0});else{await t("fetchPostLabel",a);const s=r.items[a];e("MyQueue"===c?"schedule/addPostLabel":"posts/addPostLabel",{postId:i,label:s},{root:!0})}const o=(t,r)=>{if(s===t){const s=!m;e("users/changeUsersPostsCount",{decrement:!m},{root:!0});const n=l.filter((e=>e.type!==t));e("posts/setPostField",{postId:i,field:r,status:s},{root:!0}),e(s?"decrementPostLabelsCounters":"incrementPostLabelsCounters",n)}};o("archived","isArchived"),o("private_archived","isPrivateArchived"),"PostLabel"!==u.ZP.$route.name&&"ProfileLabel"!==u.ZP.$route.name||m&&+u.ZP.$route.params.id===+a&&e("posts/deletePostId",i,{root:!0})}}catch(d){(0,c.Po)(d)}}}},557910:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return d},getters:function(){return o},mutations:function(){return c},state:function(){return i}});var r=s(849344);const n=3e4,a=()=>({collection:[],timer:void 0}),i=a(),o={collection:e=>e.collection,timer:e=>e.timer},c={collect(e,t){e.collection=[...e.collection,t]},setTimer(e,t){e.timer=t},resetCollection(e){e.collection=[]},resetTimer(e){s.g.clearInterval(e.timer),e.timer=void 0},logout(e){Object.assign(e,a())}},d={setTimer({commit:e},t){e("setTimer",t)},collect({commit:e},t){e("collect",t)},sendCollection({commit:e,state:t,rootGetters:s}){const n=s["init/shouldSendStat"],a=s["auth/authUserId"];t.collection.length&&(n&&a&&(0,r.aF)(t.collection),e("resetCollection"))},startCollect({commit:e,state:t,dispatch:r}){if(t.timer)return;const a=s.g.setInterval((()=>{r("sendCollection")}),n);e("setTimer",a)},stopCollect({commit:e,dispatch:t}){t("sendCollection"),e("resetTimer")}}},274889:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return w},getFeedType:function(){return g},getters:function(){return P},mutations:function(){return v},state:function(){return S}});var r=s(227361),n=s.n(r),a=s(782677),i=s(114494),o=s(849344),c=s(629857),d=s(999023),u=s(243168),l=s(861286),m=s(172462),h=s(975701),f=s(872308),p=s(914786);const g=e=>e&&!+e?e:"feed",y=()=>({items:{},itemIds:[],tempItemIds:{},feedItemIds:[],tempFeedItemIds:[],lastFeedItemIds:[],lastFeedType:null,lastProfileItemIds:{},hasPrevUserPostsToLoad:!1,currentPost:null,isPostsLoading:!1,error:!1,layout:p.Z.getItem("wallLayout")||"grid",postPublishedCounter:0,hasNewOwnPostPublished:!1,offset:0,needScrollToComments:!1,disabledPinsOrder:!1,hasPrevPostsToLoad:!1,votersList:{},postsLogin:[],votersMarker:void 0,pinnedIds:[],hasMore:{},currentFullscreenPostId:null,feedSettings:{isHideLockedFeedPosts:!1,isHidePromoFeedPosts:!1,isHideFeedPostsProfileBanners:!1,...JSON.parse(p.Z.getItem("feedSettings")||"{}")},userGetPostsError:!1,hasFeedBottomPostLoadError:!1,isProfileDataFetching:!1,postsFiltersCounter:{},beforePublishTime:void 0,afterPublishTime:void 0,headMarker:void 0,tailMarker:void 0,tweetSend:0}),S=y(),P={posts:e=>e.itemIds.map((t=>e.items[t])),postsPinned:e=>e.pinnedIds.map((t=>e.items[t])).filter((e=>e&&!e.isReportedByMe)),userPostItemIds:e=>e.itemIds,postsIdsList:e=>e.feedItemIds,feedPosts:e=>e.feedItemIds.map((t=>e.items[t])),filterExpiredposts(e){const t=+new Date;return e.itemIds.map((t=>e.items[t])).filter((e=>{if(!e)return!1;if(e.expiredAt){const s=+new Date(e.expiredAt);if(s<=t)return!1}return!0}))},filterReportedPosts:(e,t)=>t.filterExpiredposts.filter((e=>!e.isReportedByMe)),pinnedPostsIds:e=>e.pinnedIds,filterExpiredFeedposts(e){const t=+new Date;return e.feedItemIds.map((t=>e.items[t])).filter((e=>{if(!e)return!1;if(e.expiredAt){const s=+new Date(e.expiredAt);if(s<=t)return!1}return!0}))},filterReportedFeedPosts:(e,t)=>t.filterExpiredFeedposts.filter((e=>!e.isReportedByMe)),filterFeedPosts(e,t,s,r){let n=t.filterReportedFeedPosts;const a=r["auth/authUserId"];e.feedSettings.isHidePromoFeedPosts&&(n=n.filter((e=>e.author===a||!(e.linkedPosts||[]).length&&!(e.linkedUsers||[]).length&&!e.hasUrl))),e.feedSettings.isHideFeedPostsProfileBanners&&(n=n.map((e=>e.author===a?e:{...e,linkedUsers:[]})));const{feedFiltersIds:i}=s.usersLists;return i.length&&(n=n.filter((e=>{const t=r["users/getUser"](e.author);return!(t&&t.listsStates&&t.listsStates.length)||t.listsStates.some((e=>e.hasUser&&i.includes(e.id)))}))),n},totalPosts:e=>e.itemIds.length,hasPosts:e=>!!e.itemIds.length,getPost:e=>t=>e.items[t]?[{...e.items[t]}]:[],activePost:e=>[{...e.items[e.currentPost]}],getPostById:e=>t=>({...e.items[t]||{}}),activePostId:e=>e.currentPost,hasActivePost:e=>!!e.currentPost,isPostsError:e=>e.error,isGridLayout:e=>"grid"===e.layout,postPublishedCounter:e=>e.postPublishedCounter,needScrollToComments:e=>e.scrollToComments,disabledPinsOrder:e=>e.disabledPinsOrder,postVoters:e=>(t,s)=>{const r=t||"",n=s||"";return e.votersList[`${n}_${r}`]||[]},getPostVoter:e=>t=>e.votersList[t],getLastProfileItemIds:e=>(t,s="post")=>{const r=[];return e.lastProfileItemIds[t]&&e.lastProfileItemIds[t].length&&e.lastProfileItemIds[t].forEach((e=>{s===e.postType&&r.push(e.id)})),r},getTempItemIds:e=>t=>e.tempItemIds[t]?e.tempItemIds[t]:{pinnedPostsIds:[],userPostItemIds:[]},hasMore:e=>t=>!!e.hasMore[t]},v={saveFeedItemIds(e){e.tempFeedItemIds=e.feedItemIds,e.feedItemIds=[]},setLoading(e,t){e.isPostsLoading=t},setError(e,t){e.error=t},incrementPostCommentsCount(e,t){e.items[t]&&(e.items[t].commentsCount+=1)},decrementPostComment(e,t){e.items[t]&&e.items[t].commentsCount&&e.items[t].commentsCount>0&&(e.items[t].commentsCount-=1)},setItemIds(e,t=[]){e.itemIds=[...new Set([...t])]},addItemIds(e,t=[]){e.itemIds=[...new Set([...e.itemIds,...t])]},addNewItemIds(e,t=[]){e.itemIds=[...new Set([...t,...e.itemIds])]},setFeedItemIds(e,t=[]){e.feedItemIds=[...new Set([...t])]},setPinnedIds(e,t=[]){e.pinnedIds=t},resetFeedItemIds(e){e.feedItemIds=[],e.tempFeedItemIds=[]},addFeedItemIds(e,t=[]){e.feedItemIds=[...new Set([...e.feedItemIds,...t])]},addNewFeedItemIds(e,t=[]){e.feedItemIds=[...new Set([...t,...e.feedItemIds])]},setLastFeedItemIds(e,t=[]){e.lastFeedItemIds=t},setLastFeedType(e,t){e.lastFeedType=t},addLastFeedItemId(e,t=[]){e.lastFeedItemIds=[...new Set([...e.lastFeedItemIds,...t])]},setPrevUserPostsToLoad(e,t){e.hasPrevUserPostsToLoad=t},setLastProfileItemId(e,{username:t,arr:s}){t&&(e.lastProfileItemIds[t]=s)},addLastProfileItemId(e,{username:t,id:s,postType:r="post"}){t&&(void 0===e.lastProfileItemIds[t]&&(e.lastProfileItemIds[t]=[]),e.lastProfileItemIds[t].push({username:t,id:s,postType:r}))},setTempItemIds(e,{username:t,value:s}){t&&(e.tempItemIds[t]=s)},setActivePost(e,t){e.currentPost=t},clearActivePost(e){e.currentPost=null},togglePostFavorite(e,t){if(e.items[t]&&e.items[t].id){const{isFavorite:s}=e.items[t];e.items[t].isFavorite=!s,s?e.items[t].favoritesCount-=1:e.items[t].favoritesCount+=1}},togglePostPin(e,t){if(e.items[t]){const{isPinned:s}=e.items[t];e.items[t].isPinned=!s}},toggleLayout(e){e.layout="grid"===e.layout?"list":"grid",p.Z.setItem("wallLayout",e.layout)},deletePost(e,t){if(void 0!==e.items[t]){const s={...e.items};delete s[t];const r=e.itemIds.filter((e=>+e!==+t));r.length!==e.itemIds.length&&(e.itemIds=r);const n=e.pinnedIds.filter((e=>+e!==+t));n.length!==e.pinnedIds.length&&(e.pinnedIds=n);const a=e.feedItemIds.filter((e=>+e!==+t));a.length!==e.feedItemIds.length&&(e.feedItemIds=a),e.items=s}},deletePostId(e,t){e.itemIds=e.itemIds.filter((e=>e!==t))},deletePinnedPostId(e,t){e.pinnedIds=e.pinnedIds.filter((e=>e!==t))},updatePost(e,t){const{id:s}=t;e.items[s]&&(e.items[s].fundRaising&&!t.fundRaising&&delete e.items[s].fundRaising,e.items[s]={...e.items[s],...t}),t&&t.fundRaising&&t.fundRaising.targetProgress&&e.items[s]&&e.items[s].tipsAmount&&(e.items[s].tipsAmountRaw=+t.fundRaising.targetProgress,e.items[s].tipsAmount=(0,l.Z9)(e.items[s].tipsAmountRaw))},incPostPublishedCounter(e){e.postPublishedCounter+=1},setPostPublishedCounter(e,t){e.postPublishedCounter=t},setHasNewOwnPostPublished(e,t){e.hasNewOwnPostPublished=t},resetPostPublishedCounter(e){e.postPublishedCounter=0},setPrevPostsToLoad(e,t){e.hasPrevPostsToLoad=t},setStreamEvents(e,{events:t,postId:s}){e.items[s].streamEvents=t},setPostFavorites(e,{postId:t,list:s,more:r}){e.items[t].favoritesList=r?[...new Set([...e.items[t].favoritesList,...s])]:s},setPostTips(e,{postId:t,list:s,more:r}){e.items[t].tipsList=r?[...new Set([...e.items[t].tipsList,...s])]:s},setPostBuyers(e,{postId:t,list:s,more:r}){e.items[t].buyersList=r?[...new Set([...e.items[t].buyersList,...s])]:s},resetPostBuyers(e,{postId:t}){e.items[t].buyersList=[]},resetPostFavorites(e,{postId:t}){e.items[t].favoritesList=[]},resetPostTips(e,{postId:t}){e.items[t].tipsList=[]},updatePostInBookmarks(e,{id:t,isAdded:s}){e.items[t].isAddedToBookmarks=s},setOffset(e,t){e.offset=+t},setScrollToComments(e,t){e.needScrollToComments=t},updatePostTips(e,{postId:t,amount:s}){if(t&&s&&e.items[t]){const r=e.items[t].tipsAmountRaw+ +s;e.items[t].tipsAmountRaw=r,e.items[t].tipsAmount=(0,l.Z9)(r)}},setDisabledPinsOrder(e,t){e.disabledPinsOrder=t},setHasMore(e,{type:t,value:s}){e.hasMore={...e.hasMore,[t]:s}},setUserGetPostsError(e,t){e.userGetPostsError=t},setVotersMarker(e,t){e.votersMarker=t},setPostsLogin(e,t){e.postsLogin=t},setCurrentFullscreenPostId(e,t){e.currentFullscreenPostId=t},toggleIsHideLockedFeedPosts(e){e.feedSettings.isHideLockedFeedPosts=!e.feedSettings.isHideLockedFeedPosts,p.Z.setItem("feedSettings",JSON.stringify(e.feedSettings))},toggleIsHidePromoFeedPosts(e){e.feedSettings.isHidePromoFeedPosts=!e.feedSettings.isHidePromoFeedPosts,p.Z.setItem("feedSettings",JSON.stringify(e.feedSettings))},toggleIsHideFeedPostsProfileBanners(e){e.feedSettings.isHideFeedPostsProfileBanners=!e.feedSettings.isHideFeedPostsProfileBanners,p.Z.setItem("feedSettings",JSON.stringify(e.feedSettings))},filterHiddenUserFeedPosts(e,t){e.feedItemIds=e.feedItemIds.filter((s=>e.items[s]&&e.items[s].author!==t))},setPostIsReportedByMe(e,t=0){e.items[t]&&(e.items[t]={...e.items[t],isReportedByMe:!0})},setPostsFiltersCounter(e,t){e.postsFiltersCounter=t},resetPostsFiltersCounter(e){e.postsFiltersCounter={}},resetPosts(e){e.items={},e.postsFiltersCounter={},e.itemIds=[]},setFeedBottomPostLoadError(e,t=!1){e.hasFeedBottomPostLoadError=t},setIsProfileDataFetching(e,t=!1){e.isProfileDataFetching=t},setPostIsReportedByMeTemp(e,t=0){e.items[t]&&(e.items[t]={...e.items[t],isReportedByMeTemp:!0})},addPostLabel(e,{postId:t,label:s}){"custom"===s.type&&e.items[t].labelStates.push(s)},deletePostLabel(e,{postId:t,labelId:s}){e.items[t].labelStates=e.items[t].labelStates.filter((e=>e.id!==s))},setPostField(e,{postId:t,field:s,status:r}){if(!e.items[t])return;const n={};n[s]=r,e.items[t]={...e.items[t],...n}},resetVotersList(e){e.votersList={}},setMarkers(e,{headMarker:t,tailMarker:s}={}){if(!t||!s)return e.headMarker=void 0,e.tailMarker=void 0,e.beforePublishTime=void 0,void(e.afterPublishTime=void 0);""+ +t===`${t}`?(e.headMarker=Math.min(...[e.headMarker,t,s].filter((e=>e))),e.tailMarker=Math.max(...[e.tailMarker,t,s].filter((e=>e)))):(e.beforePublishTime=Math.min(...[e.beforePublishTime,t,s].filter((e=>e))).toFixed(6),e.afterPublishTime=Math.max(...[e.afterPublishTime,t,s].filter((e=>e))).toFixed(6))},setTweetSend(e,t=0){e.tweetSend=t},logout(e){Object.assign(e,y())}},w={async fetchPosts({commit:e,state:t,dispatch:s},{limit:r=h.P9,more:c=!1,query:d,beforePublishTime:l,afterPublishTime:f,direction:p,listId:y,user:S,needFullResponse:P=!1}={}){let v=!1;const w=i.ZP.$watch("$route",(()=>{v=!0})),{cancelToken:b,isCancelled:I,Cancel:k}=(0,h.Yz)("fetchPosts");I&&e("setLoading",!1);const C=g(y);e("setLoading",!0),c||(e("setOffset",0),e("setMarkers")),c||"bottom"!==p||e("setHasMore",{value:!1,type:C}),"feed"===C||c||e("resetFeedItemIds");let T={};e("setFeedBottomPostLoadError",!1);const $={limit:r,offset:t.offset,query:d,cancelToken:b,listId:y,user:S};t.feedSettings.isHideLockedFeedPosts&&($.onlyCanView=1),"bottom"===p?t.tailMarker?$.tailMarker=t.tailMarker:$.beforePublishTime=t.beforePublishTime||l:t.headMarker?$.headMarker=t.headMarker:$.afterPublishTime=t.afterPublishTime||f;try{if(T=await(0,o.Jq)($),w(),v)return}catch(_){if(_ instanceof k)return;if(e("setLoading",!1),S&&404===_.status&&"User not found"===n()(_,"data.error.message"))return void e("setFeedItemIds",[]);throw"Feed"===i.ZP.$route.name&&"bottom"===p&&e("setFeedBottomPostLoadError",!0),_}if(!T||"object"!==typeof T)return(0,m.oj)({error:new Error("typeof response is incorrect"),extra:{response:T}}),P?{}:[];const L=T.list;"need-tag"===y&&L.forEach((e=>{e.isNeedTag=!0}));const M=(0,a.Fv)(L,u.eI);try{await s("users/getUsersIfNeeded",M,{root:!0}),e("set",M,{root:!0});const n=M.result;e("setMarkers",T),c?e("bottom"===p?"addFeedItemIds":"addNewFeedItemIds",n):(e("setFeedItemIds",n),e("resetPostPublishedCounter"));let a=t.offset+r;return"need-tag"===y&&(a=t.feedItemIds.length),e("setOffset",a),e("setLoading",!1),"bottom"===p&&e("setHasMore",{value:T.hasMore,type:C}),("top"===p&&!T.hasMore||!$.beforePublishTime&&!$.afterPublishTime)&&e("setHasNewOwnPostPublished",!1),P?T:L}catch(_){return e("setLoading",!1),P?{}:[]}},async fetchBookmarkPosts({commit:e,dispatch:t},{limit:s,offset:r=0,type:n="",filter:i,order:c}={}){const{cancelToken:d}=(0,h.Yz)("fetchPosts");let l;r||e("resetFeedItemIds");try{if(l=await(0,o.Ls)({type:n,limit:s,offset:r,filter:i,order:c,cancelToken:d}),!l||!Array.isArray(l.list))return(0,m.oj)({error:new Error("typeof response is incorrect"),extra:{response:l}}),!1;if(l.list.length){const s=(0,a.Fv)(l.list,u.eI);await t("users/getUsersIfNeeded",s,{root:!0}),e("set",s,{root:!0});const n=s.result;e(r?"addFeedItemIds":"setFeedItemIds",n)}return l.hasMore}catch(f){}},async fetchUserPosts({commit:e,dispatch:t,state:s},{id:r,limit:n,more:i=!1,addNew:o=!1,type:c="posts",query:l,order:f,filter:p,beforePublishTime:g,afterPublishTime:y,direction:S="bottom",pinned:P,label:v,excludeLabel:w,needFullResponse:b=!1}={}){if("streams"===c)return void e("setItemIds");const{cancelToken:I,Cancel:k}=(0,h.Yz)("fetchPosts");let C;c&&"posts"!==c&&(0,h.Yz)("fetchPostsPinned"),e("setLoading",!0),i||o||(e("setMarkers"),e("setItemIds")),e("setUserGetPostsError",!1);const T=f&&"asc"===f.slice(f.length-3),$={id:r,limit:n,type:c,query:l,order:"top"===S&&T?f.replace(/asc$/,"desc"):f,filter:p,pinned:P,label:v,excludeLabel:w,cancelToken:I,counters:+!i};try{"top"===S&&!T||"top"!==S&&T?$.afterPublishTime=(s.afterPublishTime||y||g)&&Math.max(...[s.afterPublishTime,y,g].filter((e=>e))).toFixed(6):$.beforePublishTime=(s.beforePublishTime||g||y)&&Math.min(...[s.beforePublishTime,g,y].filter((e=>e))).toFixed(6),C=await(0,d.C8)($)}catch(x){if(!(x instanceof k))throw e("setLoading",!1),e("setUserGetPostsError",!0),x;return}if(!C||"object"!==typeof C)throw(0,m.oj)({error:new Error("typeof response is incorrect"),extra:{response:C}}),e("setLoading",!1),new Error("Not object");const L=$.order!==f?C.list.reverse():C.list,M=C.counters;"top"!==S&&e("setHasMore",{value:C.hasMore,type:c}),M&&e("setPostsFiltersCounter",M);const _=(0,a.Fv)(L,u.eI);await t("users/getUsersIfNeeded",_,{root:!0}),e("set",_,{root:!0}),e("setMarkers",C);const A=_.result;return e(i?"addItemIds":o?"addNewItemIds":"setItemIds",A),e("setLoading",!1),b?C:L},async fetchUserPostsByType({commit:e,rootGetters:t,dispatch:s},{selectedPostDate:r=!1}={}){try{e("setPrevUserPostsToLoad",!1);const n=t["users/userId"],{order:a,filter:o,q:c}=i.ZP.$route.query,d=i.ZP.$route.params.postType,u=i.ZP.$route.params.labelId,l={id:n,type:d,query:c,order:a,filter:o,label:u};if(r){l.beforePublishTime=r,l.needFullResponse=!0,e("setPinnedIds");const t=await s("fetchUserPosts",l);return t}{const e="Profile"===i.ZP.$route.name&&!i.ZP.$route.query.filter&&(!i.ZP.$route.query.order||"publish_date_asc"===i.ZP.$route.query.order);e&&(l.pinned=0)}await s("fetchUserPosts",l)}catch(n){}},async fetchPostsPinned({commit:e,rootGetters:t,dispatch:s}){const{cancelToken:r}=(0,h.Yz)("fetchPostsPinned");try{const o=t["users/userId"];e("setPinnedIds");const c=i.ZP.$route.query.filter||i.ZP.$route.query.order;if(c&&"publish_date_asc"!==c)e("setPinnedIds");else{const t=await(0,d.U7)({id:o,cancelToken:r}),i=n()(t,"list",!1);if(i&&i.length){const t=(0,a.Fv)(i,u.eI);await s("users/getUsersIfNeeded",t,{root:!0}),e("set",t,{root:!0}),e("setPinnedIds",t.result)}}}catch(o){}},async fetchPost({commit:e,state:t,dispatch:s},{id:r,active:n=!1,onlyExisted:i=!1}={}){if(e("setError",!1),i&&!t.items[r])return[];let c;e("setLoading",!0);try{c=await(0,o.u_)(r)}catch(l){return e("setLoading",!1),e("setError",!0),[]}if(!c||"object"!==typeof c)return(0,m.oj)({error:new Error("typeof response is incorrect"),extra:{post:c}}),[];n&&e("setActivePost",+c.id);const d=(0,a.Fv)(c,u.Rj);return await s("users/getUsersIfNeeded",d,{root:!0}),s("setPost",c),e("setLoading",!1),c},setPost({commit:e},t){const s=(0,a.Fv)(t,u.Rj);let r;r=n()(s,`entities.posts[${t.id}]`)?s.entities.posts[t.id]:t,e("updatePost",r),e("set",s,{root:!0})},postPublished({commit:e,rootGetters:t},{id:s,userId:r}){if(!s)return;const n=t["auth/authUserId"];+n!==+r&&e("incPostPublishedCounter"),e("setHasNewOwnPostPublished",!0)},async favoritePost({commit:e},{id:t,authorId:s}){e("togglePostFavorite",t);try{const r=await(0,o.xZ)({id:t,authorId:s});if(r&&"object"===typeof r){const t=(0,a.Fv)(r,u.Rj);e("set",t,{root:!0})}else(0,m.oj)({error:new Error("typeof response is incorrect"),extra:{response:r}})}catch(r){e("togglePostFavorite",t)}},async pinPostAction({commit:e,state:t,dispatch:s,rootGetters:r},{id:n,userId:a}){const c=await(0,o.wy)(n),d=i.ZP.$route.query.filter||i.ZP.$route.query.order&&"publish_date_asc"!==i.ZP.$route.query.order?void 0:0;if(c&&c.success){const o=t.items[n];if(e("togglePostPin",n),o){const c=r["auth/authUser"],u=o.isPinned?c.pinnedPostsCount+1:c.pinnedPostsCount-1;if(e("users/setUserField",{userId:c.id,field:"pinnedPostsCount",status:u},{root:!0}),e("users/setUserField",{userId:c.id,field:"hasPinnedPosts",status:u>0},{root:!0}),"Profile"===i.ZP.$route.name&&0===d)if(o.isPinned)e("deletePostId",n),e("setPinnedIds",[n,...t.pinnedIds]);else{e("deletePinnedPostId",n);const t=i.ZP.$route.params.postType,{q:r,order:o,filter:c}=i.ZP.$route.query;s("fetchUserPosts",{id:a,type:t,query:r,order:o,filter:c,pinned:d})}}}},async deletePost({commit:e,state:t},s){try{const r=n()(t.items[s],"labelStates",!1),a=await(0,o.fR)(s);if(a&&a.counters&&(e("users/updateUserCounters",a.counters,{root:!0}),e("setPostsFiltersCounter",a.counters)),a&&a.success)return r&&Array.isArray(r)&&e("postLabels/decrementPostLabelsCounters",r,{root:!0}),e("deletePost",s),!0}catch(r){return(0,m.Po)(r),!1}return!1},async hidePost({commit:e,state:t,dispatch:s},r){try{const n=t.items[r];let a;a=n&&"post"===n.responseType?await(0,o.jp)(r):await s("chats/hideMessage",r,{root:!0}),a&&a.success&&("Post"===i.ZP.$route.name?e("setPostIsReportedByMe",r):e("deletePost",r))}catch(n){(0,m.Po)(n)}},async fetchStreamEvents({commit:e,rootGetters:t},{streamId:s,postId:r}){try{let n=await(0,c.PC)(s);n&&n.length&&(n=n.reduce(((e,s)=>{switch(s.type){case"join":case"left":return e;case"tips":s.data.comment=(0,f.b$)({vm:i.ZP,authUser:t["auth/authUser"],fromUser:s.data.user,toUser:s.data.toUser,amount:`$${s.data.amount.toFixed(2).replace(".00","")}`,message:s.data.message}),s.type="comment";break;default:break}return s.time=parseFloat(s.time),e.push(s),e}),[]),e("setStreamEvents",{events:n,postId:r}))}catch(n){Sentry.captureException(n)}},async fetchFavoritesList({commit:e,state:t},{postId:s,offset:r=0,more:n=!1}){let i;e("setError",!1);try{if(i=await(0,o.F3)({postId:s,offset:r}),i&&i.list){const r=(0,a.Fv)(i.list,u.Xd);if(e("set",r,{root:!0}),!t.items[s]){const t=(0,a.Fv)({id:s},u.Rj);e("set",t,{root:!0})}e("setPostFavorites",{postId:s,list:r.result,more:n})}}catch(c){e("setError",!0)}return i},async fetchTipsList({commit:e,state:t},{postId:s,offset:r=0,more:n=!1}){let i;e("setError",!1);try{if(i=await(0,o.wr)({postId:s,offset:r}),i&&i.list){const r=(0,a.Fv)(i.list,u.Xd);if(e("set",r,{root:!0}),!t.items[s]){const t=(0,a.Fv)({id:s},u.Rj);e("set",t,{root:!0})}e("setPostTips",{postId:s,list:r.result,more:n})}}catch(c){e("setError",!0)}return i},async fetchBuyersList({commit:e,state:t},{postId:s,offset:r=0,more:n=!1}){try{e("setError",!1);const i=await(0,o._D)({postId:s,offset:r});if(i&&i.list){if(!t.items[s]){const t=(0,a.Fv)({id:s},u.Rj);e("set",t,{root:!0})}const r=(0,a.Fv)(i.list,u.Xd);e("set",r,{root:!0}),e("setPostBuyers",{postId:s,list:r.result,more:n})}return i}catch(i){return e("setError",!0),{}}},async fetchVotersList({commit:e,state:t},{postId:s,offset:r=0,optionId:n,more:i=!1}){e("setError",!1);try{i||e("setVotersMarker");const c=await(0,o.yI)({postId:s,optionId:n,offset:r,marker:t.votersMarker});if(c&&c.list){if(c.marker&&e("setVotersMarker",c.marker),!t.items[s]){const t=(0,a.Fv)({id:s},u.Rj);e("set",t,{root:!0})}const r=(0,a.Fv)(c.list,u.$7);e("set",r,{root:!0}),e("set",{entities:{votersList:{[`${s}_${n}`]:i?[...new Set([...t.votersList[`${s}_${n}`]||[],...r.result])]:r.result}}},{root:!0})}return c}catch(c){return e("setError",!0),{}}},async fetchPostsLogin({commit:e},t=9){e("setPostsLogin",[]),e("setError",!1);try{const s=await(0,o.j7)(t);return s&&s.items&&e("setPostsLogin",s.items),s}catch(s){return e("setError",!0),{}}},async addPostToBookmarks({commit:e},{id:t,authorId:s}){let r;try{r=await(0,o.GX)(t,s)}catch(n){}r&&r.success&&e("updatePostInBookmarks",{id:t,isAdded:!0})},async removePostFromBookmarks({commit:e},t){let s;try{s=await(0,o.Z1)(t)}catch(r){}s&&s.success&&e("updatePostInBookmarks",{id:t,isAdded:!1})},setPostLabelsCounters({commit:e},t){try{t.forEach((t=>{e("postLabels/setPostLabel",{labelId:t.id,label:t},{root:!0})}))}catch(s){(0,m.Po)(s)}},async toggleArchivePost({commit:e,state:t,dispatch:s},r){let n=t.items[r];if(n)try{const c=n.isArchived?await(0,o.BB)(r):await(0,o.vc)(r);if(c&&c.counters&&(e("users/updateUserCounters",c.counters,{root:!0}),e("setPostsFiltersCounter",c.counters)),c&&c.post){({post:n}=c);const o=i.ZP.$createElement("span",{domProps:{innerHTML:i.ZP.$t(n.isArchived?"message.post_moved_to_archive_toast":"message.post_moved_from_archive_toast",{POST_URL:`/${n.id}/${n.author.username}`,ARCHIVE_URL:`/${n.author.username}/archived`})},on:{click:h.gy}});i.ZP.$bvToast.toast([o],{autoHideDelay:5e3,appendToast:!0,toaster:"b-toaster-bottom-left"});const d=(0,a.Fv)(c.post.labelStates,u.Xt);e("postLabels/addUserLabelsIds",d.result,{root:!0}),s("setPostLabelsCounters",c.post.labelStates),e("postLabels/setPostLabelArchivedCounters",c.counters,{root:!0}),s("setPost",n),e("setFeedItemIds",t.feedItemIds.filter((e=>e!==r))),e("deletePostId",r),e("deletePinnedPostId",r),delete c.post,Object.keys(c).forEach((t=>{e("users/setUserField",{userId:n.author.id,field:t,status:c[t]},{root:!0})}))}}catch(c){(0,m.Po)(c)}},async togglePrivateArchivePost({commit:e,state:t,dispatch:s},r){let n=t.items[r];if(n)try{const c=n.isPrivateArchived?await(0,o.n3)(r):await(0,o.Vl)(r);if(c&&c.counters&&(e("users/updateUserCounters",c.counters,{root:!0}),e("setPostsFiltersCounter",c.counters)),c&&c.post){({post:n}=c);const o=i.ZP.$createElement("span",{domProps:{innerHTML:i.ZP.$t(n.isPrivateArchived?"message.post_moved_to_private_archive_toast":"message.post_moved_from_private_archive_toast",{POST_URL:`/${n.id}/${n.author.username}`,ARCHIVE_URL:`/${n.author.username}/private_archived`})},on:{click:h.gy}});i.ZP.$bvToast.toast([o],{autoHideDelay:5e3,appendToast:!0,toaster:"b-toaster-bottom-left"});const d=(0,a.Fv)(c.post.labelStates,u.Xt);e("postLabels/addUserLabelsIds",d.result,{root:!0}),s("setPostLabelsCounters",c.post.labelStates),e("postLabels/setPostLabelArchivedCounters",c.counters,{root:!0}),s("setPost",n),e("setFeedItemIds",t.feedItemIds.filter((e=>e!==r))),e("deletePostId",r),e("deletePinnedPostId",r),delete c.post,Object.keys(c).forEach((t=>{e("users/setUserField",{userId:n.author.id,field:t,status:c[t]},{root:!0})}))}}catch(c){(0,m.Po)(c)}},async savePinsOrder({commit:e},t){try{e("setDisabledPinsOrder",!0);const s=await(0,o.b0)(t);e("setDisabledPinsOrder",!1),s&&s.length&&e("setPinnedIds",s)}catch(s){e("setDisabledPinsOrder",!1),(0,m.Po)(s)}}}},818474:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return l},mutations:function(){return u},state:function(){return d}});var r=s(782677),n=s(527557),a=s(243168),i=s(975701),o=s(172462);const c=()=>({referralsIds:[],earnings:[],earningsLoading:!1,counts:{},smsTemplates:{},offset:0}),d=c(),u={setEarningsLoading(e,t){e.earningsLoading=t},setReferralsIds(e,{items:t=[],more:s=!1}={}){e.referralsIds=s?[...e.referralsIds,...t]:t},setOffset(e,t=0){e.offset=t},setEarnings(e,{items:t,more:s}){e.earnings=s?[...e.earnings,...t]:[...t]},setCounts(e,{count:t,data:s}){e.counts={...e.counts,[s.is_performer?"creators":"users"]:t}},setSmsTemplates(e,t){e.smsTemplates=t},logout(e){Object.assign(e,c())}},l={async fetchReferrals({commit:e,state:t},{query:s,more:c,isPerformer:d}={}){c||(e("setReferralsIds"),e("setOffset"));try{const u=await(0,n.$d)({limit:i.P9,offset:t.offset,query:s,is_performer:d});if(Array.isArray(u)){if(e("setOffset",t.offset+i.P9),u.length){const t=(0,r.Fv)(u,a.Xd);return e("set",t,{root:!0}),e("setReferralsIds",{items:t.result,more:c}),!0}return!1}(0,o.oj)({error:new Error("typeof response is incorrect"),extra:{response:u}})}catch(u){}},async fetchEarnings({commit:e},{limit:t,offset:s,more:r}={}){let a;e("setEarningsLoading",!0),r||e("setEarnings",{items:[],more:r});try{const e=await(0,n.dc)({limit:t,offset:s});a=e.list||[]}catch(i){a=[]}return e("setEarnings",{items:a,more:r}),e("setEarningsLoading",!1),a},async fetchCounts({commit:e},t){try{const s=await(0,n.eZ)(t);s&&void 0!==s.count&&e("setCounts",{count:s.count,data:t})}catch(s){}},async fetchSmsTemplates({commit:e}){try{const t=await(0,n.K$)();t&&"object"===typeof t&&e("setSmsTemplates",t)}catch(t){}}}},50473:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return d},mutations:function(){return c},state:function(){return o}});var r=s(248556),n=s(975701),a=s(172462);const i=()=>({releaseFormsList:[],users:[],selectedItems:[],releaseFormsFilter:"date",releaseFormsOrder:"desc",offsetUsers:0,offsetForms:0,hasMoreUsers:!1,hasMoreForms:!1,isLoadingUsers:!1,isLoadingForms:!1,hints:[]}),o=i(),c={setUsers(e,t){e.users=t},setReleaseFormsList(e,t){e.releaseFormsList=t},setReleaseFormsFilter(e,t){e.releaseFormsFilter=t},setReleaseFormsOrder(e,t){e.releaseFormsOrder=t},setLoadingForms(e,t){e.isLoadingForms=t},setLoadingUsers(e,t){e.isLoadingUsers=t},setSelectedItems(e,t){e.selectedItems=t},resetFormsList(e){e.releaseFormsList=[]},resetSelectedItemsList(e){e.selectedItems=[]},resetReleaseItemsList(e){e.releaseFormsList=[],e.users=[]},setOffsetUsers(e,t){e.offsetUsers=t},setOffsetForms(e,t){e.offsetForms=t},setHasMoreUsers(e,t){e.hasMoreUsers=t},setHasMoreForms(e,t){e.hasMoreForms=t},addForms(e,t){e.releaseFormsList=[...e.releaseFormsList,...t]},setHints(e,t){e.hints=t},logout(e){Object.assign(e,i())}},d={async uploadReleaseDocs(e,t){try{return await(0,r.Ke)(t)}catch(s){return(0,a.Po)(s),!1}},async fetchUsers({commit:e,state:t},{limit:s=10,name:n,more:i}){try{i||(e("setLoadingUsers",!0),e("setUsers",[]),e("setOffsetUsers",0),e("setHasMoreUsers",!1));const{hasMore:a,items:o}=await(0,r.Qo)({offset:t.offsetUsers,limit:s,name:n}),c=[...t.users,...o],d=c.filter(((e,t,s)=>s.findIndex((t=>t.id===e.id))===t));e("setHasMoreUsers",a),e("setUsers",d),e("setOffsetUsers",t.offsetUsers+s),e("setLoadingUsers",!1)}catch(o){(0,a.Po)(o)}},async createReleaseLink(e,t){try{return await(0,r.IM)(t)}catch(s){return(0,a.Po)(s),!1}},async fetchReleaseForms({commit:e,state:t},{limit:s=n.P9,sort:i,more:o,name:c}){try{o||(e("setLoadingForms",!0),e("setReleaseFormsList",[]),e("setOffsetForms",0),e("setHasMoreForms",!1));const{hasMore:n,items:a}=await(0,r.e0)({limit:s,offset:t.offsetForms,sort:i,name:c}),d=[...t.releaseFormsList,...a],u=d.filter(((e,t,s)=>s.findIndex((t=>t.id===e.id))===t));e("setHasMoreForms",n),e("setReleaseFormsList",u),e("setOffsetForms",t.offsetForms+s),e("setLoadingForms",!1)}catch(d){(0,a.Po)(d)}},async attachReleaseForm(e,{postId:t,releaseForms:s,messageId:n,userTo:i="",isEditForms:o}){if(!s.length&&!t&&!o)return!1;const c={rfLink:s.filter((e=>"link"===e.type)).map((e=>e.id)),rfDoc:s.filter((e=>"doc"===e.type)).map((e=>e.id)),rfTag:s.filter((e=>"user"===e.type)).map((e=>e.id)),userTo:i};t?c.postId=t:n&&(c.messageId=n);try{return await(0,r.lJ)(c)}catch(d){return(0,a.Po)(d),!1}},async getReleaseFormsHints({commit:e},t){let s;try{s=await(0,r.AE)(t),e("setHints",s.data)}catch(n){(0,a.Po)(n)}return s},async getReleaseFormsHintsByType(e,t){let s;try{s=await(0,r.Dp)(t)}catch(n){(0,a.Po)(n)}return s}}},669479:function(e,t,s){"use strict";s.r(t),s.d(t,{getters:function(){return i},mutations:function(){return o},state:function(){return a}});const r=5,n=()=>({route:{from:{name:"",path:"",fullPath:"",params:{},query:{},meta:{}},to:{name:"",path:"",fullPath:"",params:{},query:{},meta:{}}},history:[]}),a=n(),i={route:e=>e.route},o={setRoute(e,t){const s="object"===typeof t&&"object"===typeof t.to?t.to:{},n=e.history&&e.history.length?e.history:[];e.route={...t},e.history=[s,...n].slice(0,r)},logout(){}}},258135:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return p},getters:function(){return h},mutations:function(){return f},state:function(){return m}});var r=s(596012),n=s(849344),a=s(727484),i=s.n(a),o=s(629387),c=s.n(o),d=s(993043),u=s(172462);i().extend(c());const l=()=>({itemsSFL:[],loading:!1,linkedPostsMap:{}}),m=l(),h={getSFLPostById:e=>t=>{const s=e.itemsSFL.find((e=>e.entity.id===t));return s?s.entity:null}},f={setItems(e,{addMore:t,list:s}){e.itemsSFL=t?[...e.itemsSFL||[],...s||[]]:s},setLoading:(e,t)=>{e.loading=t},deleteItem:(e,t)=>{e.itemsSFL=e.itemsSFL.filter((e=>e.id!==t))},postPublished:(e,t)=>{e.itemsSFL=e.itemsSFL.filter((({entity:e})=>e.id!==t))},setLinkedPostsMap:(e,t)=>{e.linkedPostsMap={...e.linkedPostsMap,...t}},resetPosts:e=>{e.loading=!1,e.itemsSFL=[]},updatePost:(e,{id:t,post:s})=>{e.itemsSFL=e.itemsSFL.map((e=>e.entity.id===t?{...e,entity:s}:e))},logout(e){Object.assign(e,l())}},p={async fetchSFLPosts({commit:e},{params:t,addMore:s}={}){let n;e("setLoading",!0);try{n=await(0,r.SM)({params:t});const{list:a}=n;a&&e("setItems",{list:a,addMore:s}),a&&a.length&&await(0,d.Bw)({commit:e,list:a,commitName:"savedForLater/setLinkedPostsMap"})}finally{e("setLoading",!1)}return n},async updateSFLPost({commit:e,state:t},s){const r=t.itemsSFL.some((({entity:e})=>e.id===s));if(!r)return;let a;try{a=await(0,n.u_)(s,[])}catch{}a&&"object"===typeof a||(0,u.oj)({error:new Error("typeof response is incorrect"),extra:{post:a}}),e("updatePost",{id:s,post:a})},async pinSFLPost({commit:e},t){let s;try{s=await(0,n.wy)(t)}catch{}if(s&&s.success){const s=m.itemsSFL.find((e=>e.entity.id===t));if(s){const r=!s.entity.isPinned,n={...s.entity,isPinned:r};e("updatePost",{id:t,post:n})}}},publishScheduleEventRightNow({commit:e},t){return(0,d.$7)({commit:e,id:t})}}},453398:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return v},getters:function(){return S},mutations:function(){return P},state:function(){return y}});var r=s(227361),n=s.n(r),a=s(114494),i=s(596012),o=s(849344),c=s(727484),d=s.n(c),u=s(629387),l=s.n(u),m=s(993043),h=s(172462),f=s(975701);const p=()=>s.e(1972).then(s.bind(s,661972));d().extend(l());const g=()=>({items:[],dayItems:[],itemsByDate:null,calendarItems:[],itemsCountByDate:{},userTimeZone:void 0,scheduledItemsLoading:!1,scheduledDayItemsLoading:!1,scheduledItemsCounterLoading:!1,hasMoreDayDetailedEvents:!1,linkedPostsMap:{},reminders:[],remindersLoading:!1}),y=g(),S={getSchedulePostById:e=>t=>{const s=e.dayItems.find((e=>e.entity.id===t));return s?s.entity:null}},P={setItems(e,t){const s=e.items.map((e=>e.id)),r=t.filter((e=>!s.includes(e.id)));e.items=e.items.concat(r)},setDayItems(e,t){const s=e.dayItems.map((e=>e.id)),r=t.filter((e=>!s.includes(e.id)));e.dayItems=e.dayItems.concat(r)},deleteItem(e,t){e.items=e.items.filter((e=>e.id!==t)),e.dayItems=e.dayItems.filter((e=>e.id!==t))},setItemsByDate(e){e.itemsByDate=(0,m.Sf)(e.items)},setCalendarItems(e,t){e.calendarItems=t},setItemsCountByDate(e,t){e.itemsCountByDate=t},setUserTimeZone:(e,t)=>{e.userTimeZone=t},clearCalendarItems:e=>{e.calendarItems=[]},clearAgendaItems:e=>{e.items=[],e.itemsByDate={}},clearDayItems:e=>{e.dayItems=[],e.hasMoreDayDetailedEvents=!1,e.scheduledDayItemsLoading=!1},clearItems:e=>{e.items=[],e.itemsByDate={},e.dayItems=[],e.calendarItems=[]},setScheduledItemsLoading:(e,t)=>{e.scheduledItemsLoading=t},setScheduledDayItemsLoading:(e,t)=>{e.scheduledDayItemsLoading=t},setScheduledItemsCounterLoading:(e,t)=>{e.scheduledItemsCounterLoading=t},updateScheduledEvent:(e,t)=>{e.items=e.items.map((e=>e.entity.id===t.id?{...e,entity:t}:e))},updateDayItemScheduledEvent:(e,t)=>{e.dayItems=e.dayItems.map((e=>e.entity.id===t.id?{...e,entity:t}:e))},setHasMoreDayDetailedEvents:(e,t)=>{e.hasMoreDayDetailedEvents=t},postPublished:(e,t)=>{e.items=e.items.filter((({type:e,entity:s})=>"post"!==e||s.id!==t)),e.dayItems=e.dayItems.filter((({type:e,entity:s})=>"post"!==e||s.id!==t))},messagePublished:(e,t)=>{e.items=e.items.filter((({type:e,entity:s})=>"chat"!==e||s.id!==t)),e.dayItems=e.dayItems.filter((({type:e,entity:s})=>"chat"!==e||s.id!==t))},setLinkedPostsMap:(e,t)=>{e.linkedPostsMap={...e.linkedPostsMap,...t}},setReminders:(e,t=[])=>{e.reminders=t},updateReminder:(e,{id:t,fields:s={}})=>{e.reminders=e.reminders.map((e=>e.id===t?{...e,...s}:e))},removeFromReminder:(e,t)=>{e.reminders=e.reminders.filter((e=>e.id!==t))},setRemindersLoading:(e,t)=>{e.remindersLoading=t},addPostLabel(e,{postId:t,label:s}){if("custom"===s.type){const r=e.dayItems.find((e=>e.entity.id===t));r.entity.labelStates.push(s)}},deletePostLabel(e,{postId:t,labelId:s}){const r=e.dayItems.find((e=>e.entity.id===t));r.entity.labelStates=r.entity.labelStates.filter((e=>e.id!==s))},setDefaultState(e){Object.assign(e,g())},logout(e){Object.assign(e,g())}},v={async fetchEventsCounters({commit:e},{params:t}={}){let s;const{cancelToken:r}=(0,f.Yz)("fetchEventsCounters");e("setScheduledItemsCounterLoading",!0);const n=Object.assign({},t,{"filter[timeZone]":y.userTimeZone});try{if(s=await(0,i.HC)({params:n,cancelToken:r}),s){const t=(0,m.EC)(s);e("setCalendarItems",t);const r=(0,m.Gl)(s);e("setItemsCountByDate",r)}}catch(a){}finally{e("setScheduledItemsCounterLoading",!1)}return s},async fetchEventsDetailed({commit:e},{params:t}={}){let s;e("setScheduledItemsLoading",!0);const{cancelToken:r}=(0,f.Yz)("fetchEventsDetailed"),n=Object.assign({},t,{"filter[timeZone]":y.userTimeZone});try{s=await(0,i.o6)({params:n,cancelToken:r});const{list:t}=s;t&&t.length&&(e("setItems",t),e("setItemsByDate"))}finally{e("setScheduledItemsLoading",!1)}return s},async fetchDayEventsDetailed({commit:e},{params:t}={}){let s;e("setScheduledDayItemsLoading",!0);const{cancelToken:r}=(0,f.Yz)("fetchDayEventsDetailed"),n=Object.assign({},t,{"filter[timeZone]":y.userTimeZone});try{s=await(0,i.o6)({params:n,cancelToken:r});const{list:t}=s;t&&t.length&&(e("setDayItems",t),e("setHasMoreDayDetailedEvents",s.hasMore),await(0,m.Bw)({commit:e,list:t,commitName:"schedule/setLinkedPostsMap"}))}catch(a){}finally{e("setScheduledDayItemsLoading",!1)}return s},async fetchReminders({commit:e}){e("setRemindersLoading",!0);try{const t=await(0,i.vw)({limit:4,"filter[timeZone]":d().tz.guess()});if(t&&t.list)return e("setReminders",t.list),e("setRemindersLoading",!1),t}catch(t){t.__CANCEL__||e("setRemindersLoading",!1)}},publishScheduleEventRightNow({commit:e},t){return(0,m.$7)({commit:e,id:t})},async updatePost({commit:e,state:t},s){const r=t.items.some((({entity:e})=>e.id===s)),n=t.dayItems.some((({entity:e})=>e.id===s));if(!r&&!n)return;let a;try{a=await(0,o.u_)(s)}catch{}a&&"object"===typeof a||(0,h.oj)({error:new Error("typeof response is incorrect"),extra:{post:a}}),r&&(e("updateScheduledEvent",a),e("setItemsByDate")),n&&e("updateDayItemScheduledEvent",a)},async pinSchedulePost({commit:e},t){let s;try{s=await(0,o.wy)(t)}catch{}if(s&&s.success){const s=y.items.find((e=>e.entity.id===t));if(s){const t=!s.entity.isPinned,r={...s.entity,isPinned:t};e("updateScheduledEvent",r),e("setItemsByDate")}const r=y.dayItems.find((e=>e.entity.id===t));if(r){const t=!r.entity.isPinned,s={...r.entity,isPinned:t};e("updateDayItemScheduledEvent",s)}}},async fetchClosestScheduledStream(){let e;try{e=await(0,i.F4)()}catch{}if(e&&e.list&&e.list.length){const t=n()(e,"list[0].entity");if(!t)return;const s=d()(t.scheduledAt).diff(d()(),"minute",!0);if(s<0||s>30)return;const r=a.ZP.$createElement,i=`ScheduledStreamNotificationToast_${t.id}`;a.ZP.$bvToast.hide(i);const o=await p(),c=r(o.default,{props:{toast:t}});a.ZP.$bvToast.toast([c],{id:i,noAutoHide:!0,appendToast:!0,toaster:"b-toaster-bottom-left",toastClass:"m-without-timer"})}}}},355208:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return m},getters:function(){return u},mutations:function(){return l},state:function(){return d}});var r=s(227361),n=s.n(r),a=s(410697),i=s(243168),o=s(782677);const c=()=>({itemIds:[],loading:!1,hasMore:!1}),d=c(),u={scheduledMessages:(e,t,s,r)=>e.itemIds.map((e=>r["chats/getMessage"](e))),hasMore:e=>e.hasMore,isScheduledLoading:e=>e.loading,hasScheduledMessages:e=>!!e.itemIds.length},l={setLoading(e,t){e.loading=t},setScheduledMessages(e,{items:t=[],more:s=!1}={}){e.itemIds=s?[...e.itemIds,...t]:t},setHasMore(e,t){e.hasMore=t},deleteScheduledMessages(e,t){e.itemIds=e.itemIds.filter((e=>e!==t))},logout(e){Object.assign(e,c())}},m={async fetchScheduledMessages({commit:e,dispatch:t,rootGetters:s},{offset:r=0,more:c=!1}={}){e("setLoading",!0),c||(e("setScheduledMessages"),e("setHasMore",!1));try{const d=s["users/needSkipUsersOnShort"]?"all":void 0,u=await(0,a.P$)({offset:r,skipUsers:d});if(e("setLoading",!1),n()(u,"list",[]).length){const s=(0,o.Fv)(u.list,i.VR);d&&await t("users/getUsersIfNeeded",s,{root:!0}),e("set",s,{root:!0}),e("setScheduledMessages",{items:s.result,more:c})}return e("setHasMore",u.hasMore),u}catch(d){}return e("setLoading",!1),e("setHasMore",!1),[]}}},363345:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return P},getters:function(){return y},mutations:function(){return S},state:function(){return g}});var r=s(682492),n=s.n(r),a=s(782677),i=s(617875),o=s(8056),c=s(999023),d=s(975701);const u=()=>{const e=`${d.tW}/emails/resend`;return d.ZP.post(e).then((e=>e.data))};var l=s(483190),m=s(243168),h=s(172462),f=s(914786);const p=()=>({activityHubAllowed:"",activityHubTokens:[],appOtp:!1,autoMessage:[],countries:[],countriesLoading:!1,darkMode:!!f.Z.getItem("dark_mode"),isDeleteInitiated:null,lastSubscriptionExpiredAt:null,spotifyArtistsItems:{},spotifyBio:{displayName:"",anthem:null,topArtists:[]},spotifyTop:{myTopArtists:[],myTopTracks:[]},isOpenseaConnected:void 0,openSea:{assets:[],isLoading:!1,hasMore:!1},spotifyTracksItems:{},states:{},streamingObsKey:"",streamingMuxServer:"",streamingMuxKey:"",streamingMuxKeyExpiredAt:null,paymentsLoaded:!1,unavailablePaymentGates:[],changelogUpdates:0,hideAfterMassMessages:!1,showFullTextInEmailNotify:!1,isEmailNotificationsEnabled:!1,recommenderReward:null,isAutoFollowBack:!1,isPrivate:void 0,blockedCountries:void 0,blockedStates:void 0,blockedIps:void 0,showPostsTips:void 0,showFriendsToSubscribers:void 0,disableSubscribesOffers:void 0,showSubscribesOffers:void 0,isOldLoginRedirect:void 0,canAcceptMessageOnlyFromFriends:!1,runningActions:[],existedUsernames:{},confirmEmailSentAt:null,sendAwardsTop1:!1,sendAwardsTop5:!1,coStreamingRequestFrom:void 0,isCoStreamingAllowed:!1,socialsConnects:[],phoneOtp:!1,faceOtp:!1,isLoading:!1,messageSettingsNotifications:null,notifyOnAllMentions:!1,commentsOnlyForPayers:!1}),g=p(),y={allSettings:e=>e,userLoginPrefix:(e,t,s)=>s.init.settings.userLoginPrefix,isImageWatermarkNeeded:(e,t,s)=>s.init.settings.isImageWatermarkNeeded,countriesList:e=>e.countries,activityHubAllowed:e=>e.activityHubAllowed,activityHubTokens:e=>e.activityHubTokens,statesByCounty:e=>t=>e.states[t],spotifyTop:e=>e.spotifyTop,spotifyTopArtistsIds:e=>e.spotifyTop.myTopArtists,spotifyTopArtists:e=>e.spotifyTop.myTopArtists.map((t=>e.spotifyArtistsItems[t])),spotifyTopTracks:e=>e.spotifyTop.myTopTracks.map((t=>e.spotifyTracksItems[t])),spotifyBio:e=>e.spotifyBio,spotifyBioTopArtistsIds:e=>e.spotifyBio.topArtists||[],spotifyBioTopArtists:e=>e.spotifyBio.topArtists?e.spotifyBio.topArtists.map((t=>e.spotifyArtistsItems[t])):[],spotifyBioAnthem:e=>e.spotifyBio.anthem,getAutoMessage:e=>e.autoMessage.filter((e=>"reply_on_subscribe"===e.template))[0],getHideAfterMassMessages:e=>e.hideAfterMassMessages,getShowFullTextInEmailNotify:e=>e.showFullTextInEmailNotify,getCanAcceptMessageOnlyFromFriends:e=>e.canAcceptMessageOnlyFromFriends,hasRunningActions:e=>t=>e.runningActions.includes(t),existedUsernames:e=>e.existedUsernames,isLoading:e=>e.isLoading,isNewTipsSettingEnabled:({messageSettingsNotifications:e})=>{if(!e)return null;const t=e.find((({code:e})=>"you_and_your_posts"===e));if(!t)return null;const s=t.items.find((({code:e})=>"new_tips"===e));return s?s.isEnabled:null}},S={switchTheme(e){e.darkMode=!e.darkMode,document.documentElement.classList.toggle("m-mode-dark",e.darkMode),e.darkMode?f.Z.setItem("dark_mode",e.darkMode):f.Z.removeItem("dark_mode")},setCountries(e,t){e.countries=t.map((e=>({...e,hasStatesIso:!0})))},setCountry(e,t){const s=e.countries.findIndex((e=>e.code===t.code));s>-1&&(e.countries[s]=t)},setCountriesLoading(e,t){e.countriesLoading=t},setConfirmEmail(e,t){e.confirmEmailSentAt=t},setStates(e,t){e.states=n()({},e.states,t)},setSettings(e,t){Object.assign(e,t)},setHubToken(e,t){Object.assign(e.activityHubTokens,t)},addHubToken(e,t){e.activityHubTokens.push(t)},deleteHubToken(e,t){e.activityHubTokens=e.activityHubTokens.filter((e=>e.id!==t))},deleteAutoMessage(e,t){e.autoMessage=e.autoMessage.filter((e=>e.template!==t))},setSpotifyTop(e,t){Object.assign(e.spotifyTop,t)},setSpotifyTopArtists(e,t){e.spotifyTop.myTopArtists=t},setSpotifyTopTracks(e,t){e.spotifyTop.myTopTracks=t},setSpotifyBioAnthem(e,t){e.spotifyBio.anthem=t},setSpotifyBioName(e,t){e.spotifyBio.displayName=t},setSpotifyBioTopArtists(e,t){e.spotifyBio.topArtists=t},resetSpotifyBio(){g.spotifyBio={displayName:"",anthem:null,topArtists:[]}},setPaymentsLoaded(e,t){e.paymentsLoaded=t},setUnavailablePaymentGates(e,t){e.unavailablePaymentGates=(t||[]).filter((({status:e})=>"fail"===e)).map((e=>e.name))},setAutoMessage(e,t){e.autoMessage.length?(e.autoMessage.splice(0,1),e.autoMessage.push(t)):e.autoMessage.push(t)},setAutoMessages(e,t){e.autoMessage=t},addChangelogUpdates(e){e.changelogUpdates+=1},setChangelogUpdates(e,t){e.changelogUpdates=t},addRunningActions(e,t){e.runningActions.push(t)},removeRunningActions(e,t){e.runningActions=e.runningActions.filter((e=>e!==t))},setNewEmail(e,t){e.newEmail=t},setSettingField(e,{field:t,status:s}){e[t]=s},setExistedUsernames(e,t={}){e.existedUsernames=t},deleteGoogle(e){e.socialsConnects=e.socialsConnects.filter((e=>"google"!==e.provider))},setIsLoading(e,t){e.isLoading=t},logout(e){Object.assign(e,p())},addOpenSeaAssets(e,t){e.openSea.assets=[...e.openSea.assets,...t.assets],e.openSea.hasMore=t.hasMore},setOpenSeaIsLoading(e,t){e.openSea.isLoading=t},clearOpenSeaAssets(e){e.openSea.assets=[],e.openSea.hasMore=!1},setMessageSettingsNotifications(e,t){e.messageSettingsNotifications=t}},P={async fetchCountries({commit:e,state:t}){try{if(!t.countries.length&&!t.countriesLoading){e("setCountriesLoading",!0);const t=await(0,i.ox)();e("setCountries",t),e("setCountriesLoading",!1)}}catch(s){}},async createConfirmEmail({commit:e}){try{const t=await u();return t&&t.success&&e("setConfirmEmail",t.confirmEmailSentAt),t}catch(t){return(0,h.Po)(t),{}}},async fetchCountriesStates({commit:e},t){try{const s=await(0,i.Yx)(t),r={[t]:s};e("setStates",r)}catch(s){}},async fetchCountriesStatesIso({commit:e},t){try{const s=await(0,i.G)(t.code);if(s&&s.length){const r={[t.id]:s};e("setStates",r),e("setCountry",{...t,hasStatesIso:!1})}else e("setCountry",{...t,hasStatesIso:!1})}catch(s){}},async createHubToken({commit:e}){try{const t=await(0,i.Ei)();e("addHubToken",t)}catch(t){(0,h.Po)(t)}},async fetchUserSettings({commit:e,getters:t}){if(!t.hasRunningActions("fetchUserSettings")){e("addRunningActions","fetchUserSettings");try{const t=await(0,c.nS)();e("setSettings",t)}catch(s){}e("removeRunningActions","fetchUserSettings")}},async deleteHubTokenAction({commit:e},t){let s;try{s=await(0,i.F2)(t),s&&s.success&&e("deleteHubToken",t)}catch(r){}return s},async fetchSpotifyTop({commit:e}){try{const t=await(0,l.q6)();if(t){if(t.myTopArtists){const s=(0,a.Fv)(t.myTopArtists,m.W4);e("set",s,{root:!0}),e("setSpotifyTopArtists",s.result)}if(t.myTopTracks){const s=(0,a.Fv)(t.myTopTracks,m.zA);e("set",s,{root:!0}),e("setSpotifyTopTracks",s.result)}}}catch(t){}},async fetchSpotifyTopArtists({commit:e}){try{const t=await(0,l.$d)(),s=(0,a.Fv)(t,m.W4);e("set",s,{root:!0}),e("setSpotifyTopArtists",s.result)}catch(t){}},async fetchSpotifyTopTracks({commit:e}){try{const t=await(0,l.Zo)(),s=(0,a.Fv)(t,m.zA);e("set",s,{root:!0}),e("setSpotifyTopTracks",s.result)}catch(t){}},async fetchSpotifyBio({commit:e},t){try{const s=await(0,l.U1)(t);if(s.topArtists){const t=(0,a.Fv)(s.topArtists,m.W4);e("set",t,{root:!0}),e("setSpotifyBioTopArtists",t.result)}else e("setSpotifyBioTopArtists",null);e("setSpotifyBioAnthem",s.anthem),e("setSpotifyBioName",s.displayName)}catch(s){}},async fetchSpotifySearch({commit:e},t){if(t)try{const s=await(0,l.MO)(t),r=(0,a.Fv)(s,m.zA);e("set",r,{root:!0}),e("setSpotifyTopTracks",r.result)}catch(s){}},async sendSpotifyArtists({commit:e},t){let s;try{s=await(0,l.tf)(t),s&&s.success&&e("setSpotifyBioTopArtists",t)}catch(r){(0,h.Po)(r)}return s&&s.success},async sendSpotifyAnthem(e,t){try{const e=await(0,l.JT)(t);return e&&e.success}catch(s){(0,h.Po)(s)}return!1},async saveAutoMessage({commit:e},t){let s;try{s=await(0,i._p)(t)}catch(r){(0,h.Po)(r)}s&&e("setAutoMessage",s)},async fetchAutoMessageTemplate({commit:e}){let t;return t=await(0,i.Zt)(),e("setAutoMessages",t),t},async deleteAutoMessageTemplate({commit:e},t){let s;try{s=await(0,i.vY)(t),s&&s.success&&e("deleteAutoMessage",t)}catch(r){}return s},async updateUserSettingsMessages({commit:e},t){const s=await(0,i.Hz)(t);return s&&e("setSettings",s),s},async disableGoogle({commit:e}){try{const t=await(0,c.z6)({network:"google"});t.success&&e("deleteGoogle")}catch(t){(0,h.Po)(t)}},async addOpenSeaWallet({dispatch:e},t){try{const{success:s}=await(0,o.$z)(t);s&&await e("fetchUserSettings")}catch(s){(0,h.Po)(s)}},async deleteOpenSeaWallet({commit:e,dispatch:t}){try{const{success:s}=await(0,o.m_)();s&&(e("clearOpenSeaAssets"),t("auth/fetchUserMe",null,{root:!0}),t("fetchUserSettings"))}catch(s){(0,h.Po)(s)}},async fetchOpenSeaAssets({commit:e,state:t},s=!1){try{e("setOpenSeaIsLoading",!0);const r=s?await(0,o.bm)({offset:t.openSea.assets.length,limit:9}):await(0,o.GK)({offset:t.openSea.assets.length,limit:9});e("addOpenSeaAssets",r)}catch(r){(0,h.Po)(r)}finally{e("setOpenSeaIsLoading",!1)}},async setOpenSeaAvatar({dispatch:e},t){try{const{success:s}=await e("users/patchUser",{avatar:{opensea:t}},{root:!0});if(s)return e("auth/fetchUserMe",null,{root:!0}),!0}catch(s){return(0,h.Po)(s),!1}},async setOpenSeaNfts({commit:e,dispatch:t,rootGetters:s},r){try{const n=await(0,o.Pt)({ids:r});if(n.success){const r=s["auth/authUser"];return e("users/setHasNft",{userId:r.id,hasNft:n.hasNft},{root:!0}),e("clearOpenSeaAssets"),await t("fetchOpenSeaAssets",!0),!0}}catch(n){return(0,h.Po)(n),!1}},async resetObsKey({commit:e}){try{const t=await(0,i.ar)();t.streamingObsKey&&e("setSettings",t)}catch(t){(0,h.Po)(t)}},async generateStreamingToken({commit:e},t){try{const s=await(0,i.ar)(t);e("setSettings",s)}catch(s){(0,h.Po)(s)}},async fetchMessageSettingsNotifications({commit:e}){try{const t=await(0,i.Xg)("message");e("setMessageSettingsNotifications",t)}catch(t){}}}},556208:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return l},getters:function(){return d},mutations:function(){return u},state:function(){return c}});var r=s(975701);const n=({userId:e})=>r.ZP.get(`${r.tW}/users/${e}/shopify/stores`).then((({data:e})=>e)),a=e=>r.ZP["delete"](`${r.tW}/shopify/stores/${e}`).then((e=>e.data)),i=e=>r.ZP.get(`${r.tW}/users/${e}/shopify/products`).then((e=>e.data)),o=()=>({loading:!1,stores:[],shopifyProducts:[]}),c=o(),d={shopifyStores(e){return e.stores},isShopifyStoresLoading(e){return e.loading}},u={setShopifyStores(e,t=[]){e.stores=t},setLoading(e,t){e.loading=t},addShopifyStore(e,t){e.stores.push(t)},removeShopifyStore(e,t){e.stores=e.stores.filter((e=>e.id!==t))},setShopifyProducts(e,t=[]){e.shopifyProducts=t},logout(e){Object.assign(e,o())}},l={fetchShopifyStores:async({commit:e,rootState:t},{userId:s}={})=>{e("setLoading",!0),e("setShopifyStores");try{s=s||t.auth.user;const r=await n({userId:s});r&&Array.isArray(r)&&r.length&&e("setShopifyStores",r)}catch(r){}e("setLoading",!1)},deleteShopifyStore:async({commit:e},t)=>{let s;try{s=await a(t)}catch(r){}s&&e("removeShopifyStore",t)},async fetchShopifyProducts({commit:e,rootState:t},s){e("setShopifyProducts");try{s=s||t.auth.user;const r=await i(s);Array.isArray(r)&&r.length&&e("setShopifyProducts",r)}catch(r){Sentry.captureException(r)}}}},325928:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return b},getters:function(){return P},mutations:function(){return w},state:function(){return S}});var r=s(845220),n=s.n(r),a=s(227361),i=s.n(a),o=s(727484),c=s.n(o),d=s(782677),u=s(114494),l=s(999023),m=s(243168),h=s(427166),f=s(310569);const p=()=>Promise.all([s.e(5768),s.e(6204),s.e(2681)]).then(s.bind(s,181159)),g=()=>s.e(1972).then(s.bind(s,661972)),y=()=>({isOpened:!1,isConnected:!1,reconnectError:!1,countOnlineRequests:0,toastsThrottle:0}),S=y(),P={socketOpened:e=>e.isOpened,socketConnected:e=>e.isConnected,countOnlineRequests:e=>e.countOnlineRequests};let v;const w={SOCKET_ONOPEN(e){e.isOpened=!0},SOCKET_ONCLOSE(e){e.isOpened=!1,e.isConnected=!1},SOCKET_ONERROR(){},SOCKET_RECONNECT(){},SOCKET_RECONNECT_ERROR(e){e.reconnectError=!0},incCountOnlineRequests(e){e.countOnlineRequests+=1},decrCountOnlineRequests(e){e.countOnlineRequests-=1},socketSetConnected(e){e.countOnlineRequests=0,e.isConnected=!0},setToastsThrottle(e,t){e.toastsThrottle=t},logout(e){Object.assign(e,y())}},b={async SOCKET_ONMESSAGE({commit:e,dispatch:t,rootState:s,rootGetters:r,state:a},o){if(o&&o.data){const{data:S}=o,P=u.ZP.$route.name;let w;try{w=JSON.parse(S)}catch(y){Sentry.captureException(y)}const b=document.activeElement&&document.activeElement.tagName&&("INPUT"===document.activeElement.tagName&&"text"===document.activeElement.type||"TEXTAREA"===document.activeElement.tagName);if(w){if("undefined"!==typeof w.error&&7===w.error)return t("auth/fetchUserAuthToken",{},{root:!0}),void u.ZP.$socket.close();"function"===typeof doPong&&doPong(w);const o=r["auth/authUserId"];if("undefined"!==typeof w.connected&&w.connected&&e("socketSetConnected"),"undefined"!==typeof w.online&&(e("users/setOnline",w.online,{root:!0}),e("decrCountOnlineRequests")),w.account_connect&&t("users/addConnectedAccount",{userData:{connectedUser:w.account_connect.user,canConnectOfAccount:w.account_connect.canConnect}},{root:!0}),w.account_disconnect&&e("users/removeConnectedAccount",{userId:o,accountId:w.account_disconnect.userId,userData:{canConnectOfAccount:w.account_disconnect.canConnect,success:!0}},{root:!0}),w.account_switch)try{const e=await(0,l.MD)(),{id:t}=e;null!==t&&t===w.account_switch.user_id||(window.showPreloader(),u.ZP.$emit("removeAllBeforeUnloadListeners"),u.ZP.$nextTick((()=>{window.location.reload()})))}catch(y){}if(w.api2_chat_message){const r=w.api2_chat_message,a=+r.id,c={...r,id:a},l=c.fromUser||c.toUser;l&&(c.chatId=l.id),l.id=+l.id;const h=!!c.toUser;delete c.toUser,c.fromUser||(c.fromUser={id:o}),"Chat"===P&&+i()(u.ZP,"$route.params.chatId",0)===+l.id&&(c.needMarkChatAsRead=!0);const f=(0,d.Fv)(c,m.w1);e("set",f,{root:!0}),await t("users/getUsersIfNeeded",{entities:{users:{[l.id]:{_views:["m"]}}}},{root:!0});const p=f.result,{currentFiltersIds:g}=s.usersLists,y=i()(l,"listsStates",!1),S=!y||y.some((e=>g[0]===e.id&&e.hasUser)),v=!(!r.isTip&&g.includes("who_tipped"))||!(r.isFromQueue&&g.includes("priority"));!s.chats.chats.includes(l.id)&&v&&S&&e("chats/addChats",{ids:[l.id]},{root:!0}),(!c.isFromQueue||c.isFromQueue&&"Chat"===P&&+i()(u.ZP,"$route.params.chatId",0)===+c.fromUser.id)&&t("chats/newMessageFromSocket",{id:l.id,messageIds:p,add:!0,before:!1,ownMsg:h,isSocket:!0,listsStates:l.listsStates||[]},{root:!0}),e("chats/setChatTyping",{chatId:l.id,status:!1},{root:!0}),e("chats/setLastMessage",{chatId:l.id,messageId:p,ownMsg:h,isNew:c.isNew},{root:!0});const b=i()(r,"fromUser.id",null);!r.isFromQueue||n()(b)||n()(o)||b!==o||u.ZP.$root.$emit("updateScheduledMessage",r),e("chats/setNewMessageIds",l.id,{root:!0});const I=s.schedule.items.find((({entity:e})=>e.id===a)),k=s.schedule.dayItems.find((({entity:e})=>e.id===a)),C=(I&&!I.entity.isMediaReady||k&&!k.entity.isMediaReady)&&r.isMediaReady;"MyQueue"!==P&&"Feed"!==P||!C||(e("schedule/updateScheduledEvent",r,{root:!0}),e("schedule/setItemsByDate",{},{root:!0}),e("schedule/updateDayItemScheduledEvent",r,{root:!0}))}if(w.chat_queue_finish){const s=+w.chat_queue_finish.id;w.chat_queue_finish.isCanceled?t("chats/delMessagesQueue",{id:s},{root:!0}):w.chat_queue_finish.isDone&&t("chats/fetchMessagesQueue",{},{root:!0}),t("schedule/fetchEventsCounters",{params:{"filter[publishDate]":c()().format("YYYY-MM-DD")}},{root:!0}),e("schedule/messagePublished",s,{root:!0}),e("schedule/setItemsByDate",{},{root:!0}),u.ZP.$root.$emit("updateChatsList")}if("undefined"!==typeof w.chat_messages&&e("users/setChatMessagesCount",{userId:s.auth.user,chatMessagesCount:w.chat_messages},{root:!0}),"undefined"!==typeof w.count_priority_chat&&e("users/setChatPriorityCount",{userId:s.auth.user,countPriorityChat:w.count_priority_chat},{root:!0}),void 0!==w.unread_tips&&e("users/setUnreadTips",{userId:s.auth.user,value:w.unread_tips},{root:!0}),w.chat_queue_update&&u.ZP.$root.$emit("update_queue"),"undefined"!==typeof w.chat_message_delete){const s=r["chats/getMessage"](w.chat_message_delete),n=s&&s.chatId,a=!!s&&s.isPinned;if(e("chats/deleteMessageById",w.chat_message_delete,{root:!0}),n&&a){e("chats/setChatMessagesPinnedCount",{chatId:n,value:!1},{root:!0});const s=r["chats/getChat"](n);s&&0===s.countPinnedMessages&&t("users/updateChatPinnedCount",{status:-1},{root:!0})}}if(void 0!==w.chat_message_like&&e("chats/setMessageIsLiked",{messageId:w.chat_message_like,value:!0},{root:!0}),void 0!==w.chat_message_unlike&&e("chats/setMessageIsLiked",{messageId:w.chat_message_unlike,value:!1},{root:!0}),"undefined"!==typeof w.addShopifyStore&&e("shopify/addShopifyStore",w.addShopifyStore,{root:!0}),"undefined"!==typeof w.dropShopifyStore&&e("shopify/removeShopifyStore",w.dropShopifyStore.id,{root:!0}),void 0!==w.messages&&e("users/setUserNotificationsCount",{userId:s.auth.user,notificationsCount:w.messages,hasSystemNotifications:w.hasSystemNotifications},{root:!0}),w.new_message&&(s.users.notificationsType&&(e("users/setNotifications",{notifications:[w.new_message],more:!1,unread:!0},{root:!0}),e("users/setNotificationsCountsByType",w.new_message.type,{root:!0})),s.users.notificationsType!==w.new_message.type&&s.users.notificationsType!==f.C6||(e("users/setUserNotificationsCount",{userId:s.auth.user,notificationsCount:s.users.notificationsCounts.all},{root:!0}),t("users/setNotificationsReadByType",s.users.notificationsType,{root:!0}))),"undefined"!==typeof w.typing&&(v&&clearInterval(v),e("chats/setChatTyping",{chatId:w.typing.id,status:!0},{root:!0}),v=setTimeout((()=>{e("chats/setChatTyping",{chatId:w.typing.id,status:!1},{root:!0})}),5e3)),"undefined"!==typeof w.stream){const{stream:t}=w,s=+t.id;return void("Feed"===P&&e("schedule/updateReminder",{id:s,fields:{price:t.price,description:t.description,scheduledAt:t.scheduledAt,startedAt:t.startedAt}},{root:!0}))}if(void 0!==w.stream_remove){const{stream_remove:t}=w,s=+t.id;return e("schedule/removeFromReminder",s,{root:!0}),void e("streams/removeItem",s,{root:!0})}if(void 0!==w.stream_start){const n=w.stream_start,a=+n.userId,i=+n.stream_id;if(("Profile"===P||"ProfileInner"===P)&&r["users/userId"]===a||"Feed"===P||"Purchased"===P||"Blurred"===P||"StreamingChat"===P&&a===o){if(await t("streams/fetchUserStream",a,{root:!0}),e("streamsScheduled/removeIds",[i],{root:!0}),"StreamingChat"===P){const{local:e,streamingChatEnabled:n}=s.streaming;if(!e.stream.id&&!n){const e=r["streams/streamsByUserId"],s=e[a];s&&s.isActive&&(s.user=r["users/getUser"](s.user),await t("streaming/enableStreamingChat",s,{root:!0}))}}"Feed"===P&&e("schedule/updateReminder",{id:i,fields:{isActive:!0}},{root:!0})}return}if(void 0!==w.stream_update){const{stream_update:r}=w,n=s.live.streams;"Feed"===P&&e("schedule/updateReminder",{id:r.id,fields:{price:r.price,description:r.description,scheduledAt:r.scheduledAt,startedAt:r.startedAt}},{root:!0}),e("streams/updateItem",r,{root:!0}),"Live"===P&&n[r.user.id]&&(+r.primaryPartnerUserId===+r.user.id?t("live/setStreamData",r,{root:!0}):t("live/setUserStreamData",r,{root:!0}));const{local:a,partners:i}=s.streaming;if(+r.id===+a.stream.id)t("streaming/setStreamData",r,{root:!0});else if(i[r.user.id]){const e=+r.primaryPartnerUserId===+r.user.id?"primary":"partner";t("streaming/setPartnerUserStreamData",{instance:r.user.id,streamData:r,partnerType:e,applyTips:!0},{root:!0})}return}if("undefined"!==typeof w.stream_stop){const r=w.stream_stop,n=+r.stream_user_id,a=+r.stream_id;t("streams/removeStreamFromFeed",{userId:n},{root:!0}),e("users/setUserField",{userId:n,field:"hasStream",status:!1},{root:!0});const i=s.live.streams;i[n]&&"beforeStart"===i[n].streamState&&e("live/setStreamState",{value:"stopped",instance:n},{root:!0});const{streamingChatEnabled:c}=s.streaming;c&&n===o&&t("streaming/disableStreamingChat",{},{root:!0}),n===o&&a&&u.ZP.$bvToast.hide(`ScheduledStreamNotificationToast_${a}`);const d=s.schedule.reminders.find((e=>e.id===a));return void(d&&t("schedule/fetchReminders",{},{root:!0}))}if("undefined"!==typeof w.stream_comment){const e=w.stream_comment,{local:n}=s.streaming,a=r["live/primary"],i=r["streaming/primary"],o=s.streaming.mode||s.live.mode,c={id:e.comment_id,text:e.comment,user:e.user,isPrivate:!!e.isPrivate};switch(o){case"live":case"dual-live":+e.stream_user_id===+a.user.id&&t("live/addComment",c,{root:!0});break;case"streaming":case"dual-streaming":n.stream.id&&+e.stream_user_id===+i.user.id&&t("streaming/addComment",c,{root:!0});break;default:break}return}if("undefined"!==typeof w.stream_comment_error){const e=w.stream_comment_error;switch(e.errorType){case"bad_words":u.ZP.$bvToast.toast(u.ZP.$root.$t("message.stream_comment_error_restricted_message",{WORDS:e.badWords.join(", ")}),{autoHideDelay:5e3,appendToast:!0,toaster:"b-toaster-bottom-right"});break;case"empty_comment":u.ZP.$bvToast.toast(u.ZP.$root.$t("message.stream_comment_error_empty_message"),{autoHideDelay:5e3,appendToast:!0,toaster:"b-toaster-bottom-right"});break;default:break}return}if("undefined"!==typeof w.stream_tips){const n=w,{stream_tips:a}=n;if(a.stream_user_id=+a.stream_user_id,a.stream_id=+a.stream_id,!["Streaming","Live","StreamingChat"].includes(P))return;if(!a.amount)return;const{local:i}=s.streaming,c=s.streaming.mode||s.live.mode;let d;switch(c){case"live":case"dual-live":({streams:d}=s.live),d[a.stream_user_id]&&(e("live/setStreamStream",{stream:{tipsSumm:+parseFloat(n.tips_summ).toFixed(2)},instance:a.stream_user_id},{root:!0}),t("live/addTipsComment",a,{root:!0}),+n.is_show_tips_goal&&t("live/setTipGoal",{data:{isShowTipGoal:!!+n.is_show_tips_goal,description:n.tips_goal,progress:+n.tips_goal_progress,sum:+n.tips_goal_sum},instance:a.stream_user_id},{root:!0}));break;case"streaming":+i.stream.id===+a.stream_id&&+i.user.id===+o&&(t("streaming/addTips",a,{root:!0}),+i.stream.id===+a.stream_id&&e("streaming/setLocalStream",{tipsSumm:+parseFloat(n.tips_summ).toFixed(2)},{root:!0}),e("streaming/setTipGoal",{sum:+n.tips_goal_sum,progress:+n.tips_goal_progress,description:n.tips_goal},{root:!0}));break;case"dual-streaming":d=r["streaming/streams"],d[a.stream_user_id]&&(t("streaming/addTips",a,{root:!0}),+i.stream.id===+a.stream_id?(e("streaming/setLocalStream",{tipsSumm:+parseFloat(n.tips_summ).toFixed(2)},{root:!0}),e("streaming/setTipGoal",{sum:+n.tips_goal_sum,progress:+n.tips_goal_progress,description:n.tips_goal},{root:!0})):(e("streaming/setPartnerStream",{stream:{tipsSumm:+parseFloat(+n.tips_summ||+n.tips_goal_progress).toFixed(2)},instance:a.stream_user_id},{root:!0}),+n.tips_goal_sum>0&&e("streaming/setPartnerTipGoal",{data:{isShowTipGoal:!!+n.is_show_tips_goal,sum:+n.tips_goal_sum,progress:+n.tips_goal_progress,description:n.tips_goal},instance:a.stream_user_id},{root:!0})));break;default:break}return}if("undefined"!==typeof w.stream_look){const{stream_look:n}=w,a=s.streaming.mode||s.live.mode,i=r["live/primary"],{local:o}=s.streaming;switch(a){case"live":case"dual-live":if(!i||+i.user.id!==+n.stream_user_id)return;e("live/setTotalViewers",n.total,{root:!0}),t("live/joinUser",n.user,{root:!0});break;case"streaming":case"dual-streaming":if(+n.stream_user_id!==+o.user.id)return;+n.user.id!==+o.user.id&&(e("streaming/setViewersCount",n.total,{root:!0}),t("streaming/joinUser",n.user,{root:!0}));break;default:break}return}if("undefined"!==typeof w.stream_unlook){const{stream_unlook:n}=w,a=s.streaming.mode||s.live.mode,i=r["live/primary"],{local:o}=s.streaming;switch(a){case"live":case"dual-live":if(!i||+i.user.id!==+n.stream_user_id)return;t("live/leaveUser",n.user,{root:!0}),+i.user.id===+n.stream_user_id&&e("live/setTotalViewers",n.total,{root:!0});break;case"streaming":case"dual-streaming":if(+n.stream_user_id!==+o.user.id)return;+n.user.id!==+o.user.id&&(e("streaming/setViewersCount",n.total,{root:!0}),t("streaming/leaveUser",n.user,{root:!0}));break;default:break}return}if("undefined"!==typeof w.stream_like){const{stream_like:e}=w,{local:n}=s.streaming,a=r["live/primary"];n.stream.id&&t("streaming/addLike",{x:e.x,y:e.y,streamUserId:+e.stream_user_id},{root:!0}),a&&t("live/addLike",{x:e.x,y:e.y,streamUserId:+e.stream_user_id},{root:!0})}if("undefined"!==typeof w.stream_helper){const{streamId:t,helperUserIds:n}=w.stream_helper,{local:a}=s.streaming,i=r["streaming/partnersArray"],{streams:o}=s.live;(a.stream.id==t||i.some((e=>e.stream.id==t)))&&e("streaming/updateStreamHelpers",n,{root:!0}),Object.values(o).some((e=>e.stream.id==t))&&e("live/updateStreamHelpers",n,{root:!0})}if("undefined"!==typeof w.co_stream){const{co_stream:e}=w;if("request"===e.status){const{local:t,viewers:r,users:n}=s.streaming,a=r.ids.find((t=>t===+e.userId));n[a]&&+e.streamId==t.stream.id&&u.ZP.$root.$emit("show:co-stream:request",{user:n[a],streamId:t.stream.id})}if("accept"===e.status){const s=r["live/primary"];s.stream.id===+e.streamId&&s.user.id===+e.userId&&t("live/switchToDualStreaming",{},{root:!0})}if("decline"===e.status){const{streamId:t,userId:s}=e;u.ZP.$root.$emit("show:co-stream:decline",{userId:s,streamId:t})}}if("undefined"!==typeof w.muted){const t=w.muted.user_id,{state:s}=w.muted,r=+s;e("chats/setMuted",{id:t,status:r},{root:!0}),e("users/setUserField",{userId:t,field:"canReceiveChatMessage",status:!s},{root:!0})}if("undefined"!==typeof w.post_expire&&e("posts/deletePost",w.post_expire,{root:!0}),"undefined"!==typeof w.post_published){const r=+w.post_published.id,n=+w.post_published.user_id;if(w.post_published.show_posts_in_feed&&t("posts/postPublished",{id:r,userId:n},{root:!0}),n===o){const n=s.schedule.items.some((({entity:e})=>e.id===r)),a=s.schedule.dayItems.some((({entity:e})=>e.id===r)),i=s.savedForLater.itemsSFL.some((({entity:e})=>e.id===r));"Feed"===P&&n&&(e("schedule/clearAgendaItems",{},{root:!0}),t("schedule/fetchEventsDetailed",{params:{limit:4,"filter[publishDate]":c()().format("YYYY-MM-DD")}},{root:!0})),"MyQueue"===P&&(n||a)&&(t("schedule/fetchEventsCounters",{params:{"filter[publishDate]":c()().format("YYYY-MM-DD")}},{root:!0}),e("schedule/postPublished",r,{root:!0}),e("schedule/setItemsByDate",{},{root:!0})),"SavedForLater"===P&&i&&e("savedForLater/postPublished",r,{root:!0})}}if("undefined"!==typeof w.post_updated){const e=+w.post_updated;["Feed","Post","Profile","ProfileInner","PostsEdit"].includes(P)&&t("posts/fetchPost",{id:e,onlyExisted:!0},{root:!0}),t("schedule/updatePost",e,{root:!0}),t("savedForLater/updateSFLPost",e,{root:!0})}if("undefined"!==typeof w.post_fundraising_updated&&e("posts/updatePost",w.post_fundraising_updated,{root:!0}),w.toasts&&!b&&!document.hidden){const{toasts:t}=w;if(["Streaming","Live","StreamingChat"].includes(P))return;t.forEach((async t=>{const s=+new Date;if(a.toastsThrottle&&a.toastsThrottle+5e3>s)return;e("setToastsThrottle",s);const r="streams_reminder"===t.type,n=u.ZP.$createElement,i=await p();let o=i.default,c=t,d={autoHideDelay:5e3,appendToast:!0,toaster:"b-toaster-bottom-left"};if(r){const e=await g();o=e.default,c={scheduledAt:t.data.replacements["{STREAM_PUBLISH_DATE}"],id:+t.data.replacements["{STREAM_ID}"],description:t.data.replacements["{STREAM_DESCRIPTION}"],media:{files:{thumb:{url:t.data.replacements["{STREAM_COVER}"]}}}};const s=`ScheduledStreamNotificationToast_${c.id}`;d={...d,id:s,noAutoHide:!0,toastClass:"m-without-timer"},u.ZP.$bvToast.hide(s)}const l=n(o,{props:{toast:c}});u.ZP.$bvToast.toast([l],d)}))}if(w.logout&&o&&!s.auth.logoutInProgress)try{const s=await(0,l.MD)(),{id:r}=s;null!==r&&r===w.user_id||(e("auth/setLogoutInProgress",!0,{root:!0}),u.ZP.$router.push({name:"Feed",params:{isLogout:!0}}),t("logout",{},{root:!0}))}catch(y){}w.has_new_alerts&&t("users/fetchAlert",{},{root:!0}),w.has_new_hints&&t("users/fetchHints",{},{root:!0});const S=o;if("undefined"!==typeof w.creditBalance&&e("users/setUserField",{userId:S,field:"creditBalance",status:w.creditBalance},{root:!0}),"undefined"!==typeof w.isRealCardConnected&&(e("users/setUserField",{userId:S,field:"isRealCardConnected",status:w.isRealCardConnected},{root:!0}),e("users/setUserField",{userId:S,field:"isPaymentCardConnected",status:w.isRealCardConnected},{root:!0})),"undefined"!==typeof w.payoutLegalApproveState&&(e("users/setUserField",{userId:S,field:"payoutLegalApproveState",status:w.payoutLegalApproveState},{root:!0}),e("users/setUserField",{userId:S,field:"payoutLegalApproveRejectReason",status:w.payoutLegalApproveRejectReason},{root:!0}),e("users/setUserField",{userId:S,field:"isPayoutLegalApproved",status:"approved"===w.payoutLegalApproveState},{root:!0}),e("users/setUserField",{userId:S,field:"payoutType",status:w.payoutType},{root:!0}),e("users/setUserField",{userId:S,field:"hasStripe",status:w.hasStripe},{root:!0}),e("users/setUserField",{userId:S,field:"canEarn",status:w.canEarn},{root:!0})),"undefined"!==typeof w.canReceiveManualPayout&&e("users/setUserField",{userId:S,field:"canReceiveManualPayout",status:w.canReceiveManualPayout},{root:!0}),"undefined"!==typeof w.needUpdateBanking&&e("users/setUserField",{userId:S,field:"needUpdateBanking",status:w.needUpdateBanking},{root:!0}),"undefined"!==typeof w.canReceiveStripePayout&&e("users/setUserField",{userId:S,field:"canReceiveStripePayout",status:w.canReceiveStripePayout},{root:!0}),w=(0,h.P)(w),"undefined"!==typeof w.needIVApprove&&e("users/setUserField",{userId:S,field:"needIVApprove",status:w.needIVApprove},{root:!0}),"undefined"!==typeof w.canCheckDocsByIV&&u.ZP.$root.$emit("msg",{canCheckDocsByIV:w.canCheckDocsByIV}),"undefined"!==typeof w.canCheckDocsBySecondaryIV&&u.ZP.$root.$emit("msg",{canCheckDocsBySecondaryIV:w.canCheckDocsBySecondaryIV}),"undefined"!==typeof w.paymentLocalUniqueId&&u.ZP.$root.$emit(`msg::paymentLocalUniqueId::${w.paymentLocalUniqueId}`,w.timestamp),"undefined"!==typeof w.faceIdOtp&&u.ZP.$root.$emit("msg::faceIdOtp",w.faceIdOtp),"undefined"!==typeof w.forceFaceIdOtp&&e("users/setUserField",{userId:S,field:"forceFaceOtp",status:w.forceFaceIdOtp},{root:!0}),"undefined"!==typeof w.confirmed_email){const t=r["auth/authUser"];e("users/setUserField",{userId:S,field:"isEmailChecked",status:w.confirmed_email===t.email},{root:!0}),e("users/deleteUserHint","email_verification",{root:!0})}if(w.releaseForm&&u.ZP.$root.$emit("msg",{releaseForm:w.releaseForm}),"undefined"!==typeof w.ivStatus&&(u.ZP.$root.$emit("msg",{ivStatus:w.ivStatus}),e("users/setUserField",{userId:S,field:"ivStatus",status:w.ivStatus},{root:!0})),"undefined"!==typeof w.isAgeVerified&&(u.ZP.$root.$emit("msg",{isAgeVerified:w.isAgeVerified}),e("users/setUserField",{userId:S,field:"isAgeVerified",status:w.isAgeVerified},{root:!0})),"undefined"!==typeof w.ageVerificationRequired&&(u.ZP.$root.$emit("msg",{ageVerificationRequired:w.ageVerificationRequired}),e("users/setUserField",{userId:S,field:"ageVerificationRequired",status:w.ageVerificationRequired},{root:!0})),"undefined"!==typeof w.ivFlow&&(u.ZP.$root.$emit("msg",{ivFlow:w.ivFlow}),e("users/setUserField",{userId:S,field:"ivFlow",status:w.ivFlow},{root:!0})),"undefined"!==typeof w.ivCountry&&(u.ZP.$root.$emit("msg",{ivCountry:w.ivCountry}),e("users/setUserField",{userId:S,field:"ivCountry",status:w.ivCountry},{root:!0})),"undefined"!==typeof w.ivFailReason&&(u.ZP.$root.$emit("msg",{ivFailReason:w.ivFailReason}),e("users/setUserField",{userId:S,field:"ivFailReason",status:w.ivFailReason},{root:!0})),"undefined"!==typeof w.stories){const e=w.stories.length?w.stories[0]:{};t("stories/storySocketUpdate",e,{root:!0})}if(w.hide_stories_user){const t=+i()(w,"hide_stories_user.user_id");if(!t)return;e("users/setUserField",{userId:t,field:"hasStories",status:!1},{root:!0}),e("users/setUserField",{userId:t,field:"hasNotViewedStory",status:!1},{root:!0}),e("users/setUserField",{userId:t,field:"canLookStory",status:!1},{root:!0}),e("stories/hideUserStories",{userId:t},{root:!0})}if(w.unhide_stories_user){const e=+i()(w,"unhide_stories_user.user_id");if(!e)return;t("users/fetchUser",{id:e},{root:!0}),"Feed"===P&&t("stories/addUserStoriesOnFeed",e,{root:!0}),"Profile"===P&&s.users.currentUser===e&&(t("stories/fetchUserStories",e,{root:!0}),t("stories/fetchUserHighlights",{userId:e,place:"profile"},{root:!0}))}if("undefined"!==typeof w.template){const t={...w.template};e("settings/setAutoMessage",t,{root:!0})}if("undefined"!==typeof w["changelog.update"]&&e("settings/addChangelogUpdates",void 0,{root:!0}),w.price_changed&&+w.price_changed.user_id!==o&&t("subscribes/fetchSubscribes",{limit:0,type:"changed",more:!0},{root:!0}),"undefined"!==typeof w.subscribed){const{subscribed:e}=w;if(["Streaming","StreamingChat"].includes(P)){const{local:r,viewers:n}=s.streaming;r.stream.id&&n.ids.find((t=>t===+e.user.id))&&t("streaming/addSubscribedComment",e.user,{root:!0})}}if(w.tickets_comment_count){const{id:t,count:s}=w.tickets_comment_count;e("static/setTicket",{id:t,ticket:{hasNewReplies:!!s,commentCount:s}},{root:!0})}if(void 0!==w.hasNewTicketReplies&&e("users/setUserField",{userId:S,field:"hasNewTicketReplies",status:w.hasNewTicketReplies},{root:!0}),w.queueStats){const{id:t,viewedCount:s,sentCount:r}=w.queueStats;e("massMessagesStat/setMessage",{id:t,viewedCount:s,sentCount:r},{root:!0})}if(void 0!==w.ageVerificationSession&&e("users/setUserField",{userId:S,field:"ageVerificationSession",status:w.ageVerificationSession},{root:!0}),void 0!==w.block_user){const n=+w.block_user.subscriber_id,a=+w.block_user.user_id;if(o===a){e("users/toggleUsersBlockedBy",{userId:n,value:!0},{root:!0});const s=r["chats/getChat"](n);s&&s.countPinnedMessages>0&&t("users/updateChatPinnedCount",{status:-1},{root:!0}),e("chats/deleteChat",n,{root:!0})}o===n&&(e("users/unsetUser",a,{root:!0}),s.users.currentUser===a&&(e("users/setCurrentUser",null,{root:!0}),e("users/setProfileDataLoadingError",!0,{root:!0})),"Chat"===P&&u.ZP.$route.params&&+u.ZP.$route.params.chatId===a&&t("chats/fetchChat",a,{root:!0}))}if(void 0!==w.writable_chat){const e=+w.writable_chat.user_id;t("chats/fetchChat",e,{root:!0}),t("users/fetchUser",{id:e},{root:!0})}if(void 0!==w.readonly_chat){const e=+w.readonly_chat.user_id;t("chats/fetchChat",e,{root:!0}),t("users/fetchUser",{id:e},{root:!0})}if(void 0!==w.faceId&&(w.faceId.result?u.ZP.$root.$emit("confirmSecurityCheck"):w.faceId.message&&alert(w.faceId.messaged)),void 0!==w.require_terms&&e("users/setUserField",{userId:S,field:"requireTerms",status:w.require_terms},{root:!0}),void 0!==w.update_pinned_chats_counter){const t=r["auth/authUserId"];e("users/setUserField",{userId:t,field:"countPinnedChat",status:w.update_pinned_chats_counter},{root:!0})}if(void 0!==w.need_a_tag_count){const t=r["auth/authUserId"];e("users/setUserField",{userId:t,field:"needTagCount",status:w.need_a_tag_count},{root:!0})}Array.isArray(w.sync_duplicated_release_forms)&&"Feed"===P&&s.usersLists.feedFiltersIds.includes("need-tag")&&w.sync_duplicated_release_forms.forEach((({entity_id:t})=>{e("posts/deletePost",t,{root:!0})}))}}}}},487979:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return f},getters:function(){return m},mutations:function(){return h},state:function(){return l}});var r=s(865273),n=s(218684),a=s(975701),i=s(927598),o=s(727484),c=s.n(o);const d=c().tz.guess(),u=()=>({balances:{},stripeBalances:{},earnings:[],payments:[],disputes:[],payoutRequests:[],documentsVat:[],stripeData:{currentStep:0,lastPayoutId:null,hasMore:!0},payoutStatistics:{},earningsLoading:!1,paymentsLoading:!1,payoutRequestsLoading:!1,documentsVatLoading:!1,payoutStatisticsLoading:!1,disputesMarker:void 0,earningsMarker:void 0}),l=u(),m={balances:e=>e.balances,stripeBalances:e=>e.stripeBalances,payments:e=>e.payments,payoutRequests:e=>e.payoutRequests,documentsVat:e=>e.documentsVat,stripeData:e=>e.stripeData,payoutStatistics:e=>e.payoutStatistics,paymentsLoading:e=>e.paymentsLoading,payoutRequestsLoading:e=>e.payoutRequestsLoading,documentsVatLoading:e=>e.documentsVatLoading,payoutStatisticsLoading:e=>e.payoutStatisticsLoading,disputes:e=>e.disputes},h={setEarningsLoading(e,t){e.earningsLoading=t},setPaymentsLoading(e,t){e.paymentsLoading=t},setPayoutRequestsLoading(e,t){e.payoutRequestsLoading=t},setDocumentsVatLoading(e,t){e.documentsVatLoading=t},setPayoutStatisticsLoading(e,t){e.payoutStatisticsLoading=t},setBalances(e,{balances:t,isStripe:s}){s?e.stripeBalances=t:e.balances=t},setEarnings(e,{items:t=[],more:s=!1}={}){e.earnings=s?[...e.earnings,...t]:[...t],e.earnings=(0,i.Z)(e.earnings)},setPayments(e,{items:t,more:s}){e.payments=s?[...e.payments,...t]:[...t]},setPayoutRequests(e,{items:t,more:s}){e.payoutRequests=s?[...e.payoutRequests,...t]:[...t]},setDocumentsVat(e,{items:t,more:s}){e.documentsVat=s?[...e.documentsVat,...t]:[...t]},setStripeData(e,{lastPayoutId:t,hasMore:s,currentStep:r}){e.stripeData.lastPayoutId=t,e.stripeData.hasMore=s,void 0!==r&&(e.stripeData.currentStep=r)},setPayoutStatistics(e,t){e.payoutStatistics=t},setDisputes(e,{items:t=[],more:s=!1}={}){e.disputes=s?[...new Set([...e.disputes,...t])]:t},setDisputesMarker(e,t){e.disputesMarker=t},setEarningsMarker(e,t){e.earningsMarker=t},logout(e){Object.assign(e,u())}},f={async fetchBalances({commit:e},{isStripe:t=!1}={}){let s;try{s=await(0,r.$m)(t)}catch(n){Sentry.captureException(n),s={}}return e("setBalances",{balances:s,isStripe:t}),s},async fetchEarnings({commit:e},{limit:t=a.P9,more:s=!1}={}){e("setEarningsLoading",!0),s||(e("setEarnings"),e("setEarningsMarker"));try{const{list:n,nextMarker:a,hasMore:i}=await(0,r.M5)({limit:t,marker:l.earningsMarker});if(Array.isArray(n))return n.length&&e("setEarnings",{items:n,more:s}),e("setEarningsMarker",a),e("setEarningsLoading",!1),i}catch(n){Sentry.captureException(n)}e("setEarningsLoading",!1)},async fetchPayments({commit:e},{limit:t,offset:s,more:r}={}){let a=[];e("setPaymentsLoading",!0),r||e("setPayments",{items:a,more:r});try{if(s%t===0){const e=await(0,n.oX)({limit:t,offset:s});a=e.list}}catch(i){Sentry.captureException(i)}return e("setPayments",{items:a,more:r}),e("setPaymentsLoading",!1),a},async fetchPayoutRequests({commit:e},{limit:t,offset:s,more:n}={}){let a=[];e("setPayoutRequestsLoading",!0),n||e("setPayoutRequests",{items:a,more:n});try{if(s%t===0){const e=await(0,r.E8)({limit:t,offset:s});a=e.list}}catch(i){Sentry.captureException(i)}return e("setPayoutRequests",{items:a,more:n}),e("setPayoutRequestsLoading",!1),a},async fetchPayoutRequestsStripe({state:e,commit:t},{limit:s,more:n}={}){let a=[];if(t("setPayoutRequestsLoading",!0),n||(t("setPayoutRequests",{items:a,more:n}),t("setStripeData",{lastPayoutId:null,hasMore:!0,currentStep:0})),e.stripeData.hasMore)try{const n=await(0,r.eq)({limit:s,currentStep:e.stripeData.currentStep,lastPayoutId:e.stripeData.lastPayoutId});a=n.list;const{lastPayoutId:i=null,hasMore:o=!1,currentStep:c=0}=n;t("setStripeData",{lastPayoutId:i,hasMore:o,currentStep:c})}catch(i){Sentry.captureException(i)}return t("setPayoutRequests",{items:a,more:n}),t("setPayoutRequestsLoading",!1),a},async fetchPayoutStatistics({commit:e},{start:t,end:s}={}){let n;e("setPayoutStatisticsLoading",!0);try{const e=await(0,r.Nv)(t,s,d);n=e.list}catch(a){Sentry.captureException(a),n={}}return e("setPayoutStatistics",n),e("setPayoutStatisticsLoading",!1),n},async updateWithdrawalPeriod({commit:e,rootGetters:t},{withdrawalPeriod:s,isStripe:n=!1}={}){const a=await(0,r.Nb)({withdrawalPeriod:s,isStripe:n});if(a.success){const r=t["auth/authUserId"],a=n?"withdrawalStripePeriod":"withdrawalPeriod";e("users/setUserField",{userId:r,field:a,status:s},{root:!0})}},sendPayoutRequest(e,t){return(0,r.$p)(t)},async fetchPayoutDisputes({commit:e,state:t},{limit:s,more:n}={}){try{n||(e("setDisputes"),e("setDisputesMarker"));const a=await(0,r.Ju)({limit:s,offset:t.disputes.length,marker:t.disputesMarker});return a&&a.list&&a.list.length?(e("setDisputesMarker",a.marker),e("setDisputes",{items:a.list,more:n}),a.list):[]}catch(a){return[]}},async fetchPayoutsReceive({commit:e,rootGetters:t}){const s=t["auth/authUserId"];try{const t=await(0,r._5)();if(t&&"object"===typeof t){const{canReceiveManualPayout:r,isVerifiedReason:n,needUpdateBanking:a,needVerifyPayoutData:i}=t;return void 0!==r&&e("users/setUserField",{userId:s,field:"canReceiveManualPayout",status:r},{root:!0}),void 0!==n&&e("users/setUserField",{userId:s,field:"isVerifiedReason",status:n},{root:!0}),void 0!==a&&e("users/setUserField",{userId:s,field:"needUpdateBanking",status:a},{root:!0}),void 0!==i&&e("users/setUserField",{userId:s,field:"needVerifyPayoutData",status:i},{root:!0}),t}}catch(n){Sentry.captureException(n)}return{}},async fetchDocumentsVat({commit:e},{limit:t,offset:s,more:n}={}){let a=[];e("setDocumentsVatLoading",!0),n||e("setDocumentsVat",{items:a,more:n});try{if(s%t===0){const e=await(0,r.PF)({limit:t,offset:s});a=e.list}}catch(i){Sentry.captureException(i)}return e("setDocumentsVat",{items:a,more:n}),e("setDocumentsVatLoading",!1),a}}},856273:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return g},getters:function(){return f},mutations:function(){return p},state:function(){return h}});var r=s(975701);const n=e=>{const t="faq"===e?(0,r.XP)({help:1}):"",s=`${r.tW}/pages/${e}${t}`;return r.ZP.get(s,{"axios-retry":{retries:1}}).then((e=>e.data))},a=e=>{const t=`${r.tW}/pages/contacts`;return r.ZP.post(t,e).then((e=>e.data))},i=e=>{const t=`${r.tW}/legal-inquiry`;return r.ZP.post(t,e).then((e=>e.data))},o=e=>{const t=(0,r.XP)({query:e,help:1}),s=`${r.tW}/pages/faq${t}`;return r.ZP.get(s).then((e=>e.data))};var c=s(999023),d=s(782677),u=s(243168),l=s(172462);const m=()=>({content:{...(window.STATIC_PAGES||[]).filter((e=>"anchor"!==e.type)).map((e=>"help"===e.url?"faq":e.url)).reduce(((e,t)=>({...e,[t]:{}})),{})},searchContent:null,loading:!1,supportTickets:{},ticketsIds:{all:[],closed:[],open:[],solved:[]},ticketsCount:{all:0,closed:0,open:0,solved:0},repliesIds:{},ticketReplies:{}}),h=m(),f={getContentByName:e=>t=>e.content[t]||{},content:e=>e.content,loading:e=>e.loading,searchContent:e=>e.searchContent,supportTicketsIds:e=>(t="all")=>e.ticketsIds[t]&&e.ticketsIds[t].length?e.ticketsIds[t].filter((s=>"all"===t||e.supportTickets[s].status===t)):[],supportTicket:e=>t=>e.supportTickets[t],ticketReplies:e=>t=>e.repliesIds[t]?e.repliesIds[t].map((t=>e.ticketReplies[t])):[],ticketRepliesIds:e=>t=>e.repliesIds[t]||[],ticketReply:e=>t=>e.ticketReplies[t]},p={setContent(e,{content:t,name:s}){e.content[s]=t},setSearchContent(e,t){e.searchContent=t},setLoading(e,t){e.loading=t},reset(e,t){e.content[t]=null},resetSearchContent(e){e.searchContent=null},setTicketsIds(e,{ids:t=[],more:s=!1,before:r=!1,status:n="all"}){e.ticketsIds[n]=s?r?[...t,...e.ticketsIds[n]]:[...e.ticketsIds[n],...t]:t,e.ticketsIds[n]=[...new Set(e.ticketsIds[n])].filter((e=>!!e))},setTicketsCount(e,{count:t,more:s=!1,status:r="all"}){s?e.ticketsCount[r]+=t:e.ticketsCount[r]=t},setTicket(e,{id:t,ticket:s={}}){e.supportTickets[t]={...e.supportTickets[t]||{},...s}},logout(e){Object.assign(e,m())}},g={async getContent({commit:e},t){e("setLoading",!0),e("setContent",{content:null,name:t});try{const s=await n(t);e("setContent",{content:s,name:t}),e("setLoading",!1)}catch(s){e("setLoading",!1),e("setContent",{content:{text:"Page not found"},name:t})}},async getSearchContent({commit:e},t){e("setLoading",!0);try{const s=await o(t);e("setSearchContent",s),e("setLoading",!1)}catch(s){e("setLoading",!1)}},contactUs({commit:e},t){return e("setLoading",!0),a(t).then((t=>(e("setLoading",!1),t))).catch((t=>(e("setLoading",!1),t)))},legalInquiry({commit:e},t){return i(t).then((t=>(e("setLoading",!1),t))).catch((t=>(e("setLoading",!1),t)))},reset({commit:e}){e("reset")},resetSearchContent({commit:e}){e("resetSearchContent")},async getUsersTickets({commit:e,state:t},{more:s=!1,status:n,order:a}={}){s||(e("setTicketsIds",{status:n}),e("setTicketsCount",{status:n}));const{cancelToken:i,Cancel:o}=(0,r.Yz)("getTickets");try{const r=await(0,c.$g)({offset:t.ticketsCount[n||"all"],status:n,order:a,cancelToken:i});if(r&&r.list&&r.list.length){const t=r.list.reduce(((e,t)=>t.lastComment?{...e,[t.id]:[t.lastComment.id]}:e),{}),a=(0,d.Fv)(r.list,u.oF);e("set",{...a,entities:{...a.entities,repliesIds:t}},{root:!0}),e("setTicketsCount",{status:n,count:a.result.length,more:s}),e("setTicketsIds",{status:n,ids:a.result,more:s})}return r&&r.hasMore}catch(l){if(l instanceof o)throw l;return!1}},async getUsersTicketById({commit:e},{id:t}){e("setLoading",!0);try{const s=await(0,c.nR)({id:t});if(s){const t=(0,d.Fv)([s],u.oF),r={...s.lastComment&&{[s.id]:[s.lastComment.id]}};e("set",{...t,entities:{...t.entities,repliesIds:r}},{root:!0}),e("setTicketsCount",{status:s.status,count:t.result.length,more:!0}),e("setTicketsIds",{status:s.status,ids:t.result,more:!0})}return e("setLoading",!1),s}catch(s){return e("setLoading",!1),s}},postUsersTickets({commit:e},t){return e("setLoading",!0),(0,c.HU)(t).then((t=>{if(e("setLoading",!1),t&&t.success){const s=(0,d.Fv)(t.ticket,u.e_);e("set",s,{root:!0}),e("setTicketsCount",{status:"open",count:1,more:!0}),e("setTicketsIds",{ids:[s.result],before:!0,more:!0,status:"open"})}return t})).catch((t=>(e("setLoading",!1),t)))},async replyOnTicket({commit:e,state:t},{id:s,data:r}){e("setLoading",!0);try{const n=await(0,c.Fw)(s,r),a=(0,d.Fv)(n,u.qn),i=a.result;return e("set",{...a,entities:{...a.entities,repliesIds:{[s]:[...new Set([...t.repliesIds[s]||[],i])]}}},{root:!0}),e("setTicket",{id:s,ticket:{commentCount:t.supportTickets[s].commentCount+1}}),e("setLoading",!1),n}catch(n){throw e("setLoading",!1),n}},async getTicketReplies({commit:e,state:t,getters:s},{id:r,more:n=!1}){try{const a=n?s.ticketRepliesIds(r).length:0,i=await(0,c.vn)({id:r,offset:a});if(i&&i.list&&i.list.length){const a=(0,d.Fv)(i.list,u.CF);e("set",a,{root:!0});const o=a.result,c=s.supportTicket(r),l=c&&c.lastComment&&c.lastComment.id,m=t.repliesIds[r],h=m?m.filter((e=>e!==l)):[];e("set",{entities:{repliesIds:{[r]:[...new Set([...n?h:[],...o,...l?[l]:[]])]}}},{root:!0}),t.supportTickets[r].commentCount<o.length&&e("setTicket",{id:r,ticket:{commentCount:o.length}})}return i&&i.hasMore}catch(a){return!1}},async solveTicket({commit:e},t){try{e("setLoading",!0);const s=await(0,c.J5)(t);e("setLoading",!1),s&&s.success&&e("setTicket",{id:t,ticket:{status:"solved"}})}catch(s){e("setLoading",!1),(0,l.Po)(s)}},async reopenTicket({commit:e,state:t,rootGetters:s},{id:r,data:n}){try{e("setLoading",!0);const a=await(0,c.dW)({id:r,data:n});if(e("setLoading",!1),a&&a.success){e("setTicket",{id:r,ticket:{status:"open",commentCount:t.supportTickets[r].commentCount+1}});const a=s["auth/authUser"],i=(0,d.Fv)({id:Math.random().toString(36).substr(2,9),body:n.message,createdAt:new Date,user:{name:a.name,avatar:a.avatar}},u.qn);e("set",i,{root:!0});const o=i.result;e("set",{entities:{repliesIds:{[r]:[...new Set([...t.repliesIds[r]||[],o])]}}},{root:!0})}}catch(a){e("setLoading",!1),(0,l.Po)(a)}},async checkIsCreateAllowed({commit:e,state:t,dispatch:s},{source:r,subject:n}){try{e("setLoading",!0);const t={...r&&{source:r},...n&&{subject:n}},s=await(0,c.YK)(t);return e("setLoading",!1),s}catch(a){if(400===a.status&&a.data.ticket){const r=t.supportTickets[a.data.ticket.id];return r||await s("getUsersTicketById",{id:a.data.ticket.id}),e("setLoading",!1),a.data}return e("setLoading",!1),{success:!1}}}}},798427:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return ce},getters:function(){return ie},mutations:function(){return oe},state:function(){return ae}});var r=s(975701);const n=({startDate:e,endDate:t,limit:s,by:n,filter:a,cancelToken:i})=>{const o={startDate:e,endDate:t,limit:s,by:n};a&&(o.filter=a);const c=(0,r.XP)(o),d=`${r.tW}/users/me/profile/stats${c}`;return r.ZP.get(d,{cancelToken:i}).then((e=>e.data))},a=({offset:e,startDate:t,endDate:s,limit:n,cancelToken:a})=>{const i=(0,r.XP)({offset:e,startDate:t,endDate:s,limit:n}),o=`${r.tW}/promotions-trials${i}`;return r.ZP.get(o,{cancelToken:a}).then((e=>e.data))},i=({startDate:e,endDate:t,cancelToken:s})=>{const n=(0,r.XP)({startDate:e,endDate:t}),a=`${r.tW}/promotions-trials/chart${n}`;return r.ZP.get(a,{cancelToken:s}).then((e=>e.data))},o=({startDate:e,endDate:t,cancelToken:s})=>{const n=(0,r.XP)({startDate:e,endDate:t,withTotal:!0,filter:{total_count:"total_count",total_amount:"total_amount",subscribes_count:"subscribes_count",subscribes_amount:"subscribes_amount",tips_count:"tips_count",tips_amount:"tips_amount",messages_count:"messages_count",messages_amount:"messages_amount",post_count:"post_count",post_amount:"post_amount",stream_count:"stream_count",stream_amount:"stream_amount",tips_profile_count:"tips_profile_count",tips_profile_amount:"tips_profile_amount",tips_chat_count:"tips_chat_count",tips_chat_amount:"tips_chat_amount",tips_post_count:"tips_post_count",tips_post_amount:"tips_post_amount",tips_stream_count:"tips_stream_count",tips_stream_amount:"tips_stream_amount",tips_story_count:"tips_story_count",tips_story_amount:"tips_story_amount"}}),a=`${r.tW}/earnings/chart${n}`;return r.ZP.get(a,{cancelToken:s}).then((e=>e.data))},c=({startDate:e,endDate:t,cancelToken:s})=>{const n=(0,r.XP)({startDate:e,endDate:t,withTotal:!0,filter:{total_amount:"total_amount",subscribes_amount:"subscribes_amount",tips_amount:"tips_amount",post_amount:"post_amount",messages_amount:"messages_amount",ref_amount:"ref_amount",stream_amount:"stream_amount"}}),a=`${r.tW}/earnings/chart${n}`;return r.ZP.get(a,{cancelToken:s}).then((e=>e.data))},d=({startDate:e,endDate:t,cancelToken:s,by:n,withTotal:a})=>{const i=(0,r.XP)({startDate:e,endDate:t,withTotal:a,filter:{[n]:n,posts:"posts"}}),o=`${r.tW}/posts/chart${i}`;return r.ZP.get(o,{cancelToken:s}).then((e=>e.data))},u=({startDate:e,endDate:t,cancelToken:s,withTotal:n,by:a})=>{const i=(0,r.XP)({startDate:e,endDate:t,withTotal:n,filter:{[a]:a,stories:"stories"}}),o=`${r.tW}/stories/chart${i}`;return r.ZP.get(o,{cancelToken:s}).then((e=>e.data))},l=({startDate:e,endDate:t,cancelToken:s,withTotal:n,by:a})=>{const i=(0,r.XP)({startDate:e,endDate:t,withTotal:n,filter:{[a]:a,duration:"duration"}}),o=`${r.tW}/streams/chart${i}`;return r.ZP.get(o,{cancelToken:s}).then((e=>e.data))},m=({startDate:e,endDate:t,cancelToken:s,fieldBy:n=null})=>{const a={startDate:e,endDate:t};n&&(a.by=n);const i=(0,r.XP)(a),o=`${r.tW}/users/me/stats/overview${i}`;return r.ZP.get(o,{cancelToken:s}).then((e=>e.data))},h=({cancelToken:e,startDate:t,endDate:s})=>{const n=(0,r.XP)({startDate:t,endDate:s}),a=`${r.tW}/users/me/stats/top/story${n}`;return r.ZP.get(a,{cancelToken:e}).then((e=>e.data))},f=({cancelToken:e,startDate:t,endDate:s})=>{const n=(0,r.XP)({startDate:t,endDate:s}),a=`${r.tW}/users/me/stats/top/stream${n}`;return r.ZP.get(a,{cancelToken:e}).then((e=>e.data))},p=({cancelToken:e,startDate:t,endDate:s})=>{const n=(0,r.XP)({startDate:t,endDate:s}),a=`${r.tW}/users/me/stats/top/post${n}`;return r.ZP.get(a,{cancelToken:e}).then((e=>e.data))},g=({cancelToken:e,startDate:t,endDate:s,by:n,offset:a})=>{const i=(0,r.XP)({startDate:t,endDate:s,by:n,offset:a}),o=`${r.tW}/posts/top${i}`;return r.ZP.get(o,{cancelToken:e}).then((e=>e.data))},y=e=>{if(!e)throw new Error("streamId is not defined");const t=(0,r.XP)({withChart:!0}),s=`${r.tW}/posts/${e}/stats${t}`;return r.ZP.get(s).then((e=>e.data))},S=e=>{if(!e)throw new Error("story id is not defined");const t=(0,r.XP)({withChart:!0}),s=`${r.tW}/stories/${e}/stats${t}`;return r.ZP.get(s).then((e=>e.data))},P=({cancelToken:e,startDate:t,endDate:s})=>{const n=(0,r.XP)({startDate:t,endDate:s}),a=`${r.tW}/users/me/stats/top/fan${n}`;return r.ZP.get(a,{cancelToken:e}).then((e=>e.data))},v=({streamId:e,limit:t,offset:s})=>{const n=(0,r.XP)({withFinishedViewers:!0,onlyCurrentStreamTips:!0,limit:t,offset:s}),a=`${r.tW}/streams/${e}/viewers${n}`;return r.ZP.get(a).then((e=>e.data))},w=({streamId:e,limit:t,offset:s})=>{const n=(0,r.XP)({withFinishedViewers:!0,onlyCurrentStreamTips:!0,onlyWithTips:!0,limit:t,offset:s}),a=`${r.tW}/streams/${e}/viewers${n}`;return r.ZP.get(a).then((e=>e.data))},b=({cancelToken:e,startDate:t,endDate:s})=>{const n=(0,r.XP)({startDate:t,endDate:s}),a=`${r.tW}/users/me/stats/top/mass-message${n}`;return r.ZP.get(a,{cancelToken:e}).then((e=>e.data))},I=({cancelToken:e,startDate:t,endDate:s,by:n,offset:a=0})=>{const i=(0,r.XP)({startDate:t,endDate:s,by:n,offset:a}),o=`${r.tW}/subscriptions/subscribers/latest${i}`;return r.ZP.get(o,{cancelToken:e}).then((e=>e.data))},k=({cancelToken:e,startDate:t,endDate:s,by:n,offset:a=0})=>{const i=(0,r.XP)({startDate:t,endDate:s,by:n,offset:a}),o=`${r.tW}/subscriptions/subscribers/top${i}`;return r.ZP.get(o,{cancelToken:e}).then((e=>e.data))},C=({cancelToken:e,startDate:t,endDate:s,by:n,offset:a=0})=>{const i=(0,r.XP)({startDate:t,endDate:s,by:n,offset:a}),o=`${r.tW}/stories/top${i}`;return r.ZP.get(o,{cancelToken:e}).then((e=>e.data))},T=({cancelToken:e,startDate:t,endDate:s,by:n})=>{const a=(0,r.XP)({startDate:t,endDate:s,by:n}),i=`${r.tW}/subscriptions/subscribers/chart${a}`;return r.ZP.get(i,{cancelToken:e}).then((e=>e.data))},$=({cancelToken:e,startDate:t,endDate:s})=>{const n=(0,r.XP)({startDate:t,endDate:s,withTotal:!0,withChart:!0,filter:{chartAmount:"chartAmount",chartCount:"chartCount"}}),a=`${r.tW}/payouts/chart${n}`;return r.ZP.get(a,{cancelToken:e}).then((e=>e.data))},L=({cancelToken:e,startDate:t,endDate:s,limit:n=10,offset:a=0,by:i="purchases"})=>{const o=(0,r.XP)({startDate:t,endDate:s,limit:n,offset:a,by:i}),c=`${r.tW}/messages/queue/top${o}`;return r.ZP.get(c,{cancelToken:e}).then((e=>e.data))},M=({cancelToken:e,startDate:t,endDate:s,limit:n=10,offset:a=0,by:i="purchases"})=>{const o=(0,r.XP)({startDate:t,endDate:s,limit:n,offset:a,by:i}),c=`${r.tW}/streams/top${o}`;return r.ZP.get(c,{cancelToken:e}).then((e=>e.data))},_=({startDate:e,endDate:t,cancelToken:s,withTotal:n,by:a})=>{const i=(0,r.XP)({startDate:e,endDate:t,withTotal:n,filter:{[a]:a,messages:"messages"}}),o=`${r.tW}/messages/queue/chart${i}`;return r.ZP.get(o,{cancelToken:s}).then((e=>e.data))},A=({startDate:e,cancelToken:t,marker:s=null,type:n,tipsSource:a})=>{const i=(0,r.XP)({startDate:e,marker:s,type:n,tipsSource:a}),o=`${r.tW}/payouts/transactions${i}`;return r.ZP.get(o,{cancelToken:t}).then((e=>e.data))},x=({startDate:e,endDate:t,cancelToken:s,offset:n=0,marker:a=null})=>{const i=(0,r.XP)({startDate:e,endDate:t,offset:n,marker:a}),o=`${r.tW}/payouts/requests${i}`;return r.ZP.get(o,{cancelToken:s}).then((e=>e.data))},F=({startDate:e,endDate:t,cancelToken:s,offset:n=0,marker:a=null})=>{const i=(0,r.XP)({startDate:e,endDate:t,offset:n,marker:a}),o=`${r.tW}/payouts/requests/referral${i}`;return r.ZP.get(o,{cancelToken:s}).then((e=>e.data))},E=({startDate:e,endDate:t,cancelToken:s,withTotal:n=1})=>{const a=(0,r.XP)({startDate:e,endDate:t,withTotal:n,withChart:!0,filter:{chartAmount:"chartAmount",chartCount:"chartCount"}}),i=`${r.tW}/payouts/referrals/chart${a}`;return r.ZP.get(i,{cancelToken:s}).then((e=>e.data))},D=({startDate:e,endDate:t,cancelToken:s,withTotal:n=!0})=>{const a=(0,r.XP)({startDate:e,endDate:t,withTotal:n,withChart:!0,filter:{chartAmount:"chartAmount",chartCount:"chartCount"}}),i=`${r.tW}/payouts/chargebacks/chart${a}`;return r.ZP.get(i,{cancelToken:s}).then((e=>e.data))},U=({startDate:e,endDate:t,cancelToken:s,withTotal:n=!0})=>{const a=(0,r.XP)({startDate:e,endDate:t,withTotal:n,withChart:!0,filter:{chartAmount:"chartAmount",chartCount:"chartCount"}}),i=`${r.tW}/payouts/vat/chart${a}`;return r.ZP.get(i,{cancelToken:s}).then((e=>e.data))},O=({storyId:e,limit:t,offset:s})=>{const n=(0,r.XP)({onlyWithTips:!0,limit:t,offset:s}),a=`${r.tW}/stories/${e}/viewers${n}`;return r.ZP.get(a).then((e=>e.data))},R=({storyId:e,limit:t,offset:s})=>{const n=(0,r.XP)({limit:t,offset:s}),a=`${r.tW}/stories/${e}/viewers${n}`;return r.ZP.get(a).then((e=>e.data))},Z=({startDate:e,endDate:t,cancelToken:s,offset:n=0,marker:a=null,onlyPerformers:i=0})=>{const o=(0,r.XP)({startDate:e,endDate:t,offset:n,marker:a,onlyPerformers:i}),c=`${r.tW}/users/me/referrals${o}`;return r.ZP.get(c,{cancelToken:s}).then((e=>e.data))},B=({id:e,kind:t,limit:s,offset:n})=>{const a={limit:s,offset:n};a.filter="trial"===t?{trial_id:e}:{promoId:e};const i=(0,r.XP)(a),o=`${r.tW}/subscriptions/subscribers${i}`;return r.ZP.get(o).then((e=>e.data))},j=({limit:e,lastPayoutId:t,cancelToken:s})=>{const n=(0,r.XP)({limit:e,lastPayoutId:t}),a=`${r.tW}/payouts/requests/stripe${n}`;return r.ZP.get(a,{cancelToken:s}).then((e=>e.data))},W=({start:e,end:t,cancelToken:s})=>{const n=(0,r.XP)({startDate:e,endDate:t}),a=`${r.tW}/payouts/stats${n}`;return r.ZP.get(a,{cancelToken:s}).then((e=>e.data))},q=({cancelToken:e})=>{const t=(0,r.XP)({monthlyTotal:1}),s=`${r.tW}/earnings/chart${t}`;return r.ZP.get(s,{cancelToken:e}).then((e=>e.data))};var V=s(865273),N=s(849491),H=s(782677),z=s(243168),X=s(58086),G=s(999023),Y=s(727484),K=s.n(Y),Q=s(201646),J=s.n(Q),ee=s(207124),te=s.n(ee),se=s(350356),re=s.n(se);K().extend(J()),K().extend(te()),K().extend(re());const ne=()=>({overviewBlock:{charts:{data:{},loading:!1,monthlyTotal:[],monthlyTotalLoading:!1},loading:!1,data:{},post:{},messages:{},streaming:{},visitors:{},topPost:{loading:!1,data:{},postStat:{data:null,loading:!1}},topMessage:{loading:!1,data:{}},topStream:{loading:!1,data:{},streamStat:{data:null,loading:!1}},topStory:{loading:!1,data:{}},topFan:{loading:!1,data:{},dataFull:null},statistic:{loading:!1,data:null,byDateloading:!1,dataByDate:null}},statementsBlock:{sidebar:{charts:{data:null,loading:!1}},earnings:{data:null,loading:!1,marker:null,hasMore:!1},payoutRequests:{data:null,delta:0,total:0,loading:!1,marker:null,hasMore:!1,chart:null,chartLoading:!1},payoutRequestsStripe:{data:null,lastPayoutId:null,hasMore:!1,loading:!1},disputes:{data:null,loading:!1,marker:null,hasMore:!1,delta:0,total:0,ratio:0,chart:null,chartLoading:!1},referrals:{data:null,loading:!1,marker:null,hasMore:!1,delta:0,total:0,chart:null,chartLoading:!1},referredCreators:{data:null,loading:!1,hasMore:!1,marker:null},referredUsers:{data:null,loading:!1,hasMore:!1,marker:null},vatDocuments:{delta:0,total:0,chart:null,chartLoading:!1}},engagementBlock:{posts:{loading:!1,hasMore:!1,data:[],chart:null,total:null,chartLoading:!1,summaryInfo:{loading:!1,data:null}},messages:{loading:!1,items:[],hasMore:!1,chart:null,total:null,chartLoading:!1,summaryInfo:{loading:!1,data:null}},streams:{loading:!1,items:[],hasMore:!1,chart:null,total:null,chartLoading:!1,summaryInfo:{loading:!1,data:null}},stories:{loading:!1,hasMore:!1,items:[],chart:null,total:null,chartLoading:!1,summaryInfo:{loading:!1,data:null},storyStat:{data:null,loading:!1}},summaryInfo:{loading:!1,data:null}},reachBlock:{profileVisitors:{data:[],loading:!1,chart:{loading:!1,data:null,total:null},topCountries:{loading:!1,data:null},summaryInfo:{loading:!1,data:null}},promotionsAndTrialLinks:{data:null,loading:!1,hasMore:!1,chart:{loading:!1,data:null},summaryInfo:{loading:!1,data:null},claimsList:{data:null}},topSources:{loading:!1,data:null},campaigns:{summaryInfo:{loading:!1,data:null}}},fansBlock:{subscriptions:{loading:!1,users:[],hasMore:!1,chart:null,chartLoading:!1},topFans:{loading:!1,users:[],hasMore:!1,chart:null,chartLoading:!1},summaryInfo:{loading:!1,data:null}},timePeriod:{},startDateModel:null,isLoading:!1,common:{streamViewers:{list:[],loading:!1},streamTippers:{list:[]},storyViewers:{list:[]},storyTippers:{list:[]}}}),ae=ne(),ie={isAllPeriod:({timePeriod:e,startDateModel:t})=>{const{startDate:s,endDate:r}=e;return!!(s&&t&&r)&&(t.isSame(s,"day")&&(r.isToday()||r.isYesterday()))}},oe={setOverviewBlockData(e,t){e.overviewBlock.data=t},setOverviewBlockLoading(e,t){e.overviewBlock.loading=t},setProfileStatData(e,t){e.reachBlock.profileVisitors.data=t},setProfileStatLoading(e,t){e.reachBlock.profileVisitors.loading=t},setPromotionsData(e,t){e.reachBlock.promotionsAndTrialLinks.hasMore=t.hasMore,e.reachBlock.promotionsAndTrialLinks.data=[...e.reachBlock.promotionsAndTrialLinks.data||[],...t.items]},resetPromotionsData(e){e.reachBlock.promotionsAndTrialLinks.hasMore=!1,e.reachBlock.promotionsAndTrialLinks.data=[],e.reachBlock.promotionsAndTrialLinks.loading=!1},setPromotionsLoading(e,t){e.reachBlock.promotionsAndTrialLinks.loading=t},setPromotionsChartData(e,t){e.reachBlock.promotionsAndTrialLinks.chart.data=t},setPromotionsChartLoading(e,t){e.reachBlock.promotionsAndTrialLinks.chart.loading=t},setTopStreamData(e,t){e.overviewBlock.topStream.data=t},setTopMessageData(e,t){e.overviewBlock.topMessage.data=t},setTopStreamLoading(e,t){e.overviewBlock.topStream.loading=t},setTopStoryLoading(e,t){e.overviewBlock.topStory.loading=t},setTopStoryData(e,t){e.overviewBlock.topStory.data=t},setTopPostData(e,t){e.overviewBlock.topPost.data=t},setTopPostLoading(e,t){e.overviewBlock.topPost.loading=t},setTopFanData(e,t){e.overviewBlock.topFan.data=t},setTopFanDataFull(e,t){e.overviewBlock.topFan.dataFull=t},setTopFanLoading(e,t){e.overviewBlock.topFan.loading=t},setTopMessageLoading(e,t){e.overviewBlock.topMessage.loading=t},setTimePeriod(e,{startDate:t,endDate:s,type:r="custom"}){let n=t,a=s||K()().add(-1,"day").endOf("day");const{startDateModel:i}=e;i&&(n=t.isAfter(i)?t:i,a=i.isBefore(a)?a:K()()),e.timePeriod={startDate:n,endDate:a,startDateFormatted:n.format("YYYY-MM-DD HH:mm:ss"),endDateFormatted:a.format("YYYY-MM-DD HH:mm:ss"),type:r}},setStartDateModel(e,t){e.startDateModel=K()(t)},setStreamViewers(e,{list:t,more:s}){e.common.streamViewers.list=s?[...e.common.streamViewers.list,...t]:t},setStreamViewersLoading(e,t){e.common.streamViewers.loading=t},setStreamTippers(e,{list:t,more:s}){e.common.streamTippers.list=s?[...e.common.streamTippers.list,...t]:t},setStreamStat(e,t){e.overviewBlock.topStream.streamStat.data={viewersCount:+t.stream_look_count,viewers:[...t.stream_look_all||[]],viewersChartData:[...t.stream_look_chart||[]],likesCount:+t.stream_like_count,likes:[...t.stream_like_all||[]],likeChartData:[...t.stream_like_chart||[]],commentsCount:+t.stream_comment_count,comments:[...t.stream_comment_all||[]],commentsChartData:[...t.stream_comment_chart||[]],tipsCount:+t.stream_tip_count,tips:[...t.stream_tip_all||[]],tipsChartData:[...t.stream_tip_chart||[]],tipSum:+t.stream_tip_sum,duration:K().duration(t.stream_duration,"seconds").format(X.Z.getDurationFormat(t.stream_duration))}},setPostStat(e,t){e.overviewBlock.topPost.postStat.data={viewersCount:+t.lookCount,viewersUniqueCount:+t.uniqueLookCount,viewers:t.lookAll||{},viewersChartData:[...t.lookChart||[]],likesCount:+t.likeCount,likes:t.likeAll||{},likeChartData:[...t.likeChart||[]],commentsCount:+t.commentCount,comments:t.commentAll||{},commentsChartData:[...t.commentChart||[]],tipsCount:+t.tipCount,tipsSum:+t.tipSum,tips:t.tipAll||{},tipsChartData:[...t.tipChart||[]],tipSumChartData:[...t.tipSumChart||[]],tipSum:+(t.tipSum||0),purchasedSumm:+(t.purchasedSumm||0),purchasedCount:+t.purchasedCount,purchasesChartData:[...t.purchasesChart||[]],lookDuration:t.lookDuration,lookDurationAverage:t.lookDurationAverage,uniqueLookCount:t.uniqueLookCount,uniqueLookChartData:t.uniqueLookChart}},setStoryStat(e,t){e.engagementBlock.stories.storyStat.data={storyComments:t.storyCommentAll||{},storyCommentsCount:+t.storyCommentCount,storyCommentsChartData:[...t.storyCommentChart||[]],storyLikes:t.storyLikeAll||{},storyLikesCount:+t.storyLikeCount,storyLikesChartData:[...t.storyLikeChart||[]],storyViewers:t.lookAll||{},storyViewersCount:+t.storyLookCount,storyViewersChartData:[...t.storyLookChart||[]],storyTips:t.storyTipAll||{},storyTipsChartData:[...t.storyTipChart||[]],storyTipCount:+(t.storyTipCount||0),storyTipSum:+(t.storyTipSum||0),storyTipSumData:[...t.storyTipSumChart||[]]}},setReachProfileVisitorsSummary(e,t){e.reachBlock.profileVisitors.summaryInfo.data=t},setReachProfileVisitorsSummaryLoading(e,t){e.reachBlock.profileVisitors.summaryInfo.loading=t},setReachPromotionsSummary(e,t){e.reachBlock.promotionsAndTrialLinks.summaryInfo.data=t},setReachPromotionsSummaryLoading(e,t){e.reachBlock.promotionsAndTrialLinks.summaryInfo.loading=t},setReachCampaignsSummaryLoading(e,t){e.reachBlock.campaigns.summaryInfo.loading=t},setReachCampaignsSummary(e,t){e.reachBlock.campaigns.summaryInfo.data=t},setReachProfileVisitorsChartData(e,t){e.reachBlock.profileVisitors.chart.data=t},setReachProfileVisitorsChartLoading(e,t){e.reachBlock.profileVisitors.chart.loading=t},setReachTopSourcesData(e,t){e.reachBlock.topSources.data=t},setReachTopSourcesLoading(e,t){e.reachBlock.topSources.loading=t},setReachProfileVisitorsTopCountriesData(e,t){e.reachBlock.profileVisitors.topCountries.data=t},setReachProfileVisitorsTopCountriesLoading(e,t){e.reachBlock.profileVisitors.topCountries.loading=t},setFansBlockSummary(e,t){e.fansBlock.summaryInfo.data=t},setFansBlockSummaryLoading(e,t){e.fansBlock.summaryInfo.loading=t},setEngagementPostsSummaryLoading(e,t){e.engagementBlock.posts.summaryInfo.loading=t},setEngagementPostsSummary(e,t){e.engagementBlock.posts.summaryInfo.data=t},setEngagementStoriesSummaryLoading(e,t){e.engagementBlock.stories.summaryInfo.loading=t},setEngagementStoriesSummary(e,t){e.engagementBlock.stories.summaryInfo.data=t},setEngagementStreamSummaryLoading(e,t){e.engagementBlock.streams.summaryInfo.loading=t},setEngagementStreamSummary(e,t){e.engagementBlock.streams.summaryInfo.data=t},setEngagementMessagesSummary(e,t){e.engagementBlock.messages.summaryInfo.data=t},setEngagementMessagesSummaryLoading(e,t){e.engagementBlock.messages.summaryInfo.loading=t},setEngagementsStoriesLoading(e,t){e.engagementBlock.stories.loading=t},setEngagementsStories(e,{items:t,hasMore:s,addMore:r}){e.engagementBlock.stories.hasMore=s,e.engagementBlock.stories.items=r?[...e.engagementBlock.stories.items,...t]:t},setEngagementPostsLoading(e,t){e.engagementBlock.posts.loading=t},setEngagementPostsData(e,{list:t,more:s}){e.engagementBlock.posts.data=s?[...e.engagementBlock.posts.data,...t]:t},setEngagementPostsHasMore(e,t){e.engagementBlock.posts.hasMore=t},setPostsChartData(e,t){if(t){const s={},r={};Object.keys(t).map((e=>{s[e]=t[e].chart,r[e]=t[e].total})),e.engagementBlock.posts.total=r,e.engagementBlock.posts.chart=s}else e.engagementBlock.posts.total=null,e.engagementBlock.posts.chart=null},setPostsChartDataLoading(e,t){e.engagementBlock.posts.chartLoading=t},setStoriesChartData(e,t){if(t){const s={},r={};Object.keys(t).map((e=>{s[e]=t[e].chart,r[e]=t[e].total})),e.engagementBlock.stories.total=r,e.engagementBlock.stories.chart=s}else e.engagementBlock.stories.total=null,e.engagementBlock.stories.chart=null},setStoriesChartDataLoading(e,t){e.engagementBlock.stories.chartLoading=t},setStreamsChartData(e,t){if(t){const s={},r={};Object.keys(t).map((e=>{s[e]=t[e].chart,r[e]=t[e].total})),e.engagementBlock.streams.total=r,e.engagementBlock.streams.chart=s}else e.engagementBlock.streams.total=null,e.engagementBlock.streams.chart=null},setStreamsChartDataLoading(e,t){e.engagementBlock.streams.chartLoading=t},resetStoryStat(e){e.engagementBlock.stories.storyStat.data=null},setStoryStatLoading(e,t){e.engagementBlock.stories.storyStat.loading=t},resetStreamStat(e){e.overviewBlock.topStream.streamStat.data=null},resetPostStat(e){e.overviewBlock.topPost.postStat.data=null},setStreamStatLoading(e,t){e.overviewBlock.topStream.streamStat.loading=t},setPostStatLoading(e,t){e.overviewBlock.topPost.postStat.loading=t},addFansSubscriptions(e,{users:t,hasMore:s,sectionName:r}){const n=e.fansBlock[r].users.map((e=>e.id)),a=t.filter((e=>!n.includes(e.id)));e.fansBlock[r].users=[...e.fansBlock[r].users,...a],e.fansBlock[r].hasMore=s},setTopFansSubscriptionsLoading(e,t){e.fansBlock.topFans.loading=t},setFansSubscriptions(e,{users:t,hasMore:s,sectionName:r}){e.fansBlock[r].users=t,e.fansBlock[r].hasMore=s},setFansSubscriptionsLoading(e,t){e.fansBlock.subscriptions.loading=t},setChartFansSubscriptions(e,t){e.fansBlock.subscriptions.chart=t},setChartFansSubscriptionsLoading(e,t){e.fansBlock.subscriptions.chartLoading=t},setStatementsChartsData(e,t){e.statementsBlock.sidebar.charts.data=t},setStatementsChartsDataLoading(e,t){e.statementsBlock.sidebar.charts.loading=t},setChartStatementsPayoutRequests(e,t){t?(e.statementsBlock.payoutRequests.total=t.total,e.statementsBlock.payoutRequests.delta=t.delta,e.statementsBlock.payoutRequests.chart={"Paid out":t.chartAmount,Invoices:t.chartCount}):(e.statementsBlock.payoutRequests.total=0,e.statementsBlock.payoutRequests.delta=0,e.statementsBlock.payoutRequests.chart=null)},setChartStatementsPayoutRequestsLoading(e,t){e.statementsBlock.payoutRequests.chartLoading=t},setStatementsPayoutRequestsStripeLoading(e,t){e.statementsBlock.payoutRequestsStripe.loading=t},setEngagementMessages(e,{items:t,hasMore:s,more:r}){e.engagementBlock.messages.items=r?[...e.engagementBlock.messages.items,...t]:t,e.engagementBlock.messages.hasMore=s},setEngagementMessagesChart(e,t){if(t){const s={},r={};Object.keys(t).map((e=>{s[e]=t[e].chart,r[e]=t[e].total})),e.engagementBlock.messages.total=r,e.engagementBlock.messages.chart=s}else e.engagementBlock.messages.total=null,e.engagementBlock.messages.chart=null},setEngagementMessagesChartLoading(e,t){e.engagementBlock.messages.chartLoading=t},deleteEngagementMassMessage(e,t){e.engagementBlock.messages.items=e.engagementBlock.messages.items.filter((e=>e.id!==t))},setEngagementStreams(e,{items:t,hasMore:s,addMore:r}){e.engagementBlock.streams.hasMore=s,e.engagementBlock.streams.items=r?[...e.engagementBlock.streams.items,...t]:t},setEngagementMessagesLoading(e,t){e.engagementBlock.messages.loading=t},setEngagementStreamsLoading(e,t){e.engagementBlock.streams.loading=t},setStatementsEarningsLoading(e,t){e.statementsBlock.earnings.loading=t},setStatementsEarnings(e,t){e.statementsBlock.earnings.data=t.list,e.statementsBlock.earnings.hasMore=t.hasMore},addStatementsEarnings(e,t){e.statementsBlock.earnings.data=e.statementsBlock.earnings.data.concat(t.list),e.statementsBlock.earnings.hasMore=t.hasMore},setStatementsEarningsMarker(e,t){e.statementsBlock.earnings.marker=t},setStatementsPayoutRequestsLoading(e,t){e.statementsBlock.payoutRequests.loading=t},setStatementsPayoutRequests(e,t){e.statementsBlock.payoutRequests.data=t,e.statementsBlock.payoutRequests.hasMore=Boolean(t.length)&&t.length===r.P9},setStatementsPayoutRequestsStripe(e,t){const{hasMore:s,lastPayoutId:r,list:n,isAdd:a}=t;e.statementsBlock.payoutRequestsStripe.data=a?e.statementsBlock.payoutRequestsStripe.data.concat(n):n,e.statementsBlock.payoutRequestsStripe.lastPayoutId=r,e.statementsBlock.payoutRequestsStripe.hasMore=s},addStatementsPayoutRequests(e,t){e.statementsBlock.payoutRequests.data=e.statementsBlock.payoutRequests.data.concat(t),e.statementsBlock.payoutRequests.hasMore=Boolean(t.length)&&t.length===r.P9},setStatementsPayoutRequestsMarker(e,t){e.statementsBlock.payoutRequests.marker=t},setStatementsDisputesLoading(e,t){e.statementsBlock.disputes.loading=t},setStatementsDisputesChartLoading(e,t){e.statementsBlock.disputes.chartLoading=t},setStatementsDisputesChart(e,t){t?(e.statementsBlock.disputes.total=t.total,e.statementsBlock.disputes.delta=t.delta,e.statementsBlock.disputes.ratio=t.ratio,e.statementsBlock.disputes.chart={"Charged back":t.chartAmount,Disputes:t.chartCount}):(e.statementsBlock.disputes.total=0,e.statementsBlock.disputes.delta=0,e.statementsBlock.disputes.ratio=0,e.statementsBlock.disputes.chart=null)},setStatementsReferralsChartLoading(e,t){e.statementsBlock.referrals.chartLoading=t},setStatementsReferralsChart(e,t){t?(e.statementsBlock.referrals.total=t.total,e.statementsBlock.referrals.delta=t.delta,e.statementsBlock.referrals.chart={Earnings:t.chartAmount,Referrals:t.chartCount}):(e.statementsBlock.referrals.total=0,e.statementsBlock.referrals.delta=0,e.statementsBlock.referrals.chart=null)},setStatementsVatChartLoading(e,t){e.statementsBlock.referrals.chartLoading=t},setStatementsVatChart(e,t){t?(e.statementsBlock.vatDocuments.total=t.total,e.statementsBlock.vatDocuments.delta=t.delta,e.statementsBlock.vatDocuments.chart={"VAT refund":t.chartAmount,Invoices:t.chartCount}):(e.statementsBlock.vatDocuments.total=0,e.statementsBlock.vatDocuments.delta=0,e.statementsBlock.vatDocuments.chart=null)},setStatementsDisputes(e,t){e.statementsBlock.disputes.data=t,e.statementsBlock.disputes.hasMore=Boolean(t.length)&&t.length===r.P9},addStatementsDisputes(e,t){e.statementsBlock.disputes.data=e.statementsBlock.disputes.data.concat(t),e.statementsBlock.disputes.hasMore=Boolean(t.length)&&t.length===r.P9},setStatementsDisputesMarker(e,t){e.statementsBlock.disputes.marker=t},setStatementsReferralsLoading(e,t){e.statementsBlock.referrals.loading=t},setStatementsReferrals(e,t){e.statementsBlock.referrals.data=t,e.statementsBlock.referrals.hasMore=Boolean(t.length)&&t.length===r.P9},setStatementsReferredCreatorsLoading(e,t){e.statementsBlock.referredCreators.loading=t},setStatementsReferredCreators(e,{items:t,hasMore:s,addMore:r}){e.statementsBlock.referredCreators.data=r?[...e.statementsBlock.referredCreators.data,...t]:t,e.statementsBlock.referredCreators.hasMore=s},setStatementsReferredCreatorsMarker(e,t){e.statementsBlock.referredCreators.marker=t},setStatementsReferredUsersLoading(e,t){e.statementsBlock.referredUsers.loading=t},setStatementsReferredUsers(e,{items:t,hasMore:s,addMore:r}){e.statementsBlock.referredUsers.data=r?[...e.statementsBlock.referredUsers.data,...t]:t,e.statementsBlock.referredUsers.hasMore=s},setStatementsReferredUsersMarker(e,t){e.statementsBlock.referredUsers.marker=t},addStatementsReferrals(e,t){e.statementsBlock.referrals.data=e.statementsBlock.referrals.data.concat(t),e.statementsBlock.referrals.hasMore=Boolean(t.length)&&t.length===r.P9},setStatementsReferralsMarker(e,t){e.statementsBlock.referrals.marker=t},setStoryTippers(e,{list:t,more:s}){e.common.storyTippers.list=s?[...e.common.storyTippers.list,...t]:t},setStoryViewers(e,{list:t,more:s}){e.common.storyViewers.list=s?[...e.common.storyViewers.list,...t]:t},setClaims(e,{list:t,more:s}){e.reachBlock.promotionsAndTrialLinks.claimsList.data=s?[...e.reachBlock.promotionsAndTrialLinks.claimsList.data,...t]:t},setOverviewEarningsStatisticsByDateLoading(e,t){e.overviewBlock.statistic.byDateloading=t},setOverviewEarningsStatistics(e,t){e.overviewBlock.statistic.data=t},setOverviewEarningsStatisticsByDate(e,t){e.overviewBlock.statistic.dataByDate=t},setOverviewEarningsStatisticsLoading(e,t){e.overviewBlock.charts.loading=t},setOverviewChartsData(e,t){e.overviewBlock.charts.data=t},setMonthlyTotalStatisticsData(e,t){e.overviewBlock.charts.monthlyTotal=t},setMonthlyTotalStatisticsLoading(e,t){e.overviewBlock.charts.monthlyTotalLoading=t},logout(e){Object.assign(e,ne())}},ce={async fetchStatOverview({commit:e,state:t}){e("setOverviewBlockLoading",!0);const{cancelToken:s,Cancel:n}=(0,r.Yz)("fetchStatOverview"),{endDateFormatted:a,startDateFormatted:i}=t.timePeriod;try{const t=await m({startDate:i,endDate:a,cancelToken:s});return e("setOverviewBlockData",t),e("setOverviewBlockLoading",!1),t}catch(o){if(!(o instanceof n))throw o;return void e("setOverviewBlockLoading",!1)}},async fetchEngagementStreamSummary({commit:e}){e("setEngagementStreamSummaryLoading",!0);const{cancelToken:t,Cancel:s}=(0,r.Yz)("fetchEngagementStreamSummary"),{endDateFormatted:n,startDateFormatted:a}=ae.timePeriod;let i;try{return i=await m({startDate:a,endDate:n,cancelToken:t,fieldBy:"streams"}),i&&i.streams&&e("setEngagementStreamSummary",i.streams),e("setEngagementStreamSummaryLoading",!1),i}catch(o){if(!(o instanceof s))throw o;return e("setEngagementStreamSummaryLoading",!1),i}},async fetchEngagementStoriesSummary({commit:e}){e("setEngagementStoriesSummaryLoading",!0);const{cancelToken:t,Cancel:s}=(0,r.Yz)("fetchEngagementStoriesSummary"),{endDateFormatted:n,startDateFormatted:a}=ae.timePeriod;let i;try{return i=await m({startDate:a,endDate:n,cancelToken:t,fieldBy:"story"}),i&&i.stories&&e("setEngagementStoriesSummary",i.stories),e("setEngagementStoriesSummaryLoading",!1),i}catch(o){if(!(o instanceof s))throw o;return e("setEngagementStoriesSummaryLoading",!1),i}},async fetchEngagementPostsSummary({commit:e}){e("setEngagementPostsSummaryLoading",!0);const{cancelToken:t,Cancel:s}=(0,r.Yz)("fetchEngagementPostsSummary"),{endDateFormatted:n,startDateFormatted:a}=ae.timePeriod;let i;try{return i=await m({startDate:a,endDate:n,cancelToken:t,fieldBy:"posts"}),i&&i.posts&&e("setEngagementPostsSummary",i.posts),e("setEngagementPostsSummaryLoading",!1),i}catch(o){if(!(o instanceof s))throw o;return e("setEngagementPostsSummaryLoading",!1),i}},async fetchReachProfileVisitorsSummary({commit:e}){e("setReachProfileVisitorsSummaryLoading",!0);const{cancelToken:t,Cancel:s}=(0,r.Yz)("fetchReachProfileVisitorsSummary"),{endDateFormatted:n,startDateFormatted:a}=ae.timePeriod;let i;try{return i=await m({startDate:a,endDate:n,cancelToken:t,fieldBy:"visitors"}),i&&i.visitors&&e("setReachProfileVisitorsSummary",i.visitors),e("setReachProfileVisitorsSummaryLoading",!1),i}catch(o){if(!(o instanceof s))throw o;return e("setReachProfileVisitorsSummaryLoading",!1),i}},async fetchReachCampaignsSummary({commit:e}){e("setReachCampaignsSummaryLoading",!0);const{cancelToken:t,Cancel:s}=(0,r.Yz)("fetchReachCampaignsSummary"),{endDateFormatted:n,startDateFormatted:a}=ae.timePeriod;let i;try{i=await m({startDate:a,endDate:n,cancelToken:t,fieldBy:"campaign"}),i&&i.campaigns&&e("setReachCampaignsSummary",i.campaigns)}catch(o){if(!(o instanceof s))throw o}finally{e("setReachCampaignsSummaryLoading",!1)}return i},async fetchReachPromotionsSummary({commit:e}){e("setReachPromotionsSummaryLoading",!0);const{cancelToken:t,Cancel:s}=(0,r.Yz)("fetchReachPromotionsSummary"),{endDateFormatted:n,startDateFormatted:a}=ae.timePeriod;let i;try{return i=await m({startDate:a,endDate:n,cancelToken:t,fieldBy:"promo"}),i&&i.promo&&e("setReachPromotionsSummary",i.promo),e("setReachPromotionsSummaryLoading",!1),i}catch(o){if(!(o instanceof s))throw o;return e("setReachPromotionsSummaryLoading",!1),i}},async fetchFansBlockSummary({commit:e}){e("setFansBlockSummaryLoading",!0);const{cancelToken:t,Cancel:s}=(0,r.Yz)("fetchFansBlockSummary"),{endDateFormatted:n,startDateFormatted:a}=ae.timePeriod;let i;try{return i=await m({startDate:a,endDate:n,cancelToken:t,fieldBy:"fans"}),i&&i.fans&&e("setFansBlockSummary",i.fans),i}catch(o){if(!(o instanceof s))throw o;return i}finally{e("setFansBlockSummaryLoading",!1)}},async fetchProfileStat({commit:e},{limit:t=10,by:s="total"}={}){e("setProfileStatData",void 0),e("setProfileStatLoading",!0);const{startDateFormatted:a,endDateFormatted:i}=ae.timePeriod,{cancelToken:o,Cancel:c}=(0,r.Yz)("fetchProfileStat");try{const r=await n({limit:t,by:s,startDate:a,endDate:i,cancelToken:o});return e("setProfileStatData",r),e("setProfileStatLoading",!1),r}catch(d){if(!(d instanceof c))throw d;return void e("setProfileStatLoading",!1)}},async fetchReachProfileVisitorsChart({commit:e},{by:t="total"}={}){e("setReachProfileVisitorsChartData",void 0),e("setReachProfileVisitorsChartLoading",!0);const{startDateFormatted:s,endDateFormatted:a}=ae.timePeriod,{cancelToken:i,Cancel:o}=(0,r.Yz)("fetchReachProfileVisitorsChart");try{const r=await n({by:t,filter:["chart"],startDate:s,endDate:a,cancelToken:i});return e("setReachProfileVisitorsChartData",r),e("setReachProfileVisitorsChartLoading",!1),r}catch(c){if(!(c instanceof o))throw c;return void e("setReachProfileVisitorsChartLoading",!1)}},async fetchReachTopSources({commit:e},{limit:t=10,by:s="total"}={}){e("setReachTopSourcesData",void 0),e("setReachTopSourcesLoading",!0);const{startDateFormatted:a,endDateFormatted:i}=ae.timePeriod,{cancelToken:o,Cancel:c}=(0,r.Yz)("fetchReachTopSources");try{const r=await n({limit:t,by:s,filter:["topDomains"],startDate:a,endDate:i,cancelToken:o});return e("setReachTopSourcesData",r),e("setReachTopSourcesLoading",!1),r}catch(d){if(!(d instanceof c))throw d;return void e("setReachTopSourcesLoading",!1)}},async fetchReachProfileVisitorsTopCountries({commit:e},{limit:t=10,by:s="total"}={}){e("setReachProfileVisitorsTopCountriesData",void 0),e("setReachProfileVisitorsTopCountriesLoading",!0);const{startDateFormatted:a,endDateFormatted:i}=ae.timePeriod,{cancelToken:o,Cancel:c}=(0,r.Yz)("fetchReachProfileVisitorsTopCountries");try{const r=await n({limit:t,by:s,filter:["topCountries"],startDate:a,endDate:i,cancelToken:o});return e("setReachProfileVisitorsTopCountriesData",r),e("setReachProfileVisitorsTopCountriesLoading",!1),r}catch(d){if(!(d instanceof c))throw d;return void e("setReachProfileVisitorsTopCountriesLoading",!1)}},async fetchPromotions({commit:e},{limit:t=10,offset:s=0}={}){e("setPromotionsLoading",!0);const{startDateFormatted:n,endDateFormatted:i}=ae.timePeriod,{cancelToken:o,Cancel:c}=(0,r.Yz)("fetchPromotions");try{const r=await a({limit:t,offset:s,startDate:n,endDate:i,cancelToken:o});return e("setPromotionsData",r),e("setPromotionsLoading",!1),r}catch(d){if(!(d instanceof c))throw d;return void e("setPromotionsLoading",!1)}},async fetchPromotionsChart({commit:e}){e("setPromotionsChartData",null),e("setPromotionsChartLoading",!0);const{startDateFormatted:t,endDateFormatted:s}=ae.timePeriod,{cancelToken:n,Cancel:a}=(0,r.Yz)("fetchPromotionsChart");try{const r=await i({startDate:t,endDate:s,cancelToken:n});return e("setPromotionsChartData",r),e("setPromotionsChartLoading",!1),r}catch(o){if(!(o instanceof a))throw o;return void e("setPromotionsChartLoading",!1)}},async fetchPostsChart({commit:e},{by:t}){e("setPostsChartData",null),e("setPostsChartDataLoading",!0);const{startDateFormatted:s,endDateFormatted:n}=ae.timePeriod,{cancelToken:a,Cancel:i}=(0,r.Yz)("fetchPostsChart");try{const r=await d({startDate:s,endDate:n,cancelToken:a,withTotal:!0,by:t});return e("setPostsChartData",r),r}catch(o){if(!(o instanceof i))throw o;return}finally{e("setPostsChartDataLoading",!1)}},async fetchStoriesChart({commit:e},{by:t}){e("setStoriesChartData",null),e("setStoriesChartDataLoading",!0);const{startDateFormatted:s,endDateFormatted:n}=ae.timePeriod,{cancelToken:a,Cancel:i}=(0,r.Yz)("fetchStoriesChart");try{const r=await u({startDate:s,endDate:n,cancelToken:a,withTotal:!0,by:t});return e("setStoriesChartData",r),r}catch(o){if(!(o instanceof i))throw o;return}finally{e("setStoriesChartDataLoading",!1)}},async fetchStreamsChart({commit:e},{by:t}){e("setStreamsChartData",null),e("setStreamsChartDataLoading",!0);const{startDateFormatted:s,endDateFormatted:n}=ae.timePeriod,{cancelToken:a,Cancel:i}=(0,r.Yz)("fetchStreamsChart");try{const r=await l({startDate:s,endDate:n,cancelToken:a,withTotal:!0,by:t});return e("setStreamsChartData",r),r}catch(o){if(!(o instanceof i))throw o;return}finally{e("setStreamsChartDataLoading",!1)}},async fetchStartDateModel({commit:e,state:t}){var s;let r;try{r=await(0,G.OL)()}catch(n){console.error(n)}if(null!==(s=r)&&void 0!==s&&s.startDate){e("setStartDateModel",r.startDate);const s=K()(r.startDate),{startDate:n,endDate:a}=t.timePeriod;n&&n.isBefore(s)&&e("setTimePeriod",{startDate:s,endDate:a,type:"day"})}return r},async fetchTopStream({commit:e}){e("setTopStreamLoading",!0);const{startDateFormatted:t,endDateFormatted:s}=ae.timePeriod,{cancelToken:n,Cancel:a}=(0,r.Yz)("fetchTopStream");try{const r=await f({cancelToken:n,startDate:t,endDate:s});return e("setTopStreamData",r),e("setTopStreamLoading",!1),r}catch(i){if(!(i instanceof a))throw i;return void e("setTopStreamLoading",!1)}},async fetchTopStory({commit:e}){e("setTopStoryLoading",!0);const{startDateFormatted:t,endDateFormatted:s}=ae.timePeriod,{cancelToken:n,Cancel:a}=(0,r.Yz)("fetchTopStory");try{const r=await h({cancelToken:n,startDate:t,endDate:s});return e("setTopStoryData",r),e("setTopStoryLoading",!1),r}catch(i){if(!(i instanceof a))throw i;return void e("setTopStoryLoading",!1)}},async fetchTopPosts({commit:e,state:t},s){e("setEngagementPostsLoading",!0),0===s.offset&&(e("setEngagementPostsData",{list:[],more:!1}),e("setEngagementPostsHasMore",!1));const{startDateFormatted:n,endDateFormatted:a}=t.timePeriod,{cancelToken:i,Cancel:o}=(0,r.Yz)("fetchTopPosts");try{const t=await g({cancelToken:i,startDate:n,endDate:a,...s}),r=t.items||[];if(r){const t=(0,H.Fv)(r,z.eI);e("set",t,{root:!0})}return e("setEngagementPostsData",{list:r.map((e=>e.id)),more:!!s.offset}),e("setEngagementPostsHasMore",t.hasMore),e("setEngagementPostsLoading",!1),t}catch(c){if(!(c instanceof o))throw c;return void e("setEngagementPostsLoading",!1)}},async fetchTopPost({commit:e}){e("setTopPostLoading",!0);const{startDateFormatted:t,endDateFormatted:s}=ae.timePeriod,{cancelToken:n,Cancel:a}=(0,r.Yz)("fetchTopPost");try{const r=await p({cancelToken:n,startDate:t,endDate:s}),a=Object.values(r||{}).filter((e=>!!e));if(a){const t=(0,H.Fv)(a,z.eI);e("set",t,{root:!0})}return e("setTopPostData",Object.keys(r).reduce(((e,t)=>(e[t]=r[t]?r[t].id:null,e)),{})),e("setTopPostLoading",!1),r}catch(i){if(!(i instanceof a))throw i;return void e("setTopPostLoading",!1)}},async fetchTopMessage({commit:e}){e("setTopMessageLoading",!0);const{startDateFormatted:t,endDateFormatted:s}=ae.timePeriod,{cancelToken:n,Cancel:a}=(0,r.Yz)("fetchTopMessage");try{const r=await b({cancelToken:n,startDate:t,endDate:s});return e("setTopMessageData",r),e("setTopMessageLoading",!1),r}catch(i){if(e("setTopMessageLoading",!1),!(i instanceof a))throw i;return}},async fetchTopFan({commit:e}){e("setTopFanLoading",!0);const{startDateFormatted:t,endDateFormatted:s}=ae.timePeriod,{cancelToken:n,Cancel:a}=(0,r.Yz)("fetchTopFan");try{const r=await P({cancelToken:n,startDate:t,endDate:s}),a={},i=Object.keys(r).filter((e=>!!r[e])).map((e=>(a[e]=r[e].id,r[e]))),o=(0,H.Fv)(i,z.Xd);return e("setTopFanDataFull",r),e("set",o,{root:!0}),e("setTopFanData",a),e("setTopFanLoading",!1),r}catch(i){if(!(i instanceof a))throw i;return void e("setTopFanLoading",!1)}},async fetchStreamViewers({commit:e},{streamId:t,offset:s=0,limit:r=10,more:n=!1}){e("setStreamViewersLoading",!0);try{const a=await v({streamId:t,limit:r,offset:s});if(a&&a.list){const t=(0,H.Fv)(a.list,z.Xd);e("set",t,{root:!0}),e("setStreamViewers",{list:t.result,more:n}),e("setStreamViewersLoading",!1)}return a}catch(a){return e("setStreamViewersLoading",!1),{}}},async fetchStreamTippers({commit:e},{streamId:t,offset:s=0,limit:r=10,more:n=!1}){try{const a=await w({streamId:t,offset:s,limit:r});if(a&&a.list){const t=(0,H.Fv)(a.list,z.Xd);e("set",t,{root:!0}),e("setStreamTippers",{list:t.result,more:n})}return a}catch(a){return{}}},async fetchStreamStat({commit:e},t){e("setStreamStatLoading",!0);try{const s=await(0,N.a9)({id:t});return e("setStreamStat",s),e("setStreamStatLoading",!1),s}catch(s){return e("setStreamStatLoading",!1),{}}},resetStreamStat({commit:e}){e("setStreamViewers",{list:[],more:!1}),e("resetStreamStat"),e("setStreamViewersLoading",!1),e("setStreamStatLoading",!1)},async fetchPostStat({commit:e},t){e("setPostStatLoading",!0);try{const s=await y(t);return e("setPostStat",s),e("setPostStatLoading",!1),s}catch(s){return e("setPostStatLoading",!1),{}}},resetPostStat({commit:e}){e("resetPostStat"),e("setPostStatLoading",!1)},resetStoryStat({commit:e}){e("resetStoryStat"),e("setStoryStatLoading",!1)},async fetchEngagementsStories({commit:e},{by:t,offset:s=0,addMore:n=!1,limit:a=10}){e("setEngagementsStoriesLoading",!0),n||e("setEngagementsStories",{items:[],addMore:n,hasMore:!1});const{startDateFormatted:i,endDateFormatted:o}=ae.timePeriod,{cancelToken:c,Cancel:d}=(0,r.Yz)("fetchEngagementsStories");let u={items:[],hasMore:!1,addMore:!1};try{u=await C({cancelToken:c,startDate:i,endDate:o,limit:a,offset:s,by:t}),"object"===typeof u&&e("setEngagementsStories",{...u,addMore:n})}catch(l){if(!(l instanceof d))throw l}finally{e("setEngagementsStoriesLoading",!1)}return u},async fetchStoryStat({commit:e},t){e("setStoryStatLoading",!0);try{const s=await S(t);return e("setStoryStat",s),e("setStoryStatLoading",!1),s}catch(s){return e("setStoryStatLoading",!1),{}}},async fetchTopFansSubscriptions({commit:e},{by:t,offset:s}){s||e("setTopFansSubscriptionsLoading",!0);const{startDateFormatted:n,endDateFormatted:a}=ae.timePeriod,{cancelToken:i,Cancel:o}=(0,r.Yz)("fetchTopFansSubscriptions");let c;try{if(c=await k({cancelToken:i,startDate:n,endDate:a,by:t,offset:s}),c){const t=s?"addFansSubscriptions":"setFansSubscriptions";e(t,{...c,sectionName:"topFans"})}}catch(d){if(!(d instanceof o))throw d}finally{s||e("setTopFansSubscriptionsLoading",!1)}return c},async fetchFansSubscriptions({commit:e},{by:t,offset:s}){s||e("setFansSubscriptionsLoading",!0);const{startDateFormatted:n,endDateFormatted:a}=ae.timePeriod,{cancelToken:i,Cancel:o}=(0,r.Yz)("fetchFansSubscriptions");let c;try{if(c=await I({cancelToken:i,startDate:n,endDate:a,by:t,offset:s}),c){const t=s?"addFansSubscriptions":"setFansSubscriptions";e(t,{...c,sectionName:"subscriptions"})}}catch(d){if(!(d instanceof o))throw d}finally{s||e("setFansSubscriptionsLoading",!1)}return c},async fetchChartFansSubscriptions({commit:e},{by:t}){e("setChartFansSubscriptions",null),e("setChartFansSubscriptionsLoading",!0);const{startDateFormatted:s,endDateFormatted:n}=ae.timePeriod,{cancelToken:a,Cancel:i}=(0,r.Yz)("fetchChartFansSubscriptions");let o;try{o=await T({cancelToken:a,startDate:s,endDate:n,by:t}),o&&e("setChartFansSubscriptions",o)}catch(c){if(!(c instanceof i))throw c}finally{e("setChartFansSubscriptionsLoading",!1)}return o},async fetchChartStatementsPayoutRequests({commit:e}){e("setChartStatementsPayoutRequests",null),e("setChartStatementsPayoutRequestsLoading",!0);const{startDateFormatted:t,endDateFormatted:s}=ae.timePeriod,{cancelToken:n,Cancel:a}=(0,r.Yz)("fetchChartStatementsPayoutRequests");let i;try{i=await $({cancelToken:n,startDate:t,endDate:s}),i&&e("setChartStatementsPayoutRequests",i)}catch(o){if(!(o instanceof a))throw o}finally{e("setChartStatementsPayoutRequestsLoading",!1)}return i},async fetchEngagementMassMessages({commit:e},{by:t,offset:s=0}){e("setEngagementMessagesLoading",!0);const{startDateFormatted:n,endDateFormatted:a}=ae.timePeriod,{cancelToken:i,Cancel:o}=(0,r.Yz)("fetchEngagementMassMessages");let c;0===s&&e("setEngagementMessages",{items:[],hasMore:!1,more:!!s});try{c=await L({cancelToken:i,startDate:n,endDate:a,by:t,offset:s}),c&&e("setEngagementMessages",{...c,more:!!s})}catch(d){if(!(d instanceof o))throw d}finally{e("setEngagementMessagesLoading",!1)}return c},async fetchEngagementStreams({commit:e},{by:t,offset:s=0,addMore:n=!1,limit:a=10}){e("setEngagementStreamsLoading",!0),n||e("setEngagementStreams",{items:[],addMore:n,hasMore:!1});const{startDateFormatted:i,endDateFormatted:o}=ae.timePeriod,{cancelToken:c,Cancel:d}=(0,r.Yz)("fetchEngagementStreams");let u={items:[],hasMore:!1,addMore:!1};try{u=await M({cancelToken:c,startDate:i,endDate:o,limit:a,offset:s,by:t}),"object"===typeof u&&e("setEngagementStreams",{...u,addMore:n})}catch(l){if(!(l instanceof d))throw l}finally{e("setEngagementStreamsLoading",!1)}return u},async fetchEngagementMessagesChart({commit:e},{by:t}){e("setEngagementMessagesChartLoading",!0);const{startDateFormatted:s,endDateFormatted:n}=ae.timePeriod,{cancelToken:a,Cancel:i}=(0,r.Yz)("fetchEngagementMessagesChart");try{const r=await _({cancelToken:a,startDate:s,endDate:n,withTotal:!0,by:t});r&&e("setEngagementMessagesChart",r)}catch(o){if(!(o instanceof i))throw o}finally{e("setEngagementMessagesChartLoading",!1)}},async fetchStatementsEarnings({commit:e,state:t},{type:s,tipsSource:n}={}){e("setStatementsEarningsLoading",!0);const{data:a,marker:i}=t.statementsBlock.earnings,{startDateFormatted:o,endDate:c}=t.timePeriod,{cancelToken:d,Cancel:u}=(0,r.Yz)("fetchStatementsEarnings"),l=a&&a.length;let m;try{if(m=await A({marker:l?i:c.unix(),cancelToken:d,startDate:o,limit:r.P9,type:s,tipsSource:n}),m){const t=l?"addStatementsEarnings":"setStatementsEarnings";e(t,m),e("setStatementsEarningsMarker",m.nextMarker)}}catch(h){if(!(h instanceof u))throw h}finally{e("setStatementsEarningsLoading",!1)}return m},async fetchStatementsCharts({commit:e}){e("setStatementsChartsData",null),e("setStatementsChartsDataLoading",!0);const{startDateFormatted:t,endDateFormatted:s}=ae.timePeriod,{cancelToken:n,Cancel:a}=(0,r.Yz)("fetchStatementsCharts");try{const r=await o({startDate:t,endDate:s,cancelToken:n});return e("setStatementsChartsData",r),r}catch(i){if(!(i instanceof a))throw i;return}finally{e("setStatementsChartsDataLoading",!1)}},async fetchStatementsPayoutRequests({commit:e,state:t},s=0){e("setStatementsPayoutRequestsLoading",!0),s||(e("setStatementsPayoutRequests",[]),e("setStatementsPayoutRequestsMarker",null));const{startDateFormatted:n,endDateFormatted:a}=t.timePeriod,{cancelToken:i,Cancel:o}=(0,r.Yz)("fetchStatementsPayoutRequests");let c;try{const{marker:o}=t.statementsBlock.payoutRequests;if(c=await x({offset:s,marker:o,cancelToken:i,startDate:n,endDate:a,limit:r.P9}),c){const t=s?"addStatementsPayoutRequests":"setStatementsPayoutRequests";e(t,c.list),e("setStatementsPayoutRequestsMarker",c.marker)}}catch(d){if(!(d instanceof o))throw d}finally{e("setStatementsPayoutRequestsLoading",!1)}return c},async fetchStatementsPayoutRequestsStripe({commit:e,state:t}){e("setStatementsPayoutRequestsStripeLoading",!0);const{cancelToken:s,Cancel:n}=(0,r.Yz)("fetchStatementsPayoutRequestsStripe");let a;const i={cancelToken:s,limit:r.P9},{lastPayoutId:o}=t.statementsBlock.payoutRequestsStripe;o&&(i.lastPayoutId=o);try{a=await j(i),a&&e("setStatementsPayoutRequestsStripe",{...a,isAdd:Boolean(o)})}catch(c){if(!(c instanceof n))throw c}finally{e("setStatementsPayoutRequestsStripeLoading",!1)}return a},async fetchStatementsDisputes({commit:e,state:t},s=0){e("setStatementsDisputesLoading",!0),s||(e("setStatementsDisputes",[]),e("setStatementsDisputesMarker",null));const{startDateFormatted:n,endDateFormatted:a}=t.timePeriod,{cancelToken:i,Cancel:o}=(0,r.Yz)("fetchStatementsDisputes");let c;try{const{marker:o}=t.statementsBlock.disputes;if(c=await(0,V.K3)({offset:s,marker:o,cancelToken:i,startDate:n,endDate:a,limit:r.P9}),c){const t=s?"addStatementsDisputes":"setStatementsDisputes";e(t,c.list),e("setStatementsDisputesMarker",c.marker)}}catch(d){if(!(d instanceof o))throw d}finally{e("setStatementsDisputesLoading",!1)}return c},async fetchStatementsReferrals({commit:e},t=0){e("setStatementsReferralsLoading",!0),t||(e("setStatementsReferrals",[]),e("setStatementsReferralsMarker",null));const{startDateFormatted:s,endDateFormatted:n}=ae.timePeriod,{cancelToken:a,Cancel:i}=(0,r.Yz)("fetchStatementsReferrals");let o;try{const{marker:i}=ae.statementsBlock.referrals;if(o=await F({marker:i,offset:t,cancelToken:a,startDate:s,endDate:n,limit:r.P9}),o){const s=t?"addStatementsReferrals":"setStatementsReferrals";e(s,o.list),e("setStatementsReferralsMarker",o.marker)}}catch(c){if(!(c instanceof i))throw c}finally{e("setStatementsReferralsLoading",!1)}return o},async fetchStatementsReferredCreators({commit:e},t=0){e("setStatementsReferredCreatorsLoading",!0),t||(e("setStatementsReferrals",[]),e("setStatementsReferralsMarker",null));const{startDateFormatted:s,endDateFormatted:n}=ae.timePeriod,{cancelToken:a,Cancel:i}=(0,r.Yz)("fetchStatementsReferredCreators");let o;try{const{marker:i}=ae.statementsBlock.referredCreators;o=await Z({marker:i,offset:t,cancelToken:a,startDate:s,endDate:n,limit:r.P9,onlyPerformers:1}),o&&(e("setStatementsReferredCreators",{items:o.list,hasMore:o.hasMore,addMore:!!t}),e("setStatementsReferredCreatorsMarker",o.marker))}catch(c){if(!(c instanceof i))throw c}finally{e("setStatementsReferredCreatorsLoading",!1)}return o},async fetchStatementsReferredUsers({commit:e},t=0){e("setStatementsReferredUsersLoading",!0),t||(e("setStatementsReferrals",[]),e("setStatementsReferralsMarker",null));const{startDateFormatted:s,endDateFormatted:n}=ae.timePeriod,{cancelToken:a,Cancel:i}=(0,r.Yz)("fetchStatementsReferredUsers");let o;try{const{marker:i}=ae.statementsBlock.referredUsers;if(o=await Z({marker:i,offset:t,cancelToken:a,startDate:s,endDate:n,limit:r.P9}),o){const s=(0,H.Fv)(o.list,z.Xd);e("set",s,{root:!0}),e("setStatementsReferredUsers",{items:o.list,hasMore:o.hasMore,addMore:!!t}),e("setStatementsReferredUsersMarker",o.marker)}}catch(c){if(!(c instanceof i))throw c}finally{e("setStatementsReferredUsersLoading",!1)}return o},async fetchEngagementMessagesSummary({commit:e}){e("setEngagementMessagesSummaryLoading",!0);const{cancelToken:t,Cancel:s}=(0,r.Yz)("fetchEngagementMessagesSummary"),{endDateFormatted:n,startDateFormatted:a}=ae.timePeriod;let i;try{return i=await m({startDate:a,endDate:n,cancelToken:t,fieldBy:"messages"}),i&&e("setEngagementMessagesSummary",i.massMessages||null),i}catch(o){if(!(o instanceof s))throw o;return i}finally{e("setEngagementMessagesSummaryLoading",!1)}},async fetchStatementsDisputesChart({commit:e,state:t}){e("setStatementsDisputesChartLoading",!0);const{startDateFormatted:s,endDateFormatted:n}=t.timePeriod,{cancelToken:a,Cancel:i}=(0,r.Yz)("fetchStatementsDisputesChart");let o;try{o=await D({cancelToken:a,startDate:s,endDate:n}),o&&e("setStatementsDisputesChart",o)}catch(c){if(!(c instanceof i))throw c}finally{e("setStatementsDisputesChartLoading",!1)}return o},async fetchStatementsReferralsChart({commit:e,state:t}){e("setStatementsReferralsChartLoading",!0);const{startDateFormatted:s,endDateFormatted:n}=t.timePeriod,{cancelToken:a,Cancel:i}=(0,r.Yz)("fetchStatementsReferralsChart");let o;try{o=await E({cancelToken:a,startDate:s,endDate:n}),o&&e("setStatementsReferralsChart",o)}catch(c){if(!(c instanceof i))throw c}finally{e("setStatementsReferralsChartLoading",!1)}return o},async fetchStatementsVatChart({commit:e,state:t}){e("setStatementsVatChartLoading",!0);const{startDateFormatted:s,endDateFormatted:n}=t.timePeriod,{cancelToken:a,Cancel:i}=(0,r.Yz)("fetchStatementsVatChart");let o;try{o=await U({cancelToken:a,startDate:s,endDate:n}),o&&e("setStatementsVatChart",o)}catch(c){if(!(c instanceof i))throw c}finally{e("setStatementsVatChartLoading",!1)}return o},async fetchStoryTippers({commit:e},{storyId:t,offset:s=0,limit:r=10,more:n=!1}){try{const a=await O({storyId:t,offset:s,limit:r});if(a&&a.list){const t=(0,H.Fv)(a.list,z.Xd);e("set",t,{root:!0}),e("setStoryTippers",{list:t.result,more:n})}return a}catch(a){return{}}},async fetchStoryViewers({commit:e},{storyId:t,offset:s=0,limit:r=10,more:n=!1}){try{const a=await R({storyId:t,offset:s,limit:r});if(a&&a.list){const t=(0,H.Fv)(a.list,z.Xd);e("set",t,{root:!0}),e("setStoryViewers",{list:t.result,more:n})}return a}catch(a){return{}}},async fetchClaims({commit:e},{claim:t,offset:s=0,limit:r=10,more:n=!1}){try{const{id:a,kind:i}=t,o=await B({id:a,kind:i,offset:s,limit:r});if(o&&o.length){const t=(0,H.Fv)(o,z.Xd);return e("set",t,{root:!0}),e("setClaims",{list:t.result,more:n}),{list:t.result,hasMore:t.result.length===r}}return o}catch(a){return{}}},async fetchOverviewEarningStatistics({commit:e},{start:t,end:s}={}){let n="fetchOverviewEarningStatistics",a="setOverviewEarningsStatisticsLoading",i="setOverviewEarningsStatistics",o={};(t||s)&&(n="fetchOverviewEarningStatisticsByDate",a="setOverviewEarningsStatisticsByDateLoading",i="setOverviewEarningsStatisticsByDate");const{cancelToken:c,Cancel:d}=(0,r.Yz)(n);e(a,!0);try{const e=await W({start:t,end:s,cancelToken:c});o=e.list}catch(u){if(!(u instanceof d))throw u}return e(i,o),e(a,!1),o},async fetchOverviewStatistics({commit:e},{startDate:t,endDate:s}={}){const{cancelToken:n,Cancel:a}=(0,r.Yz)("fetchOverviewStatistics");e("setOverviewEarningsStatisticsLoading",!0);let i={};try{i=await c({startDate:t,endDate:s,cancelToken:n})}catch(o){if(!(o instanceof a))throw o}return e("setOverviewChartsData",i),e("setOverviewEarningsStatisticsLoading",!1),i},async fetchMonthlyTotalStatistics({commit:e}){const{cancelToken:t,Cancel:s}=(0,r.Yz)("fetchMonthlyTotalStatistics");e("setMonthlyTotalStatisticsLoading",!0);let n={};try{n=await q({cancelToken:t})}catch(a){if(!(a instanceof s))throw a}return e("setMonthlyTotalStatisticsData",n.monthlyTotal),e("setMonthlyTotalStatisticsLoading",!1),n}}},746382:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return P},getters:function(){return y},mutations:function(){return S},state:function(){return g}});var r=s(535937),n=s.n(r),a=s(944908),i=s.n(a),o=s(227361),c=s.n(o),d=s(749832),u=s(410697),l=s(782677),m=s(243168),h=s(172462),f=s(975701);const p=()=>({storyLoadingStatus:{},items:{},userItemIds:{},feedIds:[],archiveIds:[],archiveStoriesLoading:!1,archiveStoriesLoaded:!1,currentStoryId:null,highlightsItems:{},profileHighlights:[],modalHighlights:[],profileHighlightsLoading:!1,profileHighlightsHasMore:!0,profileHighlightsOffset:0,modalHighlightsLoading:!1,modalHighlightsHasMore:!0,modalHighlightsOffset:0,currentHighlights:null,storyBlockedViewers:[],storyAnswers:[],storyAnswersHasMore:!0,storyAnswersLoading:!1}),g=p(),y={myStories:(e,t,s,r)=>e.userItemIds[r["auth/authUserId"]]||[],getUserStories:e=>t=>!!t&&e.userItemIds[t]||[],getStory:e=>t=>!!t&&e.items[t]||{},getHighlights:e=>t=>!!t&&e.highlightsItems[t]||{},feedStories:e=>e.feedIds,archiveStories:e=>e.archiveIds,isAllUserStoriesWatched:e=>t=>(e.userItemIds[t]||[]).every((t=>e.items[t].isWatched)),getStoryLoadingState:e=>t=>e.storyLoadingStatus[t]},S={addStoryToUser(e,{userId:t,storyId:s}){const r=e.userItemIds[t]||[];r.includes(s)||(e.userItemIds=Object.assign({},e.userItemIds,{[t]:[...r,s]}))},addNewStory(e,{story:t}){e.items=Object.assign({},e.items,{[t.id]:t})},updateStoryById(e,{userId:t,storyId:s,fields:r={}}){if(!s||"object"!==typeof r)return;const n=s,a=r.id||s,i=Object.assign({},e.items[a],r),o=e.userItemIds[t]||[];n!==a&&(delete e.items[n],e.userItemIds[t]=o.filter((e=>e!==s)),e.userItemIds[t]=[...e.userItemIds[t],a]),e.items=Object.assign({},e.items,{[a]:i})},removeStory(e,{userId:t,storyId:s}){e.profileHighlights=e.profileHighlights.filter((t=>{const{coverStoryId:r,storiesCount:n}=e.highlightsItems[t];return r!==s||1!==n})),e.modalHighlights=e.modalHighlights.filter((t=>{const{coverStoryId:r,storiesCount:n}=e.highlightsItems[t];return r!==s||1!==n})),e.userItemIds[t]=(e.userItemIds[t]||[]).filter((e=>e!==s)),e.archiveIds=e.archiveIds.filter((e=>e!==s)),e.userItemIds[t].length||(e.feedIds=e.feedIds.filter((e=>e!==t))),e.items=n()(e.items,(({id:e})=>e!==s))},setFeedStories(e,t){e.feedIds=t},setArchiveLoading(e,t){e.archiveStoriesLoading=t},setArchiveLoaded(e,t){e.archiveStoriesLoaded=t},setArchiveStories(e,{stories:t,offset:s}){e.archiveIds=s?[...e.archiveIds,...t]:t},setUserStories(e,{userId:t,stories:s}){const r=(e.userItemIds[t]||[]).filter((e=>"string"===typeof e));e.userItemIds=Object.assign({},e.userItemIds,{[t]:[...s,...r]})},likeStory(e,{id:t,value:s}){e.items[t]={...e.items[t],isLiked:s}},setProfileHighlightsLoading(e,t){e.profileHighlightsLoading=t},setModalHighlightsLoading(e,t){e.modalHighlightsLoading=t},setProfileHighlights(e,{highlights:t=[],hasMore:s=!0,reset:r=!0}){e.profileHighlightsHasMore=s,e.profileHighlights=r?t:i()([...e.profileHighlights,...t])},setModalHighlights(e,{highlights:t=[],hasMore:s=!0,reset:r=!0}){e.modalHighlightsHasMore=s,e.modalHighlights=r?t:i()([...e.modalHighlights,...t])},setProfileHighlightsOffset(e,t){e.profileHighlightsOffset=t},setModalHighlightsOffset(e,t){e.modalHighlightsOffset=t},resetProfileHighlights(e){e.profileHighlights=[],e.profileHighlightsOffset=0,e.profileHighlightsHasMore=!0},resetModalHighlights(e){e.modalHighlights=[],e.modalHighlightsOffset=0,e.modalHighlightsHasMore=!0},addSavedHighlight(e,t){e.profileHighlights=[t,...e.profileHighlights]},setCurrentHighlights(e,t){e.currentHighlights=t},setCurrentStory(e,t){e.currentStoryId=t},setStoryBlockedViewers(e,t){e.storyBlockedViewers=t},setStoryAsWatched(e,{id:t}){"object"===typeof e.items[t]&&(e.items[t]={...e.items[t],isWatched:!0})},removeHighlights(e,t){e.profileHighlights=e.profileHighlights.filter((e=>e!==t))},setStoryAnswersLoading(e,t){e.storyAnswersLoading=t},setStoryAnswers(e,{answers:t,hasMore:s}){e.storyAnswers=[...e.storyAnswers,...t],e.storyAnswersHasMore=s},resetStoryAnswers(e){e.storyAnswers=[],e.storyAnswersHasMore=!0},deleteStoryAnswer(e,t){e.storyAnswers=e.storyAnswers.filter((e=>e.id!==t))},hideUserStories(e,{userId:t}){e.userItemIds[t]=[],e.feedIds=e.feedIds.filter((e=>e!==t)),e.items=e.items.filter((e=>c()(e,"user.id")!==t))},clearArchive(e){e.archiveIds.forEach((t=>{delete e.items[t]}))},updateLoadingStatus(e,{id:t,status:s=Date.now()}){e.storyLoadingStatus=Object.assign({},e.storyLoadingStatus,{[t]:s})},logout(e){Object.assign(e,p())}},P={async fetchFeedStories({commit:e},t={}){const{cancelToken:s,Cancel:r}=(0,f.Yz)("fetchFeedStories");try{const r=await(0,d.EB)(t,s);if(r&&Array.isArray(r)){const t=(0,l.Fv)(r,m.nz),s=t.result.map((e=>t.entities.userStories[e]));e("set",t,{root:!0});const n=s.map((({user:t,stories:s})=>(e("setUserStories",{stories:s,userId:t}),t)));e("setFeedStories",n)}else e("setFeedStories",[]),(0,h.oj)({error:new Error("typeof response is incorrect"),extra:{response:r}})}catch(n){n instanceof r||(0,h.oj)({error:n})}},async fetchUserStories({commit:e},t){e("updateLoadingStatus",{id:t,status:"pending"});try{const s=await(0,d.qn)(t);if(s&&Array.isArray(s)){const r=(0,l.Fv)(s,m.BO);e("set",r,{root:!0}),e("setUserStories",{stories:r.result,userId:t})}else e("setUserStories",{stories:[],userId:t}),(0,h.oj)({error:new Error("typeof response is incorrect"),extra:{response:s}})}catch{e("setUserStories",{stories:[],userId:t})}e("updateLoadingStatus",{id:t})},async fetchMyStories({commit:e,rootGetters:t}){const{id:s}=t["auth/authUser"],{cancelToken:r}=(0,f.Yz)("fetchMyStories");try{const t=await(0,d.Cb)(r);if(t&&Array.isArray(t)){const r=(0,l.Fv)(t,m.BO);e("set",r,{root:!0}),e("setUserStories",{stories:r.result,userId:s})}else e("setUserStories",{stories:[],userId:s}),(0,h.oj)({error:new Error("typeof response is incorrect"),extra:{response:t}})}catch{e("setUserStories",{stories:[],userId:s})}},resetUserStories({commit:e},t){e("setUserStories",{stories:[],userId:t})},resetMyStories({rootGetters:e,dispatch:t}){const{id:s}=e["auth/authUser"];t("resetUserStories",s)},updateStoryById({dispatch:e,commit:t},{storyId:s,userId:r,fields:n}){t("updateStoryById",{storyId:s,userId:r,fields:n}),e("updateUserHasStories",r)},async fetchArchive({commit:e},t=0){e("setArchiveLoading",!0);try{const{list:s,hasMore:r}=await(0,d.WL)(t);if(s&&Array.isArray(s)){const n=(0,l.Fv)(s,m.BO);e("set",n,{root:!0}),e("setArchiveStories",{stories:n.result,offset:t}),e("setArchiveLoaded",!r)}else e("setArchiveLoaded",!0),e("setArchiveStories",{stories:[]})}catch(s){(0,h.oj)({error:s}),e("setArchiveLoaded",!0),e("setArchiveStories",{stories:[]})}e("setArchiveLoading",!1)},resetArchive({commit:e}){e("setArchiveLoaded",!1),e("setArchiveStories",{stories:[],offset:0}),e("setArchiveLoading",!1)},async fetchStoryById({commit:e},t){e("updateLoadingStatus",{id:`story_${t}`,status:"pending"});try{const s=await(0,d.x4)(t),r=(0,l.Fv)(s,m.iT);e("set",r,{root:!0}),e("setCurrentStory",t)}catch(s){e("setCurrentStory",null)}e("updateLoadingStatus",{id:`story_${t}`})},async addUserStoriesOnFeed({state:e,commit:t,dispatch:s},r){s("fetchUserStories",r);const n=e.userItemIds[r]||[];n.length&&t("setFeedStories",[r,...e.feedIds])},addNewStory({commit:e,dispatch:t},{userId:s,story:r}){e("addNewStory",{story:r}),e("addStoryToUser",{userId:s,storyId:r.id}),t("updateUserHasStories",s)},watchStory({commit:e,getters:t},{id:s,userId:r}){e("setStoryAsWatched",{id:s,userId:r});const n=t.isAllUserStoriesWatched(r);n&&e("users/setUserField",{userId:r,field:"hasNotViewedStory",status:!1},{root:!0}),(0,d.xg)(s)},async removeStory({commit:e,dispatch:t},{storyId:s,userId:r}){"number"===typeof s&&await(0,d.gm)(s),e("removeStory",{storyId:s,userId:r}),t("updateUserHasStories",r)},updateUserHasStories({commit:e,state:t},s){const r=t.userItemIds[s]||[],n=r.filter((e=>t.items[e].isReady)),a=!!n.length,i=n.some((e=>!t.items[e].isWatched)),o=!!i.length;e("users/setUserField",{userId:s,field:"hasStories",status:a},{root:!0}),e("users/setUserField",{userId:s,field:"hasNotViewedStory",status:o},{root:!0})},async like({commit:e},{id:t}){try{e("likeStory",{id:t,value:!0});const s=await(0,d.ON)(t);s&&s.success&&e("likeStory",{id:t,value:s.isLiked})}catch(s){(0,h.Po)(s)}},async unlike({commit:e},{id:t}){try{e("likeStory",{id:t,value:!1});const s=await(0,d.Af)(t);s&&s.success&&e("likeStory",{id:t,value:s.isLiked})}catch(s){(0,h.Po)(s)}},async comment(e,{id:t,userId:s,text:r}){let n;try{n=await(0,u.bG)(s,{text:r,storyId:t})}catch(a){(0,h.Po)(a)}return n},async saveHighlights({commit:e},t){const s=!!t.id,r=s?d.sd:d.wJ,n=await r(t),a=(0,l.Fv)(n,m.Vc);e("set",a,{root:!0}),s||e("addSavedHighlight",a.result)},patchHighlight(e,{highlightId:t,storyIds:s}){(0,d.UU)(t,{storyIds:s})},async fetchUserHighlights({state:e,commit:t},{userId:s,additive:r=!1,storyIdToCheck:n=null,place:a="profile"}){const i="profile"===a?"setProfileHighlights":"setModalHighlights",o="profile"===a?"setProfileHighlightsLoading":"setModalHighlightsLoading",c="profile"===a?"setProfileHighlightsOffset":"setModalHighlightsOffset",u="profile"===a?e.profileHighlightsHasMore:e.modalHighlightsHasMore,h=5;if(r&&!u)return;r||(t(c,0),t(i,{highlights:[],hasMore:!0,reset:!0})),t(o,!0);let f=0;r&&(f="profile"===a?e.profileHighlightsOffset:e.modalHighlightsOffset);try{const e=await(0,d.IA)({userId:s,offset:f,limit:h,storyIdToCheck:n}),{list:a,hasMore:o}=e,u=(0,l.Fv)(a,m.JJ);t("set",u,{root:!0});const p=u.result;t(i,{highlights:p,hasMore:o,reset:!r}),t(c,o?f+h:0)}catch(p){t(i,{highlights:[],hasMore:!1,reset:!0}),t(c,0)}t(o,!1)},async fetchHighlightsById({commit:e},t){e("setCurrentHighlights",null);const{cancelToken:s}=(0,f.Yz)("fetchHighlightsById");e("updateLoadingStatus",{id:`highlights_${t}`,status:"pending"});try{const r=await(0,d.Bd)(t,s);if(r){const t=(0,l.Fv)(r,m.Vc);e("set",t,{root:!0}),e("setCurrentHighlights",t.result)}else(0,h.oj)({error:new Error("typeof response is incorrect"),extra:{response:r}})}catch(r){}e("updateLoadingStatus",{id:`highlights_${t}`})},async removeHighlights({commit:e},t){await(0,d.d_)(t),e("removeHighlights",t),e("updateHighlightsOffset",0)},resetCurrentHighlights({commit:e}){e("setCurrentHighlights",null)},resetStoryAnswers({commit:e}){e("resetStoryAnswers"),e("setStoryAnswersLoading",!1)},async fetchStoryAnswers({dispatch:e,commit:t},s){const{storyId:r,offset:n,limit:a}=s;t("setStoryAnswersLoading",!0);let i={};try{const{cancelToken:e}=(0,f.Yz)("fetchStoryAnswers");i=await(0,d.ix)({storyId:r,offset:n,limit:a,cancelToken:e})}catch(o){}return i&&"object"===typeof i&&i.list&&i.list.length&&(await e("users/getUsersIfNeeded",{entities:{users:i.list.reduce(((e,{userId:t})=>({...e,[t]:{_views:["m"]}})),{})}},{root:!0}),t("setStoryAnswers",{answers:i.list,hasMore:i.hasMore})),t("setStoryAnswersLoading",!1),i},async fetchStoryBlockedViewers({commit:e}){e("setStoryBlockedViewers",[]);try{const t=await(0,d.ke)();if(t&&"object"===typeof t&&t.length){const s=(0,l.Fv)(t,m.C_);e("set",s,{root:!0}),e("setStoryBlockedViewers",s.result)}}catch(t){}},async sendAnswer(e,{storyId:t,text:s}){try{return await(0,d.j6)(t,s),{status:!0}}catch(r){return{status:!1,errorText:c()(r,"data.error.message")}}},async deleteStoryAnswer({commit:e},t){try{const s=await(0,d.ZO)(t);s&&!s.err&&e("deleteStoryAnswer",t)}catch(s){}},reportStory({state:e,dispatch:t,commit:s},r){const{userId:n}=e.items[r];s("removeStory",{storyId:r,userId:n}),t("updateUserHasStories",n)},async createStory(e,t){const s=await(0,d.DZ)(t),{result:r,entities:n}=(0,l.Fv)(s,m.iT),a=n.stories[r];return a},storySocketUpdate({dispatch:e,commit:t,getters:s,rootGetters:r},n={}){const a=r["auth/authUserId"],{id:i,userId:o,isReady:c,expiredAt:d}=n;if(!c)return;const u=(0,l.Fv)(n,m.iT);if(o!==a)t("stories/addStoryToUser",{userId:o,storyId:i},{root:!0}),t("set",u,{root:!0});else{const r=u.entities.stories[u.result],n=s.getStory(i);r.src&&n.src&&r.src!==n.src&&r.src.split("?")[0]===n.src.split("?")[0]&&(u.entities.stories[u.result].src=n.src),t("set",u,{root:!0}),d&&t("stories/addStoryToUser",{userId:o,storyId:i},{root:!0}),e("updateUserHasStories",o)}}}},982049:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return b},getters:function(){return v},mutations:function(){return w},state:function(){return P}});var r=s(227361),n=s.n(r),a=s(170735),i=s.n(a),o=s(291966),c=s.n(o),d=s(114494),u=s(782677),l=s(243168),m=s(849491),h=s(872308),f=s(181528);const p=!0,g=(e,t)=>{e.users={...e.users,[t.id]:{...e.users[t.id],...t}}},y=()=>({type:"",stream:{id:0,thumbUrl:"",startedAt:"",description:"",rawDescription:"",isShowTips:!1,tipsSumm:0,isOpened:!1,commentsCount:0},user:{id:0,name:"",username:"",displayName:null,isVerified:!1,tipsEnabled:!1,subscribedBy:!1,canEarn:!1,isPerformer:!1,avatar:null,avatarThumbs:null},timer:"0:00",streamState:"beforeStart",videoPlaying:!1,volume:1,muted:!1,covers:{items:[],selectedCover:{},successDownloaded:!1},stretchVideo:!1,comments:[],isWaiting:!1,tipGoal:{isShowTipGoal:!1,sum:null,progress:0,description:"",showTipGoalProgress:!1},streamType:h.eU.defaultStreamType,showTapToPlay:!1,videoLoaded:!1}),S=()=>({mode:"",local:{stream:{id:0,description:"",rawDescription:"",tipsSumm:0,isShowTips:!1,commentsCount:0},user:{id:0,name:"",username:"",displayName:null,isVerified:!1,tipsEnabled:!1,canEarn:!1,isPerformer:!1,avatar:null,avatarThumbs:null},start:0,duration:"0:00",timer:"0:00",streamState:"beforeStart",moduleInitialized:!1,availableStreamingServersRequestReceived:!1,covers:{items:[],selectedCover:{},successDownloaded:!1},stretchVideo:!1,tipGoal:{isShowTipGoal:!1,sum:null,progress:0,description:"",showTipGoalProgress:!1}},partners:{},primaryPartnerUserId:0,streamsOrder:[],users:{},comments:{ids:[],items:{}},hasMoreComments:!1,tippers:{},bestTipperId:void 0,likes:[],viewers:{ids:[],hasMore:!1,loading:!1},privateCommentUser:null,summary:{online:[],viewers:0,comments:0,likes:0,tips:0},streamingChatEnabled:!1,switchToLive:!1,switchFromLive:!1,switchFromDual:!1,UI:{showCommentForm:!1,showComments:!1,showStreamingViewers:!1,showStreamingActions:!1,showStreamingSummary:!1,commentsViewMode:"compact",hasUnreadComments:!1,showStreamingSystemStats:!1,endReason:"end",showStreamInformation:!1,showStreamDescription:!1,buttonsPanel:{showOrientationLabel:!0,showStartStreamBtn:!0,startStreamBtnDisabled:!0,showMicSwitchBtn:!0,micSwitchBtnDisabled:!0,showCameraSwitchBtn:!0,cameraSwitchBtnDisabled:!0},showTipGoalModal:!1,showStreamPriceModal:!1,streamingViewersMode:"viewers",showStreamInformationModal:!1,showVolumeControlsModal:!1,showViewControlsModal:!1,showShowTipsToggleBtn:!1,commentInputFocused:!1,streamDescriptionFocused:!1,viewMode:"grid",showServiceProblem:!1,showStreamingAvailabilityModal:!1,showServerMaintenance:!1,showReconnectingStatus:!1},mediaDevices:{isMicrophoneMuted:!1,selectedMicrophone:{},defaultMicrophone:{},microphoneList:[],selectedCamera:{},cameraList:[],cameraFacingMode:""},sentryLog:{getApiUrlRequest:{},getApiUrlResponse:{},startStreamRequested:!1,startStreamReceived:!1,onStreamStart:!1,roomName:null,streamId:null,user:null,detailedSpeedResult:null,failoverAttempts:[]},streamSystemStats:{bitrate:[]},streamPrice:{price:0},tcpTestResults:void 0,streamType:h.eU.defaultStreamType,failoverStarted:!1,primaryFailoverStreamTypes:["webrtc","tcp"],secondaryFailoverStreamTypes:["nano"],failoverOrderedServers:[],availability:{includeListIds:[],excludeListIds:[],subscribersIds:[],scheduledSubscribedOn:"",usersCount:null},hasActiveStream:!1,hasActiveRtmpStream:!1,serverMaintenanceAt:null,failoverMode:!0}),P=S(),v={streams(e){return Object.assign({},{[e.local.user.id]:e.local},e.partners)},partnersIds:e=>Object.keys(e.partners).map(Number),partnersArray:(e,t)=>t.partnersIds.map((t=>e.partners[t])),primaryPartner:e=>e.partners[e.primaryPartnerUserId],primary:(e,t)=>t.isStreamer?e.local:t.primaryPartner,partner:(e,t)=>t.partnersArray[0],partner2(e,t){return t.partnersArray[1]},partner3(e,t){return t.partnersArray[2]},isStreamer:e=>!e.primaryPartnerUserId||e.local.user.id==e.primaryPartnerUserId,isCoStreamer:(e,t)=>!t.isStreamer,anyPartnerIsLive:(e,t)=>t.partnersArray.some((e=>"started"===e.streamState)),streamDuration:e=>e.local.duration,tipGoal:e=>e.local.tipGoal,tipGoalVisible:e=>e.local.tipGoal.sum>0,streamPriceVisible:e=>e.streamPrice.price>0,timer(e,t){return t.isStreamer?e.local.timer:t.primaryPartner.timer}},w={setMode(e,t){e.mode=t},setLocal(e,t){e.local={...e.local,...t}},setLocalStream(e,t){e.local.stream={...e.local.stream,...t}},setLocalStreamUser(e,t){const s={id:t.id,name:t.name,username:t.username,displayName:t.displayName,isVerified:t.isVerified,tipsEnabled:t.tipsEnabled,subscribedBy:t.subscribedBy,canEarn:t.canEarn,isPerformer:t.isPerformer,avatar:t.avatar,avatarThumbs:t.avatarThumbs};e.local.user={...e.local.user,...s}},setStreamCovers(e,{data:t,instance:s}){e.local.user.id==s?e.local.covers=Object.assign(e.local.covers,t):e.partners[s].covers=Object.assign(e.partners[s].covers,t)},setPartnerUser(e,{user:t,instance:s}){const r={id:t.id,name:t.name,username:t.username,displayName:t.displayName,isVerified:t.isVerified,tipsEnabled:t.tipsEnabled,subscribedBy:t.subscribedBy,canEarn:t.canEarn,isPerformer:t.isPerformer,avatar:t.avatar,avatarThumbs:t.avatarThumbs};e.partners[s]||d.ZP.$set(e.partners,s,y()),e.partners[s].user={...e.partners[s].user,...r}},setPartnerStream(e,{stream:t,instance:s}){t&&e.partners[s]&&(e.partners[s].stream={...e.partners[s].stream,...t})},setPartner(e,{data:t,instance:s}){t&&e.partners[s]&&(e.partners[s]={...e.partners[s],...t})},removePartner(e,t){e.partners[t]&&d.ZP.$delete(e.partners,t)},setPrimaryPartnerUserId(e,t){t&&(e.primaryPartnerUserId=t)},setPartnerStreamVolume(e,{volume:t,instance:s}){e.partners[s].volume=t},setPartnerStreamMuted(e,{muted:t,instance:s}){e.partners[s].muted=t},setPartnerTipGoal(e,{data:t,instance:s}){e.partners[s].tipGoal={...e.partners[s].tipGoal,...t}},setUsers(e,t){e.users=t},updateStreamHelpers(e,t){e.users=Object.keys(e.users).map((s=>({...e.users[s],isStreamHelper:t.includes(+s)}))).reduce(((e,t)=>({...e,[t.id]:t})),{})},setSummary(e,t){e.summary={...e.summary,...t}},setComments(e,t){e.comments.ids=[...t.ids],e.comments.items={...t.items}},addComment(e,t){const{id:s,text:r,user:{id:n,hasStreamTips:a=!1,hasTopStreamTips:i=!1},isPrivate:o=!1,isServiceMessage:c=!1}=t;n&&(e.tippers={...e.tippers,[n]:a}),i&&(e.bestTipperId=n),g(e,t.user),e.comments.items={...e.comments.items,[t.id]:{id:s,text:r,userId:n,isPrivate:o,isServiceMessage:c}},e.comments.ids=[...e.comments.ids,t.id]},addComments(e,t){[...t||[]].forEach((t=>{void 0===e.tippers[t.user.id]&&t.user.hasStreamTips&&(e.tippers[t.user.id]=t.user.hasStreamTips),!e.bestTipperId&&t.user.hasTopStreamTips&&(e.bestTipperId=t.user.id),e.comments.items[t.comment_id]={id:t.comment_id,text:t.comment,userId:t.user.id,isPrivate:!1},e.users[t.user.id]||g(e,t.user),e.comments.ids=[t.comment_id,...e.comments.ids]}))},removeComment(e,t){t&&(e.comments.ids=e.comments.ids.filter((e=>e!=t)),delete e.comments.items[t])},addTips(e,t){e.summary.tips+=t},addLike(e,t){t.id=e.summary.likes;const s=[e.local.user.id,...Object.keys(e.partners)];s.find((e=>e==t.streamUserId))&&(e.likes=[...e.likes,t],e.local.user.id==t.streamUserId&&(e.summary.likes+=1))},removeLike(e,t){e.likes=e.likes.filter((e=>e.id!==t.id))},incrementViewersCount(e,t){e.summary.viewers+=t},decrementViewersCount(e,t){e.summary.viewers-=t},setViewersCount(e,t){e.summary.viewers=t},addViewer(e,t){g(e,t),e.viewers.ids=[...e.viewers.ids,+t.id]},addViewers(e,t){const s=[];e.users={...e.users,...t.reduce(((e,t)=>(s.push(+t.id),{...e,[t.id]:t})),{})},e.viewers.ids=[...e.viewers.ids,...s]},removeViewer(e,t){e.viewers.ids=e.viewers.ids.filter((e=>e!=t.id))},setViewers(e,t){e.viewers={...e.viewers,...t}},clearViewers(e){e.viewers.ids=[],e.viewers.hasMore=!1,e.viewers.loading=!1},setStreamingChatEnabled(e,t){e.streamingChatEnabled=t},setUI(e,t){e.UI={...e.UI,...t}},setUIButtonsPanel(e,t){e.UI.buttonsPanel={...e.UI.buttonsPanel,...t}},setDefaultPartnerUserStreamState(e,t){e.partners[t]={...e.partners[t],...y()}},setDefaultState(e){Object.assign(e,S())},setSwitchToLive(e,t){e.switchToLive=t},setSwitchFromLive(e,t){e.switchFromLive=t},setSwitchFromDual(e,t){e.switchFromDual=t},setMediaDevices(e,t){e.mediaDevices={...e.mediaDevices,...t}},setSentryLog(e,{key:t,value:s}){t&&(e.sentryLog[t]=s)},setStreamSystemStats(e,t){e.streamSystemStats={...e.streamSystemStats,...t}},setTipGoal(e,t){e.local.tipGoal={...e.local.tipGoal,...t}},setStreamPrice(e,t){e.streamPrice={...e.streamPrice,...t}},setPrivateCommentUser(e,t){e.privateCommentUser=t?{...t}:null},setStreamsOrder(e,t){e.streamsOrder=[...t]},removeStreamsOrder(e,t){e.streamsOrder=e.streamsOrder.filter((e=>e!=t))},setStreamType(e,t){e.streamType=t},setTcpTestResults(e,t){p||(e.tcpTestResults=t)},setAvailability(e,{includeListIds:t=[],excludeListIds:s=[],subscribersIds:r=[],scheduledSubscribedOn:n="",usersCount:a=null}){e.availability.includeListIds=t,e.availability.excludeListIds=s,e.availability.subscribersIds=r,e.availability.scheduledSubscribedOn=n,e.availability.usersCount=a},setHasActiveStream(e,t){e.hasActiveStream=t},setHasActiveRtmpStream(e,t){e.hasActiveRtmpStream=t},setHasMoreComments(e,t){e.hasMoreComments=t},setServerMaintenanceAt(e,t){e.serverMaintenanceAt=t},setFailoverMode(e,t){e.failoverMode=t},setFailoverStarted(e,t){e.failoverStarted=t},pushFailoverOrderedServer(e,t){e.failoverOrderedServers.push(t)},shiftFailoverOrderedServer(e){e.failoverOrderedServers.shift()},logout(e){Object.assign(e,S())}},b={async createStreamModule({state:e}){await(0,h.cc)(e.streamType)},async createViewModules({state:e}){await Promise.all(Object.keys(e.partners).map(h.k2))},destroy({state:e,commit:t,dispatch:s}){(0,h.cT)(),e.switchToLive||(s("destroyAllPartnersStreams"),delete window.viewModule),t("setDefaultState")},destroyAllPartnersStreams({state:e,dispatch:t}){Object.keys(e.partners).forEach((e=>{t("destroyPartnerStream",e)}))},destroyPartnerStream({state:e,dispatch:t},s){e.partners[s]&&((0,h.D5)({instance:s}),t("removePartner",s))},removePartner({state:e,commit:t},s){t("removeStreamsOrder",s),e.partners[s]&&t("removePartner",s)},stopAllPartnersStreams({state:e}){Object.keys(e.partners).forEach((e=>{(0,h.Pe)(e,"stopCostreams")}))},addComment({state:e,commit:t},s){t("addComment",s),t("setSummary",{comments:e.summary.comments+1})},addTips({state:e,commit:t,rootGetters:s},r){const n={[e.local.user.id]:{id:e.local.user.id,name:(0,f.HZ)(e.local.user.name||e.local.user.username)}};if("dual-streaming"===e.mode){const t=e.partners[r.stream_user_id];t&&(n[t.user.id]=t.user)}const a=n[r.stream_user_id];if(!a)return;const i=(0,h.b$)({vm:d.ZP,authUser:s["auth/authUser"],fromUser:r.from_user,toUser:a,amount:r.amount_human,message:r.message}),o={id:r.id,text:i,user:r.from_user,isServiceMessage:!0};t("addComment",o);const c=+parseFloat(r.amount).toFixed(2);e.local.user.id==a.id?t("addTips",c):t("setPartnerStream",{instance:a.id,stream:{tipsSumm:c}})},joinUser({state:e,getters:t,commit:s},r){if(s("addViewer",r),"dual-streaming"===e.mode&&t.isCoStreamer&&Object.keys(e.partners).includes(r.id))return;if(e.summary.viewers>20)return;const n={id:`${r.id}_${(new Date).getTime()}`,user:r,text:d.ZP.$t("message.has_joined_stream_comment"),isServiceMessage:!0};s("addComment",n),setTimeout((()=>{s("removeComment",n.id)}),6e4)},leaveUser({commit:e},t){e("removeViewer",t)},async addLike({commit:e},t){e("addLike",t)},async removeLike({commit:e},t){e("removeLike",t)},addSubscribedComment({commit:e},t){const s={id:`${t.id}_${(new Date).getTime()}`,user:t,text:d.ZP.$t("message.streaming_user_subscribed"),isServiceMessage:!0};e("addComment",s),setTimeout((()=>{e("removeComment",s.id)}),6e4)},enableStreamingChat({commit:e,dispatch:t},s){e("setStreamingChatEnabled",!0),e("setLocal",{streamState:"started"}),e("setLocalStream",{id:s.id}),t("setStreamData",s)},disableStreamingChat({commit:e}){e("setUI",{showStreamingSummary:!0}),e("setLocal",{streamState:"ended"})},setStreamData({state:e,getters:t,commit:s,dispatch:r},n={}){if("started"!==e.local.streamState)return;s("setLocalStream",{description:n.description,rawDescription:n.rawDescription,tipsSumm:+parseFloat(n.tipsSumm).toFixed(2),isShowTips:!!+n.isShowTips,commentsCount:+n.commentsCount}),s("setSummary",{comments:e.local.stream.commentsCount}),e.summary.comments>e.comments.length&&s("setHasMoreComments",!0),s("setLocalStreamUser",n.user);const a={isShowTipGoal:!!+n.isShowTipsGoal,sum:+n.tipsGoalSum,progress:+n.tipsGoalProgress,description:n.tipsGoal};s("setTipGoal",a);const o=n.partners||[],c=i()(t.partnersArray,o,(e=>e.user.id));c.forEach((e=>{r("destroyPartnerStream",e.user.id)})),o.forEach((e=>{const t=n.primaryPartnerUserId==e.user.id?"primary":"partner";r("setPartnerUserStreamData",{instance:e.user.id,streamData:e,partnerType:t})})),r("refreshStreamsOrder"),s("setPrimaryPartnerUserId",n.primaryPartnerUserId),o.length?s("setMode","dual-streaming"):(s("setMode","streaming"),s("setSwitchFromDual",!0))},setPartnerUserStreamData({commit:e},{streamData:t,instance:s,partnerType:r="partner",applyTips:n=!1}){if(!t||!s)return;if(t.user.id!=s)return;const a=(0,u.Fv)({...t.user},l.IK);if(e("set",a,{root:!0}),e("setPartnerUser",{user:t.user,instance:s}),e("setPartner",{data:{type:r},instance:s}),e("setPartnerStream",{stream:{id:t.id,thumbUrl:t.thumbUrl,startedAt:t.startedAt,canJoin:t.canJoin,description:t.description,rawDescription:t.rawDescription,isOpened:!!+t.isOpened,commentsCount:+t.commentsCount},instance:s}),"primary"===r&&(e("setSummary",{comments:P.partners[s].stream.commentsCount}),P.summary.comments>P.comments.length&&e("setHasMoreComments",!0)),n){e("setPartnerStream",{stream:{isShowTips:!!+t.isShowTips,tipsSumm:+parseFloat(t.tipsSumm).toFixed(2)},instance:s});const r={isShowTipGoal:!!+t.isShowTipsGoal,sum:+t.tipsGoalSum,progress:+t.tipsGoalProgress,description:t.tipsGoal};e("setPartnerTipGoal",{data:r,instance:s})}},addPartner({commit:e},{partner:t,type:s}){e("setPartnerUser",{user:t.user,instance:t.user.id}),e("setPartnerStream",{stream:t.stream,instance:t.user.id}),e("setPartner",{data:{type:s,streamState:t.streamState,videoPlaying:t.videoPlaying,stretchVideo:t.stretchVideo},instance:t.user.id}),e("setPartnerStreamVolume",{volume:t.volume,instance:t.user.id}),e("setPartnerStreamMuted",{muted:t.muted,instance:t.user.id}),e("setPartnerTipGoal",{data:{isShowTipGoal:t.tipGoal.isShowTipGoal,sum:t.tipGoal.sum,progress:t.tipGoal.progress,description:t.tipGoal.description,showTipGoalProgress:t.tipGoal.showTipGoalProgress},instance:t.user.id})},doSwitchFromLive({rootGetters:e,commit:t,dispatch:s},{livePrimary:r,partners:n,comments:a,users:i,UI:o,streamType:c}){const d=e["auth/authUser"];t("setLocalStreamUser",d),t("setStreamType",c),s("addPartner",{partner:r,type:"primary"}),t("setPrimaryPartnerUserId",r.user.id),n.forEach((e=>{s("addPartner",{partner:e,type:"partner"})})),s("refreshStreamsOrder"),t("setUsers",i),t("setComments",a),t("setUI",o),t("setSwitchFromLive",!0)},toggleCommentsViewMode({state:e,commit:t}){const s="full"===e.UI.commentsViewMode?"compact":"full";t("setUI",{commentsViewMode:s})},showStreamingViewersModal({commit:e},t){t&&e("setUI",{streamingViewersMode:t}),e("setUI",{showStreamingViewers:!0})},setAllShowTipGoalProgress({getters:e,commit:t},s){t("setTipGoal",{showTipGoalProgress:s}),e.partnersIds.forEach((e=>{t("setPartnerTipGoal",{data:{showTipGoalProgress:s},instance:e})}))},refreshStreamsOrder({state:e,getters:t,commit:s}){const r=[e.local.user.id,...t.partnersIds],n=c()(e.streamsOrder,r),a=c()(r,e.streamsOrder);if(n||a){const t=[...e.streamsOrder.filter((e=>!n.includes(e))),...a];s("setStreamsOrder",t)}},async checkActiveStream({commit:e}){try{const t=await(0,m.ml)();e("setHasActiveStream",!!t.hasActive)}catch{e("setHasActiveStream",!1)}},async checkActiveRtmpStream({commit:e}){const t=await(0,m.Km)({skip_users:"all"}),s=t.filter((e=>e.isActive));if(s.length){const t=s[0];e("setHasActiveStream",!0),e("setHasActiveRtmpStream","obs"===t.streamingPlatform)}else e("setHasActiveStream",!1),e("setHasActiveRtmpStream",!1)},async loadMoreComments({state:e,commit:t}){const s=await(0,m.W7)(e.local.stream.id,{id:e.comments.ids.length?e.comments.ids[0]:void 0,limit:20});t("addComments",s.list),t("setHasMoreComments",s.hasMore)},async updateStreamInformation({state:e,commit:t},s){const r=await(0,m.jI)({streamId:e.local.stream.id,data:s});t("setLocalStream",{description:r.description,rawDescription:r.rawDescription,isShowTips:r.isShowTips})},async fetchStreamViewers({state:e,commit:t},{more:s=!1,query:r=""}){try{s||t("clearViewers");const a=e.viewers.ids.length;t("setViewers",{loading:!0});const i=await(0,m.ip)({streamId:e.local.stream.id,offset:a,query:r});n()(i,"list.length",0)&&(t("addViewers",i.list),t("setViewers",{hasMore:i.hasMore}))}catch(a){}finally{t("setViewers",{loading:!1})}}}},966312:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return v},getters:function(){return S},mutations:function(){return P},state:function(){return y}});var r=s(957557),n=s.n(r),a=s(875472),i=s.n(a),o=s(393386),c=s.n(o),d=s(291966),u=s.n(d),l=s(782677),m=s(243168),h=s(629857),f=s(849491),p=s(975701);const g=()=>({items:{},itemIds:[]}),y=g(),S={streams(e){return i()(e.itemIds,null,"desc").map((t=>e.items[t]))},streamsByUserId(e){return i()(e.itemIds,null,"desc").reduce(((t,s)=>({...t,[e.items[s].user]:e.items[s]})),{})}},P={setItemIds(e,t){e.itemIds=[...t]},removeItems(e,{ids:t}){if(t&&t.length){const s=u()(e.itemIds,t);e.itemIds=[...s]}else e.itemIds=[]},updateItem(e,t){e.items[t.id]&&(e.items={...e.items,[t.id]:{...e.items[t.id],...t}})},removeItem(e,t){e.items=n()(e.items,t),e.itemIds=e.itemIds.filter((e=>e!==t))},logout(e){Object.assign(e,g())}},v={fetchStreamsFeed:async({commit:e,dispatch:t},s={})=>{let r;const{cancelToken:n}=(0,p.Yz)("fetchStreamsFeed");try{s.skip_users="all",r=await(0,h.xf)(s,n)}catch(a){}if(r)if(r.list&&r.list.length){const s=(0,l.Fv)(r.list,m.Ro);await t("users/getUsersIfNeeded",s,{root:!0}),e("set",s,{root:!0});const n=s.result;e("setItemIds",n)}else e("setItemIds",[])},async fetchUserStream({commit:e},t){let s;try{s=await(0,f.UD)(t)}catch(r){}if(s){const t=(0,l.Fv)([s],m.Ro);e("set",t,{root:!0});const r=t.result;e("setItemIds",c()(y.itemIds,r));const n=(0,l.Fv)(s.user,m.IK);e("set",n,{root:!0})}},async removeStreamFromFeed({state:e,commit:t},{userId:s}){const r=e.itemIds.map((t=>e.items[t])).filter((e=>e.user==s)).map((e=>e.id));t("removeItems",{ids:r});const n=e.itemIds.map((t=>e.items[t])).filter((e=>e.partners.some((e=>e.user.id==s)))).map((e=>e.user)),a=async()=>Promise.all(n.map((e=>(0,f.UD)(e)))),i=await a();if(i){const s=(0,l.Fv)(i,m.Ro);t("set",s,{root:!0});const r=s.result;t("setItemIds",c()(e.itemIds,r))}}}},269186:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return u},getters:function(){return c},mutations:function(){return d},state:function(){return o}});var r=s(999023),n=s(782677),a=s(243168);const i=()=>({userId:null,items:{},itemsIds:[],offset:0,limit:8,hasMore:!1}),o=i(),c={pastStreams(e){return e.itemsIds.map((t=>e.items[t]))}},d={setUserId(e,t){e.userId!==t&&(e.offset=0,e.itemsIds=[],e.items={}),e.userId=t},setStreams(e,t){t?(e.hasMore=t.hasMore,e.hasMore&&(e.offset+=e.limit),t.list.forEach((t=>{e.items[t.id]||e.itemsIds.push(t.id),e.items[t.id]=t}))):e.hasMore=!1},logout(e){Object.assign(e,i())}},u={fetchPastStreams:async({commit:e,state:t,dispatch:s},i)=>{let o;e("setUserId",i);try{o=await(0,r.Op)({userId:i,offset:t.offset,limit:t.limit})}catch(d){}if(o){var c;if(null!==(c=o.list)&&void 0!==c&&c.length){const e=(0,n.Fv)(o.list,a.Ro);await s("users/getUsersIfNeeded",e,{root:!0})}e("setStreams",o)}else e("setStreams")}}},971708:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return u},getters:function(){return c},mutations:function(){return d},state:function(){return o}});var r=s(720144),n=s(999023),a=s(629857);const i=()=>({userId:null,items:{},itemsIds:[],offset:0,limit:8,hasMore:!1}),o=i(),c={scheduledStreamsHasMore:e=>e.hasMore,scheduledStreams:e=>e.itemsIds.map((t=>e.items[t])).sort(((e,t)=>new Date(e.scheduledAt)-new Date(t.scheduledAt))),mainScheduledStream(e,t){return t.scheduledStreams[0]},scheduledStreamsCount:e=>e.itemsIds.length},d={setUserId(e,t){e.userId!==t&&(e.offset=0,e.itemsIds=[],e.items={}),e.userId=t},setStreams(e,{payload:t,pages:s}={}){t?(0===e.offset&&(e.itemsIds=[],e.items={},e.hasMore=!1),s&&(e.hasMore=t.hasMore,e.hasMore&&(e.offset+=e.limit)),t.list.forEach((t=>{e.items[t.id]||e.itemsIds.push(t.id),e.items[t.id]&&r["default"]["delete"](e.items,t.id);const s=(new Date).getTime(),n=new Date(t.scheduledAt).getTime();t.dangerTime=s>n?"expired":n-s<=18e5&&"danger",r["default"].set(e.items,t.id,t)}))):(e.itemsIds=[],e.items={},e.hasMore=!1)},addStream(e,t){e.items[t.id]=t,e.itemsIds.unshift(t.id)},editStream(e,t){r["default"]["delete"](e.items,t.id),r["default"].set(e.items,t.id,t)},setReminder(e,t){e.items[t].isReminder=!0},unsetReminder(e,t){e.items[t].isReminder=!1},removeIds(e,t){t.forEach((t=>{e.itemsIds=e.itemsIds.filter((e=>e!==t))}))},logout(e){Object.assign(e,i())}},u={fetchScheduledStreams:async({commit:e,state:t},{userId:s,pages:r=!0})=>{let a;e("setUserId",s);try{a=await(0,n.$F)({userId:s,offset:t.offset,limit:t.limit})}catch(i){}a&&(a.list&&a.list.length?e("setStreams",{payload:a,pages:r}):e("setStreams"))},deleteScheduledStream:async({commit:e},t)=>{let s;try{s=await(0,a.ye)(t)}catch(r){}s&&e("removeIds",[t])},setScheduledStreamReminder:async({commit:e},t)=>{let s;try{s=await(0,a.$b)(t)}catch(r){}s&&e("setReminder",t)},unsetScheduledStreamReminder:async({commit:e},t)=>{let s;try{s=await(0,a.SA)(t)}catch(r){}s&&e("unsetReminder",t)}}},79233:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return p},getters:function(){return h},mutations:function(){return f},state:function(){return m}});var r=s(682492),n=s.n(r),a=s(782677),i=s(243168),o=s(172462),c=s(76816),d=s(999023),u=s(201505);const l=()=>({items:{},awards:{},itemIds:[],awardsIds:[],subscribersCount:null,trials:{list:[],hasMore:!1},loading:!1,minSubscriptionPrice:3,minDiscountPercent:5,subscriptionHistory:{}}),m=l(),h={subscribers:e=>e.itemIds,getSubscriber:e=>t=>e.items[t],trials:e=>e.trials,isLoading:e=>e.loading,minSubscriptionPrice:e=>e.minSubscriptionPrice,subscribersAwards:e=>e.awardsIds.map((t=>({id:t,percent:e.awards[t]})))},f={setLoading(e,t){e.loading=t},setSubscribers(e,{itemIds:t,data:s={}}){const{more:r}=s;e.itemIds=r?[...new Set([...e.itemIds,...t])]:[...t]},setSubscribersCount(e,t){e.subscribersCount=t},setTrials(e,{trials:t,more:s=!1}){e.trials={list:s?[...new Set([...e.trials.list,...t.list])]:[...t.list],hasMore:t.hasMore}},setTrial(e,t){e.trials.list.unshift(t)},deleteTrialMutation(e,t){e.trials.list=e.trials.list.filter((e=>e.id!==t))},setSubscribersAwardsIds(e,{ids:t=[],more:s=!1}={}){e.awardsIds=s?[...new Set([...e.awardsIds,...t])]:[...t]},setSubscribersAwards(e,t={}){e.awards=n()({},e.awards,t)},addSubscriptionHistory(e,{userId:t,history:s}){e.subscriptionHistory={...e.subscriptionHistory,[t]:s}},logout(e){Object.assign(e,l())}},p={async fetchSubscribers({commit:e},t={}){try{e("setLoading",!0);const{more:s}=t;s||e("setSubscribers",{itemIds:[],data:t});const r=await(0,c.tY)(t);if(e("setLoading",!1),!r||!Array.isArray(r))return(0,o.oj)({error:new Error("typeof response is incorrect"),extra:{response:r}}),[];if(r.length){const s=(0,a.Fv)(r,i.Xd),n=s.result;e("set",s,{root:!0}),e("setSubscribers",{itemIds:n,data:t})}return r}catch(s){return e("setLoading",!1),Sentry.captureException(s),[]}},async fetchSubscribersCount({commit:e},t={}){e("setSubscribersCount",null);try{const s=await(0,c.Iz)(t);s&&void 0!==s.count&&e("setSubscribersCount",s.count)}catch(s){Sentry.captureException(s)}},async putSubscriptionDiscount({commit:e},t={}){let s;try{if(s=await(0,c.gr)(t),s&&s.id){const t=(0,a.Fv)(s,i.IK);e("set",t,{root:!0})}}catch(r){(0,o.Po)(r)}return s},async createTrial({commit:e},t={}){try{const s=await(0,c.i2)(t);s&&e("setTrial",s)}catch(s){(0,o.Po)(s)}},async fetchTrials({commit:e},{limit:t,offset:s,sort:r,field:n,more:a}={}){e("setLoading",!0);const i=l();a||e("setTrials",{trials:i.trials});try{const i=await(0,c.mk)({limit:t,offset:s,sort:r,field:n});return e("setTrials",{trials:i,more:a}),e("setLoading",!1),i}catch(o){return Sentry.captureException(o),e("setLoading",!1),i.trials}},async deleteTrialAction({commit:e},t){let s;try{s=await(0,c.l$)(t),s&&s.success&&e("deleteTrialMutation",t)}catch(r){(0,o.Po)(r)}return s},async fetchSubscriber({commit:e},t){try{const s=await(0,d.PR)(t,{view:"subscriber"});if(s&&s.id){const t=(0,a.Fv)(s,i.IK);e("set",t,{root:!0})}}catch(s){Sentry.captureException(s)}},async fetchSubscribersAwards({commit:e},t={}){try{const{more:s}=t;s||e("setSubscribersAwardsIds");const r=await(0,c.dl)(t);let n=[];if(r&&r.list&&r.list.length){const t={};r.list.forEach((s=>{const r=(0,a.Fv)(s.user,i.IK),o=r.result;e("set",r,{root:!0}),t[o]=s.percent,n=[...new Set([...n,o])]})),e("setSubscribersAwards",t),e("setSubscribersAwardsIds",{ids:n,more:s})}return n}catch(s){return Sentry.captureException(s),[]}},async clearPersonalDiscount({dispatch:e},t){await e("putSubscriptionDiscount",{id:t,discount:0,period:1})},async sendPersonalTrial(e,t={}){let s;try{return s=await(0,u.PK)(t),s&&!Array.isArray(s)?((0,o.oj)({error:new Error("typeof response is incorrect"),extra:{response:s}}),[]):s}catch(r){(0,o.Po)(r)}return[]},async fetchSubscriberHistory({commit:e},t){try{const s=await(0,c.IE)(t);if(s){const{list:r}=s;r&&Array.isArray(r)?r.length&&e("addSubscriptionHistory",{userId:t,history:r}):(0,o.oj)({error:new Error("typeof response is incorrect"),extra:{response:s}})}}catch(s){Sentry.captureException(s)}}}},514614:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return l},getters:function(){return d},mutations:function(){return u},state:function(){return c}});var r=s(782677),n=s(243168),a=s(76816),i=s(172462);const o=()=>({items:{},itemIds:[],loading:!1,subscribesCount:null}),c=o(),d={subscribes:e=>e.itemIds.map((t=>e.items[t])).filter((e=>void 0!==e)),getSubscribe:e=>t=>e.items[t],isLoading:e=>e.loading},u={setLoading(e,t){e.loading=t},setSubscribes(e,{itemIds:t=[],more:s=!1}={}){e.itemIds=s?[...new Set([...e.itemIds,...t])]:[...t]},setSubscribesCount(e,t){e.subscribesCount=t},setSubscribeField(e,{id:t,field:s,status:r}){const n={};n[s]=r,e.items[t]={...e.items[t],...n}},removeSubscribe(e,t){e.itemIds=e.itemIds.filter((e=>e!==t))},logout(e){Object.assign(e,o())}},l={async fetchSubscribes({commit:e,rootGetters:t},s={}){e("setLoading",!0);const{more:o,type:c,sort:d,field:u}=s;delete s.more,o||e("setSubscribes");try{const l=await(0,a.mf)(s);if("expired"===c&&"desc"===d&&"expire_date"===u&&!o){const s=t["auth/authUserId"];e("users/setUserField",{userId:s,field:"hasRecentlyExpired",status:!1},{root:!0})}if(!l||!Array.isArray(l))return(0,i.oj)({error:new Error("typeof response is incorrect"),extra:{response:l}}),[];if(l.length){const t=(0,r.Fv)(l,n.Xd),s=t.result;return e("set",t,{root:!0}),"changed"!==c&&e("setSubscribes",{itemIds:s,more:o}),s}return e("setLoading",!1),[]}catch(l){return e("setLoading",!1),[]}},async fetchSubscribesCount({commit:e},t={}){e("setSubscribesCount",null);try{const s=await(0,a.gM)(t);s&&void 0!==s.count&&e("setSubscribesCount",s.count)}catch(s){}},async autoprolongToggle({commit:e,state:t},{id:s,force:o=!1,place:c}){let d;try{const i=t.items[s]||{},u="on"===o||(!i.renewedAt&&i.subscribePrice>0||i.subscribePrice>Math.max(i.newPrice,i.price)||!i.renewedAt&&i.price>0&&0===i.subscribePrice)&&"off"!==o;if(d=await(0,a.qT)({id:s,on:u,place:c}),d&&d.id){const t=(0,r.Fv)(d,n.IK);e("set",t,{root:!0})}}catch(u){(0,i.Po)(u)}return d},updateSubscribe({commit:e,rootGetters:t},s){const{id:a}=s,i=t["users/getUser"](a),o={...s};if(i){const{promotions:e}=i,{promotions:t}=s;e&&!t&&(o.promotions=[])}const c=(0,r.Fv)(o,n.IK);e("set",c,{root:!0})}}},699560:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return d},getters:function(){return o},mutations:function(){return c},state:function(){return i}});var r=s(436968),n=s.n(r);const a=()=>({data:{}}),i=a(),o={getAllCodesByRouteName:e=>t=>Object.keys(e.data[t||"unknown"])},c={set(e,{routeName:t,code:s,value:r}){const a={...e.data};n()(a,[t||"unknown",s],r),e.data=a},logout(e){Object.assign(e,a())}},d={set({commit:e},t){e("set",t)}}},857107:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return X},getters:function(){return N},mutations:function(){return H},state:function(){return V}});var r=s(102883),n=s.n(r),a=s(393386),i=s.n(a),o=s(478718),c=s.n(o),d=s(682492),u=s.n(d),l=s(227361),m=s.n(l),h=s(720144),f=s(782677),p=s(727484),g=s.n(p),y=s(114494),S=s(243168),P=s(999023),v=s(749832),w=s(76816),b=s(201505),I=s(483190),k=s(975701);const C=({link:e})=>{const t=`${k.tW}/users/social/spring`;return k.ZP.post(t,{url:e}).then((e=>e.data))},T=()=>{const e=`${k.tW}/users/social/spring`;return k.ZP["delete"](e).then((e=>e.data))},$=e=>{const t=`${k.tW}/users${e?`/${e}`:""}/social/spring`;return k.ZP.get(t).then((e=>e.data))},L=e=>{const t=`${k.tW}/users/social/buttons`;return k.ZP.get(t,{cancelToken:e}).then((e=>e.data))},M=(e,t)=>{const s=`${k.tW}/users/${e}/social/buttons`;return k.ZP.get(s,{cancelToken:t}).then((e=>e.data))},_=e=>{const t=`${k.tW}/users/social/buttons`;return k.ZP.post(t,{buttonIds:e}).then((e=>e.data))},A=e=>{const t=`${k.tW}/users/social/buttons`;return k.ZP.put(t,e).then((e=>e.data))},x=(e,t)=>{const s=`${k.tW}/users/social/buttons/${t}`;return k.ZP.put(s,e).then((e=>e.data))},F=e=>{const t=`${k.tW}/users/social/buttons/${e}`;return k.ZP["delete"](t).then((e=>e.data))};var E=s(8056),D=s(172462),U=s(914786),O=s(427166),R=s(738129),Z=s(310569),B=s(502568);const j="subscriptionsCountCache",W={subscriptions:{active:null,muted:null,restricted:null,expired:null,all:null,attention:null,blocked:null},subscribers:{active:null,muted:null,restricted:null,expired:null,all:null,blocked:null,activeOnline:null}},q=()=>({needResetCheckOnlines:!1,deferredOnlines:[],checkOnlines:[],items:{},currentUser:null,modalUser:null,modalPost:null,modalStory:null,online:[],recommendedUsers:[],recentlyExpiredUsers:[],recommendedAuthor:null,isRecommendsFree:!1,userAlert:null,userHints:[],blocked:[],restricted:[],search:[],searchAutocomplete:[],settingsPost:{currentCode:null,options:[]},subscriptionsCount:W,friends:{},friendsLoading:!1,links:[],userLinks:null,nfts:[],profileDataLoadingError:!1,subscriptionsCountTimestamp:0,isFetchingSubscriptionsCount:!1,notifications:[],notificationsType:"",notificationsCounts:{[Z.C6]:0,[Z.pK]:0,[Z.l$]:0,[Z.y9]:0,[Z.BI]:0,[Z.PT]:0,[Z.bT]:0,[Z.f_]:0,[Z.Yt]:0},notificationsOrder:[Z.C6],socialButtons:null,banners:[],isBannersLoading:!1,forceFriendsReload:!1,notificationsOffset:0,blockedOffset:0,restrictedOffset:0,customDataSaving:!1}),V=q(),N={getUserBlockedState:e=>t=>(t||(t=e.currentUser),m()(e.items,[t,"isBlocked"],!1)),user:e=>e.items[e.currentUser]||{},userId:e=>e.currentUser,modalUser:e=>e.modalUser,modalPost:e=>e.modalPost,modalStory:e=>e.modalStory,hasUser:e=>!!e.currentUser,getSocialButtons:e=>t=>m()(e,`socialButtons[${t}]`)||[],getUser:e=>t=>t&&+t==t&&e.items[+t]||{},findUserByUserName:e=>t=>Object.keys(e.items).map((t=>e.items[t])).find((e=>e.username===t)),getOnline:e=>e.online,getUserIds:e=>Object.keys(e.items).map(Number),getCheckOnlinesIds:e=>e.checkOnlines,userHints:e=>e.userHints.filter((t=>{if(t.payload&&t.payload.user){const s=e.items[t.payload.user]||{};return"subscription_expired"!==m()(t,"payload.type")||s.canAddSubscriber&&!s.subscribedBy}return!0})),blockedUsers:e=>e.blocked,restricted:e=>e.restricted,searchUsers:e=>e.search,searchAutocompleteUsers:e=>e.searchAutocomplete,friends:e=>e.friends,friendsLoading:e=>e.friendsLoading,needSkipUsers:(e,t)=>s=>t.getUserIds.filter((t=>m()(e.items[t],`view.${s}`)+864e5>+new Date)),needSkipUsersNotMe:(e,t,s)=>e=>t.needSkipUsers(e).filter((e=>e!==s.auth.user)),needSkipUsersOnShort:(e,t)=>!!t.needSkipUsersNotMe("s").length,needSkipUsersOnStories:(e,t)=>!!t.needSkipUsersNotMe("st").length,needSkipUsersOnLists:(e,t)=>!!t.needSkipUsersNotMe("t").length,links:e=>e.links,userLinks:e=>e.userLinks,subscriptionsCountIntervalMs:(e,t,s)=>{const r=m()(s,"auth.user");if(!r||!e.items[r])return 0;const{subscribersCount:n=0}=e.items[r];switch(!0){case n>1e4:return 6e4;case n>1e3:return 3e5;default:return 6e5}},forceFriendsReload:e=>e.forceFriendsReload},H={toggleUsersBlockedBy(e,{userId:t,value:s}){t||(t=e.currentUser),h["default"].set(e.items[t],"isBlocked",s)},removeUsersBlockedBy(e,t){t||(t=e.currentUser),h["default"].set(e.items[t],"isBlocked",!1)},setCurrentUser(e,t){e.currentUser=t},setModalUser(e,{userId:t,postId:s,storyId:r}){e.modalUser=t,e.modalPost=s,e.modalStory=r},resetCheckOnlines(e){e.needResetCheckOnlines=!0},setDefferedOnlines(e,t){e.deferredOnlines=t},setOnline(e,t){e.online=[...new Set([...t.map((e=>+e)),...e.deferredOnlines])],Object.keys(e.items).forEach((t=>{void 0===e.items[t].isOnline&&h["default"].set(e.items[t],"isOnline",!1),e.items[t].isOnline!==e.online.includes(+t)&&(e.items[t].isOnline=e.online.includes(+t))})),e.deferredOnlines=[]},addOnlineUser(e,t){e.online=[...e.online,t]},removeOnlineUser(e,t){const{online:s}=e;e.online=s.filter((e=>e!==t))},setRecommendedUsers(e,t=[]){e.recommendedUsers=[...t]},setRecentlyExpiredUsers(e,t=[]){e.recentlyExpiredUsers=[...t]},removeRecentlyExpiredUser(e,t){e.recentlyExpiredUsers=e.recentlyExpiredUsers.filter((e=>e!==t))},setRecommendedAuthor(e,t){e.recommendedAuthor=t},setUserHiddenPosts(e,{id:t,status:s}){e.items[t]&&(e.items[t].showPostsInFeed=s)},setUserFriend(e,{authUserId:t,id:s,status:r}){const n=t||e.currentUser;e.friends[n]||h["default"].set(e.friends,n,[]);const a=e.friends[n];a&&(r=r||a&&a.includes(s),r?e.friends[n]=a.filter((e=>s!==e)):e.friends[n].push(s))},setNotificationsCountsByType(e,t){e.notificationsType!==Z.C6&&e.notificationsType!==t&&(e.notificationsCounts[t]+=1,e.notificationsCounts.all+=1)},calculateNotificationsCounts(e,{type:t,clear:s}={}){s?Object.keys(e.notificationsCounts).forEach((t=>{t!==Z.C6&&(e.notificationsCounts[t]=0)})):t&&t!==Z.C6?(e.notificationsCounts.all=Math.max(0,e.notificationsCounts.all-e.notificationsCounts[t]),e.notificationsCounts[t]=0):Object.keys(e.notificationsCounts).forEach((t=>{e.notificationsCounts[t]=0}))},setNotificationsReadById(e,t){const s=e.notifications.find((e=>e.id===t));s&&(s.isRead=!0)},setNotifications(e,{notifications:t=[],more:s,unread:r}={}){r?e.notificationsType!==t[0].type&&e.notificationsType!==Z.C6||(e.notifications=[...t,...e.notifications]):e.notifications=s?[...e.notifications,...t]:[...t]},setNotificationsOffset(e,t=0){e.notificationsOffset=t},setNotificationsType(e,t=""){e.notificationsType=t},setChatMessagesCount(e,{userId:t,chatMessagesCount:s}){e.items[t]&&(e.items[t].chatMessagesCount=s)},setChatPriorityCount(e,{userId:t,countPriorityChat:s}){e.items[t]&&(e.items[t].countPriorityChat=s)},resetChatMessagesCount(e,{userId:t,unreadMessagesCount:s}){if(e.items[t]&&e.items[t].chatMessagesCount){const{chatMessagesCount:r}=e.items[t];e.items[t].chatMessagesCount=r>s?r-s:0}},setChatMessagesCountPushNotifications(e,{userId:t}){e.items[t]&&e.items[t].chatMessagesCount&&(e.items[t].chatMessagesCount-=1)},changeUsersPostsCount(e,{decrement:t=!1}){e.items[e.currentUser]&&void 0!==e.items[e.currentUser].postsCount&&(t?e.items[e.currentUser].postsCount-=1:e.items[e.currentUser].postsCount+=1)},setChatPriorityCountPushNotifications(e,{userId:t}){e.items[t]&&e.items[t].countPriorityChat&&(e.items[t].countPriorityChat-=1)},setUserNotificationsCount(e,{userId:t,notificationsCount:s,hasSystemNotifications:r}){e.items[t]&&(e.items[t].notificationsCount=s,"undefined"!==typeof r&&(e.items[t].hasSystemNotifications=r))},setUserField(e,{userId:t,field:s,status:r}){if(!e.items[t])return;let n={};n[s]=r,n=(0,O.P)(n),e.items[t]={...e.items[t],...n}},deleteUserField(e,{userId:t,field:s}){const r={...e.items[t]};delete r[s],e.items[t]=r},setUserAlert(e,t=null){e.userAlert=t},setUserHints(e,t=[]){e.userHints=t},deleteUserHint(e,t){e.userHints=e.userHints.filter((e=>e.id!==t&&e.code!==t))},setBlockedUsers(e,{itemIds:t=[],more:s=!1}={}){e.blocked=s?[...new Set([...e.blocked,...t])]:t},setBlockedOffset(e,t=0){e.blockedOffset=t},setRestricted(e,{itemIds:t=[],more:s=!1}={}){e.restricted=s?[...new Set([...e.restricted,...t])]:t},setRestrictedOffset(e,t=0){e.restrictedOffset=t},setSearchUsers(e,{itemIds:t=[],more:s=!1}={}){e.search=s?[...new Set([...e.search,...t])]:t},setSearchAutocompleteUsers(e,t=[]){e.searchAutocomplete=t},setSettingsPost(e,t){e.settingsPost=t},setSettingsPostCurrentCode(e,t){e.settingsPost.currentCode=t},setFriendsList(e,{userId:t,friends:s,more:r=!1}){e.friends[t]||h["default"].set(e.friends,t,[]),e.friends[t]=r?[...e.friends[t]||[],...s]:s},setFriendsLoading(e,t){e.friendsLoading=t},addConnectedAccount(e,{userId:t,userData:s}){e.items[t]&&s&&(void 0!==s.connectedUser&&(e.items[t].connectedOfAccounts=[...new Set([...e.items[t].connectedOfAccounts,s.connectedUser.id])]),void 0!==s.canConnectOfAccount&&(e.items[t].canConnectOfAccount=s.canConnectOfAccount),void 0!==s.cantConnectOfAccountReason&&(e.items[t].cantConnectOfAccountReason=s.cantConnectOfAccountReason))},removeConnectedAccount(e,{userId:t,accountId:s,userData:r}){e.items[t]&&r&&(r.success&&(e.items[t].connectedOfAccounts=e.items[t].connectedOfAccounts.filter((e=>e!==s))),void 0!==r.canConnectOfAccount&&(e.items[t].canConnectOfAccount=r.canConnectOfAccount),void 0!==r.cantConnectOfAccountReason&&(e.items[t].cantConnectOfAccountReason=r.cantConnectOfAccountReason))},deleteBundle(e,{userId:t,bundleId:s}){e.items[t]&&(e.items[t].subscriptionBundles=e.items[t].subscriptionBundles.filter((e=>+e!==+s)))},setBundle(e,{userId:t,bundleId:s}){e.items[t]&&(e.items[t].subscriptionBundles=[...new Set([...e.items[t].subscriptionBundles,s])])},setSubscriptionsCount(e,t){e.subscriptionsCount=t},toggleRecommendsFree(e){e.isRecommendsFree=!e.isRecommendsFree},unsetUserOffer(e,{offerId:t,userId:s}){e.items[s]&&e.items[s].promoOffers&&(e.items[s].promoOffers=e.items[s].promoOffers.filter((e=>e.id!==t)))},setUserOffers(e,{userId:t,offers:s}){e.items[t]&&(e.items[t].promoOffers=s)},unsetUser(e){V.items[e]&&h["default"]["delete"](V.items,e)},setLinks(e,t){e.links=t},addLinks(e,t){e.links.push(t)},updateLinks(e,{index:t,value:s}){e.links[t]=s,e.links=[].concat(e.links)},deleteLinks(e,t){void 0===t?e.links.splice(e.links.length-1,1):e.links.splice(t,1)},setUserLinks(e,t){e.userLinks=t},resetUserLinks(e){e.userLinks=null},setHasNft(e,{userId:t,hasNft:s}){e.items[t].openseaInfo.hasNft=s},setNfts(e,t){e.nfts=t},resetNfts(e){e.nfts=[]},updateUserCounters(e,t){if(e.items[e.currentUser])for(const[s,r]of Object.entries(t))e.items[e.currentUser][s]=r},setProfileDataLoadingError(e,t){e.profileDataLoadingError=t},setFetchingSubscriptionsCount(e,t=!1){e.isFetchingSubscriptionsCount=t},setSubscriptionsCountTimestamp(e,t=Date.now()){e.subscriptionsCountTimestamp=t},setNotificationsCounts(e,t){e.notificationsCounts=t},setNotificationsOrder(e,t){e.notificationsOrder=t},setSocialButtons(e,{id:t,buttons:s}){const r=Array.isArray(s)?s:[];e.socialButtons={...e.socialButtons,[t]:r}},setBanners(e,t=[]){e.banners=t},setBannersLoading(e,t){e.isBannersLoading=t},setForceFriendsReload(e,t){e.forceFriendsReload=t},setUnreadTips(e,{userId:t,value:s}){e.items[t]&&(e.items[t].unreadTips=s)},setCustomDataSaving(e,t){e.customDataSaving=t},logout(e){Object.assign(e,q())}},z={promotions:[],subscribedBy:null,currentSubscribePrice:null},X={async fetchUser({commit:e},{id:t,httpreferrer:s}){const r=await(0,P.PR)(t,{httpreferrer:s});if(r&&r.id){const t=u()({},z,r),s=(0,f.Fv)(t,S.IK);return e("set",s,{root:!0}),t}return r},async fetchCurrentUser({commit:e,dispatch:t},{id:s,httpreferrer:r}){const n=await t("fetchUser",{id:s,httpreferrer:r});return n&&n.id&&e("setCurrentUser",n.id),n},async disableTwitter({commit:e,rootGetters:t}){try{const s=await(0,P.z6)();if(s.success){const s=t["auth/authUserId"];e("setUserField",{userId:s,field:"isTwitterConnected",status:!1}),e("setUserField",{userId:s,field:"twitterUsername",status:null})}}catch(s){(0,D.Po)(s)}},async patchUserMeBySection(e,{data:t,section:s}){let r;try{r=await(0,P.lA)(t,s)}catch(n){Sentry.captureException(n)}return r},async patchUser(e,t){let s;try{s=await(0,P.y6)(t)}catch(r){return Sentry.captureException(r),r.data}return s},async changeUser({commit:e,rootGetters:t},s){const r=t["auth/authUser"];let n;try{const t=["about","avatar","header","isSuggestionsOptOut","isVisibleOnline","location","name","paidFeed","recommenderReward","replyOnSubscribe","shouldReceiveLessNotifications","subscribePrice","username","website","wishlist"],a=c()(r,t);if(n=await(0,P.IF)({...a,...s}),n&&n.success){const t=s.isVisibleOnline;e("setUserField",{userId:r.id,field:"isVisibleOnline",status:t}),e(1===t?"addOnlineUser":"removeOnlineUser",r.id)}}catch(a){return Sentry.captureException(a),a.data}return n},async changeUserBySection(e,{data:t,section:s}){let r;try{r=await(0,P.sV)(t,s)}catch(n){return Sentry.captureException(n),n.data}return r},async toggleRestrictUser({commit:e,state:t,dispatch:s},r){try{const{isRestricted:n,canRestrict:a,disabledRestrict:i}=t.items[r];if(!a&&!n||i)return;e("setUserField",{userId:r,field:"disabledRestrict",status:!0});const o=n?await(0,w.JR)(r):await(0,w.W3)(r);if(o&&o.id){const a=(0,f.Fv)(o,S.IK);e("set",a,{root:!0});const i=n?t.restricted.filter((e=>e!==r)):t.restricted.concat(r);e("setRestricted",{itemIds:i});let{restricted:c}=t.subscriptionsCount.subscribers;if(null!==c){const s={...t.subscriptionsCount,subscribers:{...t.subscriptionsCount.subscribers,restricted:Math.max(0,n?c-=1:c+=1)}};e("setSubscriptionsCount",s)}"Chat"!==y.ZP.$route.name&&"Chats"!==y.ZP.$route.name||s("chats/fetchChat",r,{root:!0})}}catch(n){(0,D.Po)(n)}e("setUserField",{userId:r,field:"disabledRestrict",status:!1})},async toggleHiddenPosts({commit:e,state:t},s){const{showPostsInFeed:r}=t.items[s];try{const t=r?await(0,w._8)(s):await(0,w.Fu)(s);t&&t.success&&e("setUserHiddenPosts",{id:s,status:!r})}catch(n){Sentry.captureException(n)}},async unFriendUser({commit:e,rootGetters:t,dispatch:s},r){const n=t["auth/authUser"];try{const a=await(0,P.g5)(r);if(a&&a.success){const a=t["auth/authUserId"]||t["users/userId"],i=t["users/friends"][a]||[];i.length>9?await s("fetchFriendsList",{userId:n.id}):e("setUserFriend",{authUserId:n.id,id:r,status:!1}),e("setUserField",{userId:n.id,field:"friendsList",status:n.friendsList.filter((e=>r!==e))})}}catch(a){(0,D.Po)(a)}},async fetchRecommendedUsers({commit:e,state:t,dispatch:s}){try{const r=await(0,P.tL)({firstFeedPostUserId:t.recommendedAuthor,state:t.isRecommendsFree?"free":void 0});if(r&&Array.isArray(r))if(r.length){const t=(0,f.Fv)(r,S.Xd);await s("getUsersIfNeeded",t),e("set",t,{root:!0}),e("setRecommendedUsers",t.result)}else e("setRecommendedUsers");else(0,D.oj)({error:new Error("typeof response is incorrect"),extra:{response:r}})}catch(r){Sentry.captureException(r)}},async fetchRecentlyExpiredUsers({commit:e,dispatch:t}){try{const s=await(0,w.eT)();if(s&&Array.isArray(s))if(s.length){const r=(0,f.Fv)(s,S.Xd);await t("getUsersIfNeeded",r),e("set",r,{root:!0}),e("setRecentlyExpiredUsers",r.result)}else e("setRecentlyExpiredUsers");else(0,D.oj)({error:new Error("typeof response is incorrect"),extra:{response:s}})}catch(s){Sentry.captureException(s)}},async fetchNotifications({commit:e,dispatch:t,state:s},{type:r,related_user:n,more:a}={}){a||(e("setNotificationsOffset"),e("setNotifications"));const{cancelToken:i,Cancel:o}=(0,k.Yz)("fetchNotifications"),c="all";try{const o=await(0,P.TH)({limit:k.P9,offset:s.notificationsOffset,type:r===Z.C6?void 0:r,related_user:n,skipUsers:c,cancelToken:i});if(o&&"object"===typeof o){const{hasMore:r=!1,list:n=[]}=o;if(n&&Array.isArray(n)&&n.length){const s=(0,f.Fv)(n,S.vU);await t("getUsersIfNeeded",s),e("set",s,{root:!0}),e("setNotifications",{notifications:n,more:a})}return e("setNotificationsOffset",s.notificationsOffset+k.P9),{hasMore:r}}return(0,D.oj)({error:new Error("typeof response is incorrect"),extra:{response:o}}),{hasMore:!1}}catch(d){if(d instanceof o)return{isCanceled:!0};Sentry.captureException(d)}return{isError:!0}},async setNotificationsReadByType({commit:e},t=Z.C6){try{const s=await(0,P.Gp)(t===Z.C6?"":t);s&&"object"===typeof s?s.counters&&e("setNotificationsCounts",s.counters):(0,D.oj)({error:new Error("typeof response is incorrect"),extra:{response:s}})}catch(s){Sentry.captureException(s)}},async setNotificationsReadById({commit:e},t){try{const s=await(0,P.NS)(t);if(s&&"object"===typeof s)return s.counters&&e("setNotificationsCounts",s.counters),void(s.success&&e("setNotificationsReadById",t));(0,D.oj)({error:new Error("typeof response is incorrect"),extra:{response:s}})}catch(s){Sentry.captureException(s)}},async createPromotion({commit:e,rootGetters:t},s){try{const r=await(0,b.kb)(s);if(r&&r.length){const s=t["auth/authUser"],a=s.id,i=m()(s,"promotions",[]).filter((e=>e.hasRelatedPromo)).length>1;e("setUserField",{userId:a,field:"promotions",status:i?r:n()(r,m()(s,"promotions",[]),((e,t)=>e.type===t.type))})}}catch(r){(0,D.Po)(r)}},async finishPromotion({commit:e,rootGetters:t,rootState:s},r){try{const n=await(0,b.yK)(r),a=t["auth/authUser"],i=s.init.currentDate;if(n&&n.success&&a&&a.promotions&&a.promotions.length){const t=a.id,s=a.promotions.find((e=>e.id===r)),n=a.promotions.filter((e=>e.hasRelatedPromo)).length>1;s&&e("setUserField",{userId:t,field:"promotions",status:n?[...a.promotions.map((e=>({...e,finishedAt:i,canClaim:!1})))]:[...a.promotions.filter((e=>e.id!==s.id)),{...s,finishedAt:i,canClaim:!1}]})}}catch(n){(0,D.Po)(n)}},async deletePromotion({commit:e,rootGetters:t},s){try{const r=await(0,b.S4)(s);if(r&&r.success){const r=t["auth/authUser"],n=r.id,a=m()(r,"promotions",[]).filter((e=>e.id!==s)),i=m()(r,"promotions",[]).filter((e=>e.hasRelatedPromo)).length>1;e("setUserField",{userId:n,field:"promotions",status:i?[]:a})}}catch(r){(0,D.Po)(r)}},async fetchAlert({commit:e}){try{const t=await(0,P.uH)();t&&t.id&&e("setUserAlert",t)}catch(t){Sentry.captureException(t)}},async removeAlert({commit:e,state:t},s){try{const{isPersonal:r}=t.userAlert||{},n=!1===r?await(0,P.cW)(s):await(0,P.gj)(s);n&&n.success&&e("setUserAlert")}catch(r){Sentry.captureException(r)}},async fetchHints({commit:e}){try{e("setUserHints");let t=await(0,P.rv)();t&&t.length&&(t=t.filter((e=>e.text.length)).map((t=>{if(t.text=t.text.replaceAll(/(\d\d\/\d\d\/(\d\d\d\d))/gm,((e,t,s)=>g()(t).format(+(new Date).getFullYear()===+s?"MMM D":"MMM D, YYYY"))),m()(t,"payload.user")){const s=(0,f.Fv)(m()(t,"payload.user"),S.IK);e("set",s,{root:!0}),t.payload.user=s.result}return t})),e("setUserHints",t))}catch(t){}},async removeHint({commit:e,state:t},s){try{const{isPersonal:r}=t.userHints.find((e=>e.id===s||e.code===s))||{},n=!1===r?await(0,P.AP)(s):await(0,P.PK)(s);n&&n.success&&e("deleteUserHint",s)}catch(r){Sentry.captureException(r)}},async toggleBlockUser({commit:e,state:t,dispatch:s,rootState:r,rootGetters:n},a){try{const{disabledBlock:i}=t.items[a];if(i)return;e("setUserField",{userId:a,field:"disabledBlock",status:!0});let{isBlocked:o}=t.items[a];o=!0===o,y.ZP.$root.$emit("bv::hide::modal","ModalSubscribersItem");const c=o?await(0,P.zv)(a):await(0,P.rf)(a);if(c&&c.success){if(["Profile",...R.tJ,...R.vc,...R.Xg].includes(y.ZP.$route.name)&&s("fetchSubscriptionsCount"),["Subscribes","SubscribesByType"].includes(y.ZP.$route.name)){const t=r.subscribes.subscribesCount||0;e("subscribes/setSubscribesCount",Math.max(0,o?t+1:t-1),{root:!0})}if(["Subscribers","SubscribersByType"].includes(y.ZP.$route.name)){const t=r.subscribers.subscribersCount||0;e("subscribers/setSubscribersCount",Math.max(0,o?t+1:t-1),{root:!0})}if(c.user){const t=(0,f.Fv)(c.user,S.IK);e("set",t,{root:!0})}else s("fetchCurrentUser",{id:a});const{isPerformer:i}=n["auth/authUser"];if(o)e("setBlockedUsers",{itemIds:t.blocked.filter((e=>e!==a))});else if(i){const i=n["auth/authUserId"],o=i||t.currentUser,c=t.friends[o]||[];["Profile"].includes(y.ZP.$route.name)&&c.length>9?await s("fetchFriendsList",{userId:i}):["Profile"].includes(y.ZP.$route.name)?e("setUserFriend",{authUserId:i,id:a}):(e("setUserFriend",{authUserId:i,id:a}),e("setForceFriendsReload",!0),e("usersLists/setUsersListUsers",{userIds:r.usersLists.itemsUsersList.filter((e=>e!==a))},{root:!0}))}const d=U.Z.getItem("recentUsersSearches");d&&U.Z.setItem("recentUsersSearches",d.split(",").filter((e=>+e&&!Number.isNaN(+e)&&+e!==a)).join(",")),c.hideChat&&["Chat","Chats"].includes(y.ZP.$route.name)&&(e("chats/deleteChat",a,{root:!0}),"Chat"===y.ZP.$route.name&&y.ZP.$router.replace({name:"Chats"}))}}catch(i){(0,D.Po)(i)}e("setUserField",{userId:a,field:"disabledBlock",status:!1})},async toggleHideStoryFromUser({commit:e,state:t},s){try{let r,{isStoryBlockedUser:n}=t.items[s];r=n?await(0,v.H)(s):await(0,v.oh)(s),r&&r.success&&(n=!n,e("setUserField",{userId:s,field:"isStoryBlockedUser",status:n}))}catch(r){Sentry.captureException(r)}},async connectSpotify({commit:e,rootGetters:t},{accessToken:s,tokenExpiration:r,refreshToken:n}){const a=t["auth/authUser"];try{const t=await(0,I.mp)({accessToken:s,tokenExpiration:r,refreshToken:n});t.success&&e("setUserField",{userId:a.id,field:"isSpotifyConnected",status:!0})}catch(i){(0,D.Po)(i)}},async disconnectSpotify({commit:e,rootGetters:t}){const s=t["auth/authUser"];try{const t=await(0,P.z6)({network:"spotify"});t.success&&e("setUserField",{userId:s.id,field:"isSpotifyConnected",status:!1})}catch(r){(0,D.Po)(r)}},async socialButtonsGet({commit:e,rootGetters:t}){const s=t["auth/authUser"];try{const{cancelToken:t}=(0,k.Yz)("fetchSocialButton"),r=await L(t);e("setSocialButtons",{id:s.id,buttons:r})}catch(r){}},async socialButtonsGetByUser({commit:e},t){try{const{cancelToken:s}=(0,k.Yz)("fetchSocialButton"),r=await M(t,s);e("setSocialButtons",{id:t,buttons:r})}catch(s){}},async socialButtonsSort({commit:e,rootGetters:t},{newIdx:s,oldSort:r,newSort:n}){const a=t["auth/authUser"],i={id:a.id,buttons:r},o={id:a.id,buttons:n};try{e("setSocialButtons",o);const t=await _(s);t.error&&e("setSocialButtons",i)}catch(c){e("setSocialButtons",i),(0,D.Po)(c)}},async socialButtonsCreate({commit:e,rootGetters:t},s){try{const r=t["auth/authUser"],n=await A(s);return e("setSocialButtons",{id:r.id,buttons:n}),n}catch(r){return(0,D.Po)(r),{error:r}}},async socialButtonsUpdate({commit:e,rootGetters:t},{buttonObj:s,id:r}){try{const n=t["auth/authUser"],a=await x(s,r);return e("setSocialButtons",{id:n.id,buttons:a}),a}catch(n){return(0,D.Po)(n),{error:n}}},async socialButtonsDelete({rootGetters:e,commit:t,state:s},r){try{const n=await F(r);if(n.success){const n=e["auth/authUser"],a=s.socialButtons[n.id].filter((e=>e.id!==r));t("setSocialButtons",{id:n.id,buttons:a})}}catch(n){(0,D.Po)(n)}},async fetchBlockedUsers({commit:e,state:t},{query:s,sort:r,more:n,field:a,filter:i}={}){n||(e("setBlockedUsers"),e("setBlockedOffset"));const{cancelToken:o,Cancel:c}=(0,k.Yz)("fetchBlockedUsers");try{const c=await(0,P.b_)({limit:k.P9,offset:t.blockedOffset,query:s,sort:r,field:a,filter:i,cancelToken:o});if(c&&Array.isArray(c)){if(c.length){e("setBlockedOffset",t.blockedOffset+k.P9);const s=(0,f.Fv)(c,S.Xd);return e("set",s,{root:!0}),e("setBlockedUsers",{itemIds:s.result,more:n}),{hasMore:!0}}return{hasMore:!1}}(0,D.oj)({error:new Error("typeof response is incorrect"),extra:{response:c}})}catch(d){if(d instanceof c)return{isCanceled:!0};Sentry.captureException(d)}return{isError:!0}},async fetchSearchUsers({commit:e},{limit:t,offset:s,query:r,more:n,allUsers:a,view:i}={}){if(n||e("setSearchUsers"),!r)return[];try{const o=await(0,P.Kh)({limit:t,offset:s,query:r,allUsers:a,view:i});if(o&&Array.isArray(o)){if(o.length){const t=(0,f.Fv)(o,S.Xd);e("set",t,{root:!0}),e("setSearchUsers",{itemIds:t.result,more:n})}return o}return(0,D.oj)({error:new Error("typeof response is incorrect"),extra:{response:o}}),[]}catch(o){return Sentry.captureException(o),[]}},async fetchSearchAutocomplete({commit:e},{limit:t,offset:s,query:r,allUsers:n,view:a}={}){if(!r)return e("setSearchAutocompleteUsers"),[];try{const i=await(0,P.Kh)({limit:t,offset:s,query:r,allUsers:n,view:a});if(i&&Array.isArray(i)){if(i.length){const t=(0,f.Fv)(i,S.Xd);e("set",t,{root:!0}),e("setSearchAutocompleteUsers",i)}else e("setSearchAutocompleteUsers");return i}return(0,D.oj)({error:new Error("typeof response is incorrect"),extra:{response:i}}),[]}catch(i){return Sentry.captureException(i),[]}},async fetchSettingsPost({commit:e}){try{let t=await(0,P.vh)();const s=t.options.filter((e=>0!==e.code));t=Object.assign({},t,{options:s}),e("setSettingsPost",t)}catch(t){Sentry.captureException(t)}},async sendSettingsPost({commit:e},t){try{const s=await(0,P.i)(t);s&&s.success&&e("setSettingsPostCurrentCode",t)}catch(s){Sentry.captureException(s)}},async fetchFriendsList({commit:e},{userId:t,limit:s,offset:r,more:n=!1}={}){try{e("setFriendsLoading",!0);const a=await(0,P.XP)({userId:t,limit:s,offset:r});if(a&&Array.isArray(a)){if(a.length){const s=(0,f.Fv)(a,S.Xd);e("set",s,{root:!0}),e("setFriendsList",{userId:t,friends:s.result,more:n})}return e("setFriendsLoading",!1),a}return(0,D.oj)({error:new Error("typeof response is incorrect"),extra:{response:a}}),e("setFriendsLoading",!1),[]}catch(a){return e("setFriendsLoading",!1),Sentry.captureException(a),[]}},async saveSubscriberCustomData({commit:e},{id:t,data:s={}}){e("setCustomDataSaving",!0);try{const r=await(0,w.gU)(t,s);if(r&&r.id){const t=(0,f.Fv)(r,S.IK);e("set",t,{root:!0})}return e("setCustomDataSaving",!1),!0}catch(r){(0,D.Po)(r)}return e("setCustomDataSaving",!1),!1},async fetchSubscriptionsCount({commit:e,dispatch:t,rootGetters:s}){try{const r=await(0,w.x$)();if(r&&"object"===typeof r){e("setSubscriptionsCount",r);const n=Date.now();e("setSubscriptionsCountTimestamp",n),t("setSubscriptionsCountToLocalStorage",{count:r,timestamp:n});const a=m()(r,"subscribers.active",null),i=m()(r,"subscriptions.active",null),o=s["auth/authUserId"],c=s["auth/authUser"];null!==a&&a!==c.subscribersCount&&e("setUserField",{userId:o,field:"subscribersCount",status:a}),null!==i&&i!==c.subscribesCount&&e("setUserField",{userId:o,field:"subscribesCount",status:i})}else(0,D.oj)({error:new Error("typeof response is incorrect"),extra:{response:r}})}catch(r){Sentry.captureException(r)}},async getUsersIfNeeded({dispatch:e,state:t},s){if(s.entities&&s.entities.users){const r={...s.entities.users},n=Object.keys(r).map(Number),a={},o=+new Date;if(n.forEach((e=>{const n=r[e]._views;n&&n.length&&n.forEach((s=>{m()(t.items[e],"view.f",0)+864e5>=o||m()(t.items[e],`view[${s}]`,0)+864e5<o&&(a[s]=i()(a[s]||[],[e]))})),delete s.entities.users[e]._views,delete s.entities.users[e]._view})),Object.keys(a).length){const t=Object.keys(a).map((async t=>{const s=[];while(a[t].length)s.push(e("getUsersByIds",{ids:{[t]:a[t].splice(0,10)},error:!0}));return await Promise.all(s)}));await Promise.all(t)}}},async getUsersByIds({commit:e},{ids:t,error:s=!1}){try{const s=await(0,P.B3)(t);if(s&&Object.keys(s).length){const t=(0,f.Fv)(s,S.Xd);return e("set",t,{root:!0}),t.result}return[]}catch(r){if(s)throw r;return[]}},async fetchLinks({commit:e}){try{const t=await(0,P.rx)();t.length?e("setLinks",t.map((e=>({...e,id:(0,B.Z)()})))):e("setLinks",[])}catch(t){Sentry.captureException(t)}},async postLinks({commit:e,state:t}){try{const s=await(0,P.lJ)({links:t.links.map((e=>e.url))});e("setLinks",s.map((e=>({...e,id:(0,B.Z)()}))))}catch(s){return Sentry.captureException(s),s}},async fetchUserLinks({commit:e},t){try{const s=await(0,P.Pb)(t);e("setUserLinks",s)}catch(s){Sentry.captureException(s)}},addConnectedAccount({commit:e,state:t,rootState:s},{userData:r}){if(t.items[s.auth.user]&&r&&void 0!==r.connectedUser&&!t.items[s.auth.user].connectedOfAccounts.find((e=>e===r.connectedUser.id))){const t=(0,f.Fv)(r.connectedUser,S.IK);e("set",t,{root:!0}),e("addConnectedAccount",{userId:s.auth.user,userData:r})}},async fetchRestricted({commit:e,state:t},{query:s,sort:r,more:n,field:a,filter:i}={}){n||(e("setRestricted"),e("setRestrictedOffset"));const{cancelToken:o,Cancel:c}=(0,k.Yz)("fetchRestrictedUsers");try{const c=await(0,P.JW)({limit:k.P9,offset:t.restrictedOffset,query:s,sort:r,field:a,filter:i,cancelToken:o});if(c&&"object"===typeof c){if(c.hasMore&&e("setRestrictedOffset",t.restrictedOffset+k.P9),c.list&&c.list.length){const t=(0,f.Fv)(c.list,S.Xd);e("set",t,{root:!0}),e("setRestricted",{itemIds:t.result,more:n})}return{hasMore:c.hasMore}}(0,D.oj)({error:new Error("typeof response is incorrect"),extra:{response:c}})}catch(d){if(d instanceof c)return{isCanceled:!0};Sentry.captureException(d)}return{isError:!0}},setSubscriptionsCountToLocalStorage({rootGetters:e},{count:t,timestamp:s=Date.now()}){const r=e["auth/authUserId"],n=JSON.parse(U.Z.getItem(j)||"{}"),a={...n,[r]:{count:t,timestamp:s}};U.Z.setItem(j,JSON.stringify(a))},getSubscriptionsCountFromLocalStorage({rootGetters:e,commit:t}){const s=e["auth/authUserId"],r=JSON.parse(U.Z.getItem(j)||"{}"),n=r[s];if(n){const{count:e=W,timestamp:s=0}=n;t("setSubscriptionsCount",e),t("setSubscriptionsCountTimestamp",s)}},async fetchSubscriptionsCountCached({state:e,commit:t,dispatch:s,getters:r}){if(e.isFetchingSubscriptionsCount)return;e.subscriptionsCountTimestamp||await s("getSubscriptionsCountFromLocalStorage");const n=r.subscriptionsCountIntervalMs;e.subscriptionsCountTimestamp&&Date.now()-e.subscriptionsCountTimestamp<n||(t("setFetchingSubscriptionsCount",!0),await s("fetchSubscriptionsCount"),t("setFetchingSubscriptionsCount",!1))},async fetchNotificationsCounts({commit:e}){try{const t=await(0,P.SP)();t&&"object"===typeof t?e("setNotificationsCounts",t):(0,D.oj)({error:new Error("typeof response is incorrect"),extra:{response:t}})}catch(t){Sentry.captureException(t)}},async fetchNotificationsOrder({commit:e}){try{const t=await(0,P.U9)();t&&Array.isArray(t)?t.length&&e("setNotificationsOrder",t):(0,D.oj)({error:new Error("typeof response is incorrect"),extra:{response:t}})}catch(t){Sentry.captureException(t)}},async updateNotificationsOrder({commit:e},t){try{const s=await(0,P.dh)({tabs:t});s&&s.success&&e("setNotificationsOrder",t)}catch(s){Sentry.captureException(s)}},updateChatPinnedCount({commit:e,dispatch:t,rootGetters:s},r){const n=s["auth/authUserId"],a=s["users/getUser"](n).countPinnedChat,i=s["usersLists/getCurrentFilterIsPinned"],o=a+r.status;e("users/setUserField",{userId:n,field:"countPinnedChat",status:Math.max(o,0)},{root:!0}),i&&t("usersLists/updateFeedFiltersAndRefetch",o>0?["pinned"]:[],{root:!0})},async fetchBanners({commit:e,state:t}){if(!t.isBannersLoading){e("setBannersLoading",!0);try{const t=await(0,P.Fh)();Array.isArray(t)&&t.length&&e("setBanners",t)}catch(s){Sentry.captureException(s)}e("setBannersLoading",!1)}},async connectSpringStore({commit:e,rootGetters:t},{link:s}){const r=t["auth/authUser"];try{const t=await C({link:s});t.success&&e("setUserField",{userId:r.id,field:"isSpringConnected",status:!0})}catch(n){(0,D.Po)(n)}},async disconnectSpringStore({commit:e,rootGetters:t}){const s=t["auth/authUser"];try{const t=await T();t.success&&e("setUserField",{userId:s.id,field:"isSpringConnected",status:!1})}catch(r){(0,D.Po)(r)}},async fetchSpringStoreUrl({commit:e,rootGetters:t},{userId:s}={}){const r=t["auth/authUserId"];try{const t=await $(s);t.embedUrl&&e("setUserField",{userId:s||r,field:"springStoreUrl",status:t.embedUrl})}catch(n){(0,D.Po)(n)}},async fetchNfts({commit:e},t){try{const s=await(0,E.J8)(t);e("setNfts",s.assets||[])}catch(s){Sentry.captureException(s)}}}},595097:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return E},getters:function(){return x},mutations:function(){return F},state:function(){return A}});var r=s(227361),n=s.n(r),a=s(782677),i=s(114494),o=s(975701);const c=(e={})=>{e.limit=e.limit||o.P9,e.offset=e.offset||0,e.format="infinite";const t=(0,o.XP)(e),s=`${o.tW}/lists${t}`;return o.ZP.get(s).then((e=>e.data))},d=e=>{const t=`${o.tW}/lists/${e}`;return o.ZP.get(t).then((e=>e.data))},u=({id:e,offset:t=0,limit:s=o.P9,query:r})=>{const n=(0,o.XP)({offset:t,limit:s,query:r||void 0}),a=`${o.tW}/lists/${e}/users${n}`;return o.ZP.get(a).then((e=>e.data))},l=e=>{const t=`${o.tW}/lists`;return o.ZP.post(t,{name:e}).then((e=>e.data))},m=({id:e,data:t})=>{const s=`${o.tW}/lists/${e}`;return o.ZP.patch(s,t).then((e=>e.data))},h=e=>{const t=`${o.tW}/lists/${e}`;return o.ZP["delete"](t).then((e=>e.data))},f=e=>{const t=`${o.tW}/lists/${e}/users`;return o.ZP["delete"](t).then((e=>e.data))},p=e=>{const t=`${o.tW}/lists/sort`;return o.ZP.post(t,e).then((e=>e.data))},g=({listId:e,data:t})=>{const s=`${o.tW}/lists/${e}/sort`;return o.ZP.post(s,t).then((e=>e.data))},y=({listId:e,data:t})=>{const s=`${o.tW}/lists/${e}/users/sort`;return o.ZP.patch(s,t).then((e=>e.data))},S=(e,t)=>{const s=`${o.tW}/lists/${e}/users/${t}`;return o.ZP.post(s).then((e=>e.data))},P=(e,t)=>{const s=`${o.tW}/lists/${e}/users/${t}`;return o.ZP["delete"](s).then((e=>e.data))},v=e=>{const t=`${o.tW}/lists/users`;return o.ZP.post(t,e).then((e=>e.data))},w=({listId:e,year:t,month:s})=>{const r=`${o.tW}/lists/${e}/users/awards/${t}/${s}`;return o.ZP.post(r).then((e=>e.data))},b=({listId:e,queueId:t})=>{const s=`${o.tW}/lists/${e}/users/queue/${t}/buyers`;return o.ZP.post(s).then((e=>e.data))},I=({type:e,listId:t,postId:s,optionId:r})=>{const n=`${o.tW}/lists/${t}/users/post/${s}/${e}${r?`/${r}`:""}`;return o.ZP.post(n).then((e=>e.data))},k=({type:e,listId:t,streamId:s})=>{const r=`${o.tW}/lists/${t}/users/stream/${s}/${e}`;return o.ZP.post(r).then((e=>e.data))},C=({type:e,listId:t,storyId:s})=>{const r=`${o.tW}/lists/${t}/users/story/${s}/${e}`;return o.ZP.post(r).then((e=>e.data))},T=({type:e,listId:t,id:s})=>{const r=`${o.tW}/lists/${t}/users/${e}/${s}/claims`;return o.ZP.post(r).then((e=>e.data))},$=({listId:e,campaignId:t})=>{const s=`${o.tW}/lists/${e}/users/campaign/${t}/claimers`;return o.ZP.post(s).then((e=>e.data))};var L=s(172462),M=s(243168);const _=()=>({items:{},usersListsIds:[],itemsUsersList:[],modalCustomListId:null,customOrderEnabled:!1,loading:!1,offset:0,usersOffset:0,hasMore:!1,needOpenListsModal:!1,isAddUsersMode:!1,pinnedIds:[],couldBePinnedList:[],currentFiltersIds:[],feedFiltersIds:[]}),A=_(),x={getUsersList:e=>t=>+t===t?e.items[t]:Object.keys(e.items).map((t=>e.items[t])).find((e=>e.type===t)),getFeedFilterListId:e=>{const[t]=e.feedFiltersIds;return t},getCurrentFilterIsPurchased:e=>{const[t]=e.feedFiltersIds;return"paid"===t},getCurrentFilterIsBlurred:e=>{const[t]=e.feedFiltersIds;return"locked"===t},getCurrentFilterIsPinned:e=>{const[t]=e.currentFiltersIds;return"pinned"===t},getAuthUserRelatedFilters:(e,t,s,r)=>e=>{const t=r["auth/authUser"];return"chat"===e?[t.tipsEnabled&&"who_tipped",t.countPriorityChat>0&&"priority",t.countPinnedChat>0&&"pinned",t.chatMessagesCount>0&&"unread"].filter((e=>!!e)):"feed"===e?[t.needTagCount&&"need-tag",t.hasPurchasedPosts&&"paid",t.paidFeed&&"locked"].filter((e=>!!e)):[]},getAuthUserRelatedFeedFilters:(e,t)=>t.getAuthUserRelatedFilters("feed"),getAuthUserRelatedChatFilters:(e,t)=>t.getAuthUserRelatedFilters("chat")},F={setIds(e,t=[]){e.usersListsIds=t},addIds(e,t){e.usersListsIds=[...new Set([...e.usersListsIds,...t])]},deleteUsersList(e,t){e.usersListsIds=e.usersListsIds.filter((e=>e!==t))},setModalCustomListId(e,t){e.modalCustomListId=t},setCustomOrderEnabled(e,t){e.customOrderEnabled=t},setLoading(e,t){e.loading=t},setOffset(e,t){e.offset=t},setUsersOffset(e,t){e.usersOffset=t},setUsersListUsers(e,{userIds:t=[],more:s=!1}={}){s||(e.itemsUsersList=[]),e.itemsUsersList=[...new Set([...e.itemsUsersList,...t])]},setNeedOpenListsModal(e,t){e.needOpenListsModal=t},updateUsersList(e,t){e.items[t.id]=t},setIsAddUsersMode(e,t){e.isAddUsersMode=t},setPinnedIds(e,t){e.pinnedIds=t},addPinnedIds(e,t){e.pinnedIds=[...new Set([...e.pinnedIds,...t])]},deletePinnedIds(e,t){e.pinnedIds=e.pinnedIds.filter((e=>!t.includes(e)))},addCouldBePinnedList(e,t){e.couldBePinnedList=[...new Set([...e.couldBePinnedList,...t])]},setCouldBePinnedList(e,t){e.couldBePinnedList=t},resetCouldBePinnedList(e){e.couldBePinnedList=[]},updateList(){},setListPinned(e,{listId:t,status:s}){e.items[t].isPinnedToFeed=s},setCurrentFiltersIds(e,t=[]){e.currentFiltersIds=t},setFeedFiltersIds(e,t=[]){e.feedFiltersIds=t},setChatFilters(e,t){e.currentFiltersIds=t},setHasMore(e,t){e.hasMore=t},resetCollectionsFilter(e){e.pinnedIds=[],e.couldBePinnedList=[],e.currentFiltersIds=[]},logout(e){Object.assign(e,_())}},E={async fetchUsersLists({commit:e,state:t,rootGetters:s,dispatch:r},n={}){e("setLoading",!0);try{const{more:i,notClear:d,filter:u,limit:l=o.P9}=n;delete n.more,delete n.notClear,i||(d||(u&&["can_pin","can_pin_chat"].includes(u)?e("resetCouldBePinnedList"):e("setIds")),e("setOffset",0)),"offset"in n||(n.offset=t.offset),s["users/needSkipUsersOnLists"]&&(n.skip_users="all");const m=await c(n);if(e("setLoading",!1),u||e("setOffset",t.offset+l),m&&m.list&&Array.isArray(m.list)){const t=(0,a.Fv)(m.list,M.jR);n.skip_users&&await r("users/getUsersIfNeeded",t,{root:!0});const s=t.result.map((e=>+e));e("set",t,{root:!0}),e("addIds",s),r("pinnedList",{filter:u,ids:s});const{hasMore:i}=m;e("setHasMore",i);const o=t.result;return{list:o,hasMore:i}}return(0,L.oj)({error:new Error("typeof response is incorrect"),extra:{response:m}}),{list:[],hasMore:!1}}catch(i){return e("setLoading",!1),Sentry.captureException(i),{list:[],hasMore:!1}}},async pinnedList({commit:e},{filter:t,ids:s}={}){t&&(["feed","chat"].includes(t)&&e("setPinnedIds",s),["can_pin","can_pin_chat"].includes(t)&&e("addCouldBePinnedList",s))},async fetchUsersList({commit:e},t){try{const s=await d(t);if(s&&s.id){const t=(0,a.Fv)(s,M.jX);e("set",t,{root:!0})}}catch(s){Sentry.captureException(s)}},async addUsersList({commit:e},t){try{const s=await l(t);if(s&&s.id){const t=(0,a.Fv)(s,M.jX);return e("set",t,{root:!0}),e("addIds",[+t.result]),s}return null}catch(s){return(0,L.Po)(s),null}},async updateUsersList({commit:e,rootState:t},{id:s,name:r}){try{const n=await m({id:s,data:{name:r}});if(n&&n.id){const s=(0,a.Fv)(n,M.jX);e("set",s,{root:!0}),Object.keys(t.users.items).forEach((s=>{if(t.users.items[s].listsStates){let r=!1;const a=[];t.users.items[s].listsStates.forEach(((e,t)=>{a[t]={...e},+e.id===+n.id&&(a[t].name=n.name,r=!0)})),r&&e("users/setUserField",{userId:s,field:"listsStates",status:a},{root:!0})}}))}}catch(n){(0,L.Po)(n)}},async clearUsersList({commit:e,getters:t,rootGetters:s},r){try{const n=await f(r);if(n&&n.id){const i=t.getUsersList(r)||{};"friends"===i.type&&e("users/setFriendsList",{userId:s["users/user"].id,friends:[]},{root:!0}),e("set",(0,a.Fv)(n,M.jX),{root:!0}),e("setUsersListUsers")}}catch(n){(0,L.Po)(n)}},async deleteUsersList({commit:e},t){try{const s=await h(t);if(s&&s.success)return e("deleteUsersList",t),e("setUsersListUsers"),!0}catch(s){(0,L.Po)(s)}return!1},async saveUsersListsOrder({commit:e,rootGetters:t},s){const{customOrder:r,sort:n,order:a}=s;try{const i=await p({customOrder:r,sort:n,order:a});if(i&&i.success)if(r)e("setIds",r);else if(n||a){const r=t["auth/authUserId"],a=n?"listsSort":"listsSortOrder",i=Object.values(s)[0];e("users/setUserField",{userId:r,field:a,status:i},{root:!0}),e("setLoading",!0)}}catch(i){(0,L.Po)(i)}},async toggleUserInList({commit:e,rootGetters:t,state:s,dispatch:r},{listId:n,userId:o}){try{const c=t["users/getUser"](o),d=c.listsStates.find((e=>+e.id===n)),u=d&&d.hasUser,l=u?await P(n,o):await S(n,o);if(l){if(l.userState){let a=[...new Set([...c.listsStates])];const d=a.findIndex((e=>+e.id===n));if(d>-1&&a.splice(d,1),!u){const e=[...new Set([...a,l.userState])];a=s.usersListsIds.filter((t=>void 0!==e.find((e=>+e.id===+t)))).map((t=>e.splice(e.findIndex((e=>+e.id===t)),1)[0])).concat(e)}if("friends"===l.userState.type){const s=t["auth/authUserId"],n=s||t["users/userId"],a=t["users/friends"][n]||[];["Profile"].includes(i.ZP.$route.name)&&a.length>9?await r("users/fetchFriendsList",{userId:s},{root:!0}):["Profile"].includes(i.ZP.$route.name)?e("users/setUserFriend",{authUserId:s,id:o},{root:!0}):(e("users/setUserFriend",{authUserId:s,id:o},{root:!0}),e("users/setForceFriendsReload",!0,{root:!0}))}"muted"!==l.userState.type||"Chat"!==i.ZP.$route.name&&"Chats"!==i.ZP.$route.name||e("chats/setMuteNotifications",o,{root:!0}),e("users/setUserField",{userId:o,field:"listsStates",status:a},{root:!0})}l.list&&(e("set",(0,a.Fv)(l.list,M.jX),{root:!0}),u&&s.itemsUsersList&&("CustomList"===i.ZP.$route.name&&n===+i.ZP.$route.params.list||"MyFriends"===i.ZP.$route.name&&"friends"===l.list.type||"close_friends"===i.ZP.$route.params.list&&"close_friends"===l.list.type||"Bookmarks"===i.ZP.$route.name&&"bookmarks"===l.list.type||"Favorites"===i.ZP.$route.name&&"favorites"===l.list.type)&&e("setUsersListUsers",{userIds:s.itemsUsersList.filter((e=>e!==o))}))}}catch(c){(0,L.Po)(c)}},async fetchUsersListUsers({commit:e,state:t},{id:s,more:r=!1,query:n}){try{r||(e("setUsersOffset",0),e("setUsersListUsers"));const i=await u({id:s,offset:t.usersOffset,query:n});if(i&&Array.isArray(i)){if(i.length){const s=(0,a.Fv)(i,M.Xd);return e("set",s,{root:!0}),e("setUsersOffset",t.usersOffset+s.result.length),e("setUsersListUsers",{userIds:s.result,more:r}),s.result}}else(0,L.oj)({error:new Error("typeof response is incorrect"),extra:{response:i}})}catch(i){Sentry.captureException(i)}return[]},async saveUsersListOrder(e,{listId:t,data:s}){try{return await g({listId:t,data:s})}catch(r){return(0,L.Po)(r),null}},async updateUsersListOrder(e,{listId:t,data:s}){try{return await y({listId:t,data:s})}catch(r){return(0,L.Po)(r),null}},async addTopFansToList({dispatch:e},{listId:t,year:s,month:r}){return e("addToList",{fn:w,params:{listId:t,year:s,month:r}})},async addCampaignClaimersToList({dispatch:e},{listId:t,campaignId:s}){return e("addToList",{fn:$,params:{listId:t,campaignId:s}})},async addUsersToLists({commit:e},t){try{const s=await v(t.data);t.updateFriendsList&&e("users/setForceFriendsReload",!0,{root:!0});const r=Object.keys(t.data),n=r.every((e=>s[e]&&t.data[e].every((t=>s[e].includes(t)))));return!!(s&&r.length&&n)||((0,L.Po)({}),null)}catch(s){return(0,L.Po)(s),null}},async addQueueBuyersToList({dispatch:e},{listId:t,queueId:s}){return e("addToList",{fn:b,params:{listId:t,queueId:s}})},async updateUsersListPin({commit:e,state:t},{listId:s,status:r}){try{e("setLoading",!0);const n={},o=["Feed","CustomList"].includes(i.ZP.$route.name);o?n.isPinnedToFeed=r:n.isPinnedToChat=r;const c=await m({id:s,data:n});if(c&&c.id){if(e(r?"addPinnedIds":"deletePinnedIds",[c.id]),e("set",(0,a.Fv)(c,M.jX),{root:!0}),+c.id!==+s){const r=[...t.usersListsIds];r[r.indexOf(+s)]=+c.id,e("setIds",r),e("setCouldBePinnedList",r)}e("setLoading",!1)}return c}catch(n){return e("setLoading",!1),(0,L.Po)(n),null}},updateFeedFiltersAndRefetch({commit:e,dispatch:t},s){if(["Feed","Purchased"].includes(i.ZP.$route.name)){e("setFeedFiltersIds",s);const[r]=s;e("posts/resetFeedItemIds",{},{root:!0}),e("posts/setPrevPostsToLoad",!1,{root:!0}),t("posts/fetchPosts",{direction:"bottom",listId:r},{root:!0}).catch((()=>{})),r&&!+r||(t(r?"stories/resetMyStories":"stories/fetchMyStories",{},{root:!0}),t("stories/fetchFeedStories",{list_id:r},{root:!0}),e("streams/setItemIds",[],{root:!0}),t("streams/fetchStreamsFeed",{list_id:r},{root:!0}))}else e("setCurrentFiltersIds",s)},async addPostUsersToList({dispatch:e},{type:t,listId:s,postId:r,optionId:n}){return e("addToList",{fn:I,params:{type:t,listId:s,postId:r,optionId:n}})},async addToList({commit:e,getters:t},{fn:s,params:r}){try{const a=await s(r);if(n()(a,"addedUsers.length",0)){const s={...t.getUsersList(r.listId)};s.usersCount+=a.addedUsers.length,s.users=a.addedUsers.reverse().concat(s.users).slice(0,5),e("updateUsersList",s)}return a}catch(a){return(0,L.Po)(a),null}},async addStreamUsersToList({commit:e,getters:t},{type:s,listId:r,streamId:n}){try{const a=await k({type:s,listId:r,streamId:n});if(a&&a.addedUsers&&a.addedUsers.length){const s={...t.getUsersList(r)};s.usersCount+=a.addedUsers.length,s.users=a.addedUsers.reverse().concat(s.users).slice(0,5),e("updateUsersList",s)}return a}catch(a){return(0,L.Po)(a),null}},async addStoryUsersToList({commit:e,getters:t},{type:s,listId:r,storyId:n}){try{const a=await C({type:s,listId:r,storyId:n});if(a&&a.addedUsers&&a.addedUsers.length){const s={...t.getUsersList(r)};s.usersCount+=a.addedUsers.length,s.users=a.addedUsers.reverse().concat(s.users).slice(0,5),e("updateUsersList",s)}return a}catch(a){return(0,L.Po)(a),null}},async addClaimsToList({commit:e,getters:t},{type:s,listId:r,id:n}){try{const a=await T({type:s,listId:r,id:n});if(a&&a.addedUsers&&a.addedUsers.length){const s={...t.getUsersList(r)};s.usersCount+=a.addedUsers.length,s.users=a.addedUsers.reverse().concat(s.users).slice(0,5),e("updateUsersList",s)}return a}catch(a){return(0,L.Po)(a),null}}}},243168:function(e,t,s){"use strict";s.d(t,{V4:function(){return Se},P$:function(){return Pe},rL:function(){return B},VR:function(){return j},w1:function(){return R},dO:function(){return Z},Nq:function(){return _},kN:function(){return M},Vc:function(){return ge},JJ:function(){return ye},vU:function(){return X},lR:function(){return S},xp:function(){return ee},WH:function(){return ae},iq:function(){return ie},ub:function(){return de},Xt:function(){return ue},eI:function(){return D},Rj:function(){return F},GD:function(){return ce},C_:function(){return V},W4:function(){return Y},zA:function(){return Q},nz:function(){return pe},BO:function(){return he},iT:function(){return E},Ro:function(){return q},H3:function(){return f},Vz:function(){return h},e_:function(){return re},oF:function(){return ne},CF:function(){return se},qn:function(){return te},Xd:function(){return T},IK:function(){return C},jX:function(){return $},jR:function(){return L},zr:function(){return le},Zi:function(){return me},$7:function(){return z}});var r=s(782677),n=s(227361),a=s.n(n),i=s(285088),o=()=>{const e=a()(window,"navigator.connection");if(!e||"object"!==typeof e)return{canUse:!1,isMobile:i.isMobile};const t={canUse:!0,isMobile:i.isMobile,good:!0};return e.downlinkMax&&e.downlinkMax>=1.5||e.downlink&&e.downlink>=1.5||"4g"===e.effectiveType||"wifi"===e.type?t:{canUse:!0,good:!1,isMobile:i.isMobile}};const c=e=>new Date(e).getTime()/1e3,d=(e,t,s,r)=>{const{canUse:n,isMobile:a,good:i}=o(),c=window.innerHeight;return"photo"===e?c<=r?s:t:n?i?t:s:a?s:t},u=e=>{const t=a()(e,"[0].canView"),s=a()(e,"[0].type","photo"),r=a()(e,"[0].files.source.url",""),n=a()(e,"[0].files.source.sources.720")||r,i=a()(e,"[0].files.preview.url")||r,o=a()(e,"[0].files.preview.height",0),c="photo"===s?i:n,u=`data:image/jpg;base64,${a()(e,"[0].files.locked.url","")}`;return t?d(s,r,c,o):u},l=e=>{const t=window.innerWidth,s=window.innerHeight,r=a()(e,"0.files.source.width"),n=a()(e,"0.files.source.height"),i=r/n,o=150,c=o/i,d=t/o,u=s/c,l=o*u,m=c*d;return l<=t?{bgPreviewWidth:l,bgPreviewHeight:s,originalMediaWidth:r,originalMediaHeight:n}:{bgPreviewWidth:t,bgPreviewHeight:m,originalMediaWidth:r,originalMediaHeight:n}},m=e=>{const{id:t,isExpired:s,canLike:r,canDelete:n,isWatched:i,isLiked:o,isReady:d,userId:m,isHighlightCover:h,isLastInHighlight:f,question:p,viewersCount:g,createdAt:y,media:S,viewers:P,likesCount:v,tipsAmount:w,tipsAmountRaw:b,tipsCount:I,commentsCount:k}=e,C=a()(S,"[0].canView"),T=!1!==d&&C?a()(S,"[0].type","photo"):"photo",$="gif"===T?"video":T,L=a()(S,"[0].files.source.duration",0),M=L<=5?5:L,_="photo"===T?void 0:L<=5,A=a()(S,"[0].files.preview.sources.w150",void 0),x=a()(S,"[0].files.squarePreview.sources.w480",void 0),F=C?A:"",E=y?c(y):void 0,{bgPreviewWidth:D,bgPreviewHeight:U,originalMediaWidth:O,originalMediaHeight:R}=l(S),Z=u(S),B=a()(S,"[0].files.locked.url",void 0);return{id:t,isExpired:s,canLike:r,canDelete:n,isLiked:o,isReady:d,userId:m,isWatched:i,isHighlightCover:h,isLastInHighlight:f,question:p,viewersCount:g,createdAt:y,type:$,mediaType:T,length:M,loop:_,thumb:A,time:E,viewers:P,bgPreviewWidth:D,bgPreviewHeight:U,originalMediaWidth:O,originalMediaHeight:R,loadingBg:F,src:Z,locked:B,thumbLarge:x,likesCount:v,tipsAmount:w,tipsAmountRaw:b,tipsCount:I,commentsCount:k}},h=new r.fK.Entity("bundles"),f=new r.fK.Array(h),p=new r.fK.Entity("subscribes",{},{idAttribute:(e,t)=>t.id,processStrategy(e,t){return{...e,id:t.id}}}),g=(new r.fK.Array(p),new r.fK.Entity("subscribers",{},{idAttribute:(e,t)=>t.id,processStrategy:(e,t)=>({...e,id:t.id})})),y=(new r.fK.Array(g),new r.fK.Entity("offers",{},{processStrategy(e,t){return{...e,userId:t.id}}})),S=new r.fK.Array(y),P={defaultUser:{openseaInfo:{isConnected:!1,permalink:null,openseaProfileLink:null,hasNft:!1}},mergeStrategy(e,t){let s=[];return e._views?s=e._views:e._view&&(s.push(e._view),delete e._view),t._view&&(s=[...new Set([...s,t._view])],delete t._view),{...e,...t,view:{...e.view||{},...t.view||{}},_views:s}},processStrategy(e){return e.username&&(e.view&&(e.view={[e.view]:+new Date}),e.newPostsAfterExpireCount&&(e.subscribedByData={newPostsAfterExpireCount:e.newPostsAfterExpireCount},delete e.newPostsAfterExpireCount)),e._view?e._views=[...new Set([...e._views||[],e._view])]:e={...P.defaultUser,...e},{...e,friendsList:[]}}},v=new r.fK.Entity("users",{},P),w=new r.fK.Entity("helperAccess",{user:v},{idAttribute:e=>e.userId}),b=new r.fK.Array(w),I=new r.fK.Entity("users",{},P),k=new r.fK.Array(I),C=new r.fK.Entity("users",{subscribedByData:p,subscribedOnData:g,subscriptionBundles:f,helperAccess:b,connectedOfAccounts:k},P),T=new r.fK.Array(C),$=new r.fK.Entity("usersLists",{users:T},{processStrategy(e){return e.id=+e.id,{...e}}}),L=new r.fK.Array($),M=new r.fK.Entity("comments",{author:C}),_=new r.fK.Array(M),A=new r.fK.Entity("linkedPosts",{author:C},{processStrategy(e){return{...e,comments:[],streamEvents:[],favoritesList:[],tipsList:[],buyersList:[]}}}),x=new r.fK.Array(A),F=new r.fK.Entity("posts",{author:C,fromUser:C,linkedPosts:x,linkedUsers:T},{idAttribute:e=>e.id>0?e.id:e.queueId,processStrategy(e){return{...e,...void 0!==e.createdAt&&{postedAt:e.createdAt},id:e.id>0?e.id:e.queueId,streamEvents:[],favoritesList:[],tipsList:[],buyersList:[]}}}),E=new r.fK.Entity("stories",{},{processStrategy:m}),D=new r.fK.Array(F),U={processStrategy(e){return{...e,likePrevent:!1,isMediaPlayed:!1,fromUser:e.fromUser.id}}},O=new r.fK.Entity("messages",{},U),R=new r.fK.Entity("messages",{replyToMessage:O,story:E},U),Z=new r.fK.Entity("chats",{withUser:C,lastMessage:R},{idAttribute:e=>e.withUser.id,processStrategy(e){return{...e,messages:[],typing:!1}}}),B=new r.fK.Array(Z),j=new r.fK.Array(R),W=new r.fK.Entity("streams",{user:C}),q=new r.fK.Array(W),V=new r.fK.Array(C),N=new r.fK.Entity("notification",{user:C,story:E}),H=new r.fK.Entity("votersList",{user:C},{processStrategy(e){return{...e}}}),z=new r.fK.Array(H),X=new r.fK.Array(N),G=new r.fK.Entity("spotifyArtists"),Y=new r.fK.Array(G),K=new r.fK.Entity("spotifyTracks"),Q=new r.fK.Array(K),J=new r.fK.Entity("cards"),ee=new r.fK.Array(J),te=new r.fK.Entity("ticketReplies"),se=new r.fK.Array(te),re=new r.fK.Entity("supportTickets",{lastComment:te}),ne=new r.fK.Array(re),ae=new r.fK.Entity("performerHelpers",{helper:C},{idAttribute:e=>e.helperId}),ie=new r.fK.Array(ae),oe=new r.fK.Entity("queues"),ce=new r.fK.Array(oe),de=new r.fK.Entity("postLabels"),ue=new r.fK.Array(de),le=new r.fK.Entity("vaultLists"),me=new r.fK.Array(le),he=new r.fK.Array(E),fe=new r.fK.Entity("userStories",{stories:he,user:C},{idAttribute:e=>e.user.id}),pe=new r.fK.Array(fe),ge=new r.fK.Entity("highlights",{stories:he}),ye=new r.fK.Array(ge),Se=new r.fK.Entity("massMessagesStat"),Pe=new r.fK.Array(Se),ve=new r.fK.Entity("releaseForms");new r.fK.Array(ve)},58086:function(e,t){"use strict";const s={getDurationFormat(e){return e<3600?"m:ss":"H:mm:ss"},getDurationWithText(e){return e>=3600?"H[h] m[min]":"m[min] s[sec]"},secondsToHms(e){let t="";e=+e;const s=Math.floor(e/3600),r=Math.floor(e%3600/60),n=Math.floor(e%3600%60);if(s>48)return t;const a=s>0?`${s}h`:"",i=r>0?`${r}m`:"",o=n>0?`${n}s`:"";return a?t=`${a} ${i}`:i&&e>120?t=`${i} ${o}`:e<=120&&(t=`${e}s`),t}};t["Z"]=s},963729:function(e,t,s){"use strict";s.d(t,{L:function(){return n},P:function(){return r}});const r=()=>{const e={};return e.promise=new Promise(((t,s)=>{e.resolve=t,e.reject=s})),e},n=e=>{const t=e.map((e=>Promise.resolve(e).then((e=>({status:"fulfilled",value:e})),(e=>({status:"rejected",reason:e})))));return Promise.all(t)}},199887:function(e,t,s){"use strict";function r(){let e=!1;if("maxTouchPoints"in navigator)e=navigator.maxTouchPoints>0;else if("msMaxTouchPoints"in navigator)null!==navigator&&(e=navigator.msMaxTouchPoints>0);else{const t=window.matchMedia&&matchMedia("(pointer:coarse)");if(t&&"(pointer:coarse)"===t.media)e=!!t.matches;else if("orientation"in window)e=!0;else{const t=navigator.userAgent;e=/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(t)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(t)}}return e}s.d(t,{b:function(){return n}});const n=r()},793634:function(e,t,s){"use strict";s.d(t,{C:function(){return n},Q:function(){return r}});const r=e=>{const t=document.createElement("div");t.classList.add("b-dropdown-wrapper");const s=document.createElement("div");s.classList.add("overlay"),s.addEventListener("click",(()=>{e.vueTarget.hide()}),{once:!0}),t.appendChild(e.target),t.appendChild(s),document.body.appendChild(t)},n=e=>{let t;if(e.vueTarget)t=e.target.closest(".b-dropdown-wrapper"),e.vueTarget.$el.appendChild(e.target);else{const s=document.body.querySelector(`.b-dropdown-wrapper ul[aria-labelledby=${e.id}__BV_toggle_]`);t=s&&s.parentElement}t&&t.remove()}},172462:function(e,t,s){"use strict";s.d(t,{Po:function(){return d},Ri:function(){return m},Ul:function(){return l},WH:function(){return f},oj:function(){return u}});var r=s(747037),n=s.n(r),a=s(227361),i=s.n(a),o=s(114494),c=s(550615);const d=(e,t,s)=>{if(e&&"silent"===e.message)return;const r=c.Z.state.formApiErrors.hasError&&i()(e,"data.errors");let n,a=!0;if(null!==t&&"object"===typeof t&&({message:t,onclose:s,buttons:n,html:a=!0}=t),t=t||i()(e,"data.error.message")||i()(e,"data.error.templates")||i()(e,"message")||o.ZP.$t("message.debug_alert_message"),e&&void 0!==i()(e,"request.status")&&i()(e,"request.status")>=500&&!(e instanceof Error&&"Network Error"===e.message)){const s=e instanceof Error;if(s)Sentry.captureException(e);else{const s=new Error(t);s.name="Non-error in errorHandler",Sentry.withScope((t=>{t.setExtras(e),Sentry.captureException(new Error(s))}))}}t&&!r&&alert({message:t,html:a,onclose:s,buttons:n})},u=({error:e,tags:t,extra:s})=>{t=t||{},s=s||{},e&&Sentry.withScope((r=>{for(const[e,s]of Object.entries(t))r.setTag(e,s);for(const[e,t]of Object.entries(s))r.setExtra(e,t);Sentry.captureException(e)}))},l=({message:e,tags:t,extra:s})=>{h({data:e,severity:"log",tags:t,extra:s})},m=({error:e,tags:t,extra:s})=>{h({data:e,severity:"error",tags:t,extra:s})},h=({data:e,severity:t="log",tags:s={},extra:r={}})=>{e&&SentryStreams.withScope((a=>{for(const[e,t]of Object.entries(s))a.setTag(e,t);for(const[e,t]of Object.entries(r))a.setExtra(e,t);"error"===t?(n()(e)&&(e=new Error(e)),SentryStreams.captureException(e)):SentryStreams.captureMessage(e,t)}))},f=(e,t)=>{e instanceof Error&&"Network Error"===e.message||e&&e.status>500?o.ZP.$bvToast.toast(o.ZP.$t("message.api_error"),{autoHideDelay:5e3,appendToast:!0,toaster:"b-toaster-bottom-left"}):"function"===typeof t&&t.call(null,e)}},925832:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var r=s(114494),n=s(975701);const a=(e={})=>{const t=`${n.tW}/issues/login`;return n.ZP.post(t,e).then((e=>e.data))};var i=async()=>{const e=await a();if(e){"fraud_repayment"===e.action&&(r.ZP.$store.commit("init/setFraudRepaymentData",e.data,{root:!0}),r.ZP.$store.commit("init/setIsFraudRepayment",!0,{root:!0})),"login_requires_iv_wait_iv"===e.action&&(r.ZP.$store.commit("init/setlLoginRequiresIv",e.data,{root:!0}),r.ZP.$store.commit("init/setIsNeedIV",!0,{root:!0}));const t=(0,n.Es)(window.location);if(t){const{route:s}=r.ZP.$router.resolve(t),n=r.ZP.$store.getters["auth/authUser"];(!s||!s.meta||!s.meta.allowFraudRepayment&&"fraud_repayment"===e.action||!s.meta.allowNeedLoginIV&&"login_requires_iv_wait_iv"===e.action||s.params.userId&&s.params.userId!==n.username)&&r.ZP.$router.replace({name:"Profile",params:{userId:n.username}})}}}},927598:function(e,t){"use strict";t["Z"]=e=>[...new Set(e.map((e=>e.id)))].map((t=>e.filter((e=>e.id===t)).pop()))},470039:function(e,t,s){var r;(function(n,a,i,o){"use strict";var c,d=["","webkit","Moz","MS","ms","o"],u=a.createElement("div"),l="function",m=Math.round,h=Math.abs,f=Date.now;function p(e,t,s){return setTimeout(b(e,s),t)}function g(e,t,s){return!!Array.isArray(e)&&(y(e,s[t],s),!0)}function y(e,t,s){var r;if(e)if(e.forEach)e.forEach(t,s);else if(e.length!==o){r=0;while(r<e.length)t.call(s,e[r],r,e),r++}else for(r in e)e.hasOwnProperty(r)&&t.call(s,e[r],r,e)}function S(e,t,s){var r="DEPRECATED METHOD: "+t+"\n"+s+" AT \n";return function(){var t=new Error("get-stack-trace"),s=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=n.console&&(n.console.warn||n.console.log);return a&&a.call(n.console,r,s),e.apply(this,arguments)}}c="function"!==typeof Object.assign?function(e){if(e===o||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),s=1;s<arguments.length;s++){var r=arguments[s];if(r!==o&&null!==r)for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])}return t}:Object.assign;var P=S((function(e,t,s){var r=Object.keys(t),n=0;while(n<r.length)(!s||s&&e[r[n]]===o)&&(e[r[n]]=t[r[n]]),n++;return e}),"extend","Use `assign`."),v=S((function(e,t){return P(e,t,!0)}),"merge","Use `assign`.");function w(e,t,s){var r,n=t.prototype;r=e.prototype=Object.create(n),r.constructor=e,r._super=n,s&&c(r,s)}function b(e,t){return function(){return e.apply(t,arguments)}}function I(e,t){return typeof e==l?e.apply(t&&t[0]||o,t):e}function k(e,t){return e===o?t:e}function C(e,t,s){y(M(t),(function(t){e.addEventListener(t,s,!1)}))}function T(e,t,s){y(M(t),(function(t){e.removeEventListener(t,s,!1)}))}function $(e,t){while(e){if(e==t)return!0;e=e.parentNode}return!1}function L(e,t){return e.indexOf(t)>-1}function M(e){return e.trim().split(/\s+/g)}function _(e,t,s){if(e.indexOf&&!s)return e.indexOf(t);var r=0;while(r<e.length){if(s&&e[r][s]==t||!s&&e[r]===t)return r;r++}return-1}function A(e){return Array.prototype.slice.call(e,0)}function x(e,t,s){var r=[],n=[],a=0;while(a<e.length){var i=t?e[a][t]:e[a];_(n,i)<0&&r.push(e[a]),n[a]=i,a++}return s&&(r=t?r.sort((function(e,s){return e[t]>s[t]})):r.sort()),r}function F(e,t){var s,r,n=t[0].toUpperCase()+t.slice(1),a=0;while(a<d.length){if(s=d[a],r=s?s+n:t,r in e)return r;a++}return o}var E=1;function D(){return E++}function U(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||n}var O="ontouchstart"in n,R=!1,Z=!0,B="touch",j="pen",W="mouse",q="kinect",V=25,N=1,H=2,z=4,X=8,G=1,Y=2,K=4,Q=8,J=16,ee=Y|K,te=Q|J,se=ee|te,re=["x","y"],ne=["clientX","clientY"];function ae(e,t){var s=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){I(e.options.enable,[e])&&s.handler(t)},this.init()}function ie(e){var t,s=e.options.inputClass;return t=s||(R?$e:Z?De:O?Re:be),new t(e,oe)}function oe(e,t,s){var r=s.pointers.length,n=s.changedPointers.length,a=t&N&&r-n===0,i=t&(z|X)&&r-n===0;s.isFirst=!!a,s.isFinal=!!i,a&&(e.session={}),s.eventType=t,ce(e,s),e.emit("hammer.input",s),e.recognize(s),e.session.prevInput=s}function ce(e,t){var s=e.session,r=t.pointers,n=r.length;s.firstInput||(s.firstInput=le(t)),n>1&&!s.firstMultiple?s.firstMultiple=le(t):1===n&&(s.firstMultiple=!1);var a=s.firstInput,i=s.firstMultiple,o=i?i.center:a.center,c=t.center=me(r);t.timeStamp=f(),t.deltaTime=t.timeStamp-a.timeStamp,t.angle=ge(o,c),t.distance=pe(o,c),de(s,t),t.offsetDirection=fe(t.deltaX,t.deltaY);var d=he(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=d.x,t.overallVelocityY=d.y,t.overallVelocity=h(d.x)>h(d.y)?d.x:d.y,t.scale=i?Se(i.pointers,r):1,t.rotation=i?ye(i.pointers,r):0,t.maxPointers=s.prevInput?t.pointers.length>s.prevInput.maxPointers?t.pointers.length:s.prevInput.maxPointers:t.pointers.length,ue(s,t);var u=e.element;$(t.srcEvent.target,u)&&(u=t.srcEvent.target),t.target=u}function de(e,t){var s=t.center,r=e.offsetDelta||{},n=e.prevDelta||{},a=e.prevInput||{};t.eventType!==N&&a.eventType!==z||(n=e.prevDelta={x:a.deltaX||0,y:a.deltaY||0},r=e.offsetDelta={x:s.x,y:s.y}),t.deltaX=n.x+(s.x-r.x),t.deltaY=n.y+(s.y-r.y)}function ue(e,t){var s,r,n,a,i=e.lastInterval||t,c=t.timeStamp-i.timeStamp;if(t.eventType!=X&&(c>V||i.velocity===o)){var d=t.deltaX-i.deltaX,u=t.deltaY-i.deltaY,l=he(c,d,u);r=l.x,n=l.y,s=h(l.x)>h(l.y)?l.x:l.y,a=fe(d,u),e.lastInterval=t}else s=i.velocity,r=i.velocityX,n=i.velocityY,a=i.direction;t.velocity=s,t.velocityX=r,t.velocityY=n,t.direction=a}function le(e){var t=[],s=0;while(s<e.pointers.length)t[s]={clientX:m(e.pointers[s].clientX),clientY:m(e.pointers[s].clientY)},s++;return{timeStamp:f(),pointers:t,center:me(t),deltaX:e.deltaX,deltaY:e.deltaY}}function me(e){var t=e.length;if(1===t)return{x:m(e[0].clientX),y:m(e[0].clientY)};var s=0,r=0,n=0;while(n<t)s+=e[n].clientX,r+=e[n].clientY,n++;return{x:m(s/t),y:m(r/t)}}function he(e,t,s){return{x:t/e||0,y:s/e||0}}function fe(e,t){return e===t?G:h(e)>=h(t)?e<0?Y:K:t<0?Q:J}function pe(e,t,s){s||(s=re);var r=t[s[0]]-e[s[0]],n=t[s[1]]-e[s[1]];return Math.sqrt(r*r+n*n)}function ge(e,t,s){s||(s=re);var r=t[s[0]]-e[s[0]],n=t[s[1]]-e[s[1]];return 180*Math.atan2(n,r)/Math.PI}function ye(e,t){return ge(t[1],t[0],ne)+ge(e[1],e[0],ne)}function Se(e,t){return pe(t[0],t[1],ne)/pe(e[0],e[1],ne)}ae.prototype={handler:function(){},init:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(U(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(U(this.element),this.evWin,this.domHandler)}};var Pe={mousedown:N,mousemove:H,mouseup:z},ve="mousedown",we="mousemove mouseup";function be(){this.evEl=ve,this.evWin=we,this.pressed=!1,ae.apply(this,arguments)}w(be,ae,{handler:function(e){var t=Pe[e.type];t&N&&0===e.button&&(this.pressed=!0),t&H&&1!==e.which&&(t=z),this.pressed&&(t&z&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:W,srcEvent:e}))}});var Ie={pointerdown:N,pointermove:H,pointerup:z,pointercancel:X,pointerout:X},ke={2:B,3:j,4:W,5:q},Ce="pointerdown",Te="pointermove pointerup pointercancel";function $e(){this.evEl=Ce,this.evWin=Te,ae.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}n.MSPointerEvent&&!n.PointerEvent&&(Ce="MSPointerDown",Te="MSPointerMove MSPointerUp MSPointerCancel"),w($e,ae,{handler:function(e){var t=this.store,s=!1,r=e.type.toLowerCase().replace("ms",""),n=Ie[r],a=ke[e.pointerType]||e.pointerType,i=a==B,o=_(t,e.pointerId,"pointerId");n&N&&(0===e.button||i)?o<0&&(t.push(e),o=t.length-1):n&(z|X)&&(s=!0),o<0||(t[o]=e,this.callback(this.manager,n,{pointers:t,changedPointers:[e],pointerType:a,srcEvent:e}),s&&t.splice(o,1))}});var Le={touchstart:N,touchmove:H,touchend:z,touchcancel:X},Me="touchstart",_e="touchstart touchmove touchend touchcancel";function Ae(){this.evTarget=Me,this.evWin=_e,this.started=!1,ae.apply(this,arguments)}function xe(e,t){var s=A(e.touches),r=A(e.changedTouches);return t&(z|X)&&(s=x(s.concat(r),"identifier",!0)),[s,r]}w(Ae,ae,{handler:function(e){var t=Le[e.type];if(t===N&&(this.started=!0),this.started){var s=xe.call(this,e,t);t&(z|X)&&s[0].length-s[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:s[0],changedPointers:s[1],pointerType:B,srcEvent:e})}}});var Fe={touchstart:N,touchmove:H,touchend:z,touchcancel:X},Ee="touchstart touchmove touchend touchcancel";function De(){this.evTarget=Ee,this.targetIds={},ae.apply(this,arguments)}function Ue(e,t){var s=A(e.touches),r=this.targetIds;if(t&(N|H)&&1===s.length)return r[s[0].identifier]=!0,[s,s];var n,a,i=A(e.changedTouches),o=[];this.target;if(a=s.filter((function(e){return!0})),t===N){n=0;while(n<a.length)r[a[n].identifier]=!0,n++}n=0;while(n<i.length)r[i[n].identifier]&&o.push(i[n]),t&(z|X)&&delete r[i[n].identifier],n++;return o.length?[x(a.concat(o),"identifier",!0),o]:void 0}w(De,ae,{handler:function(e){var t=Fe[e.type],s=Ue.call(this,e,t);s&&this.callback(this.manager,t,{pointers:s[0],changedPointers:s[1],pointerType:B,srcEvent:e})}});var Oe=2500;function Re(){ae.apply(this,arguments);var e=b(this.handler,this);this.touch=new De(this.manager,e),this.mouse=new be(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function Ze(e,t){e&N?(this.primaryTouch=t.changedPointers[0].identifier,Be.call(this,t)):e&(z|X)&&Be.call(this,t)}function Be(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var s={x:t.clientX,y:t.clientY};this.lastTouches.push(s);var r=this.lastTouches,n=function(){var e=r.indexOf(s);e>-1&&r.splice(e,1)};setTimeout(n,Oe)}}function je(e){for(var t=e.srcEvent.clientX,s=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var n=this.lastTouches[r],a=Math.abs(t-n.x),i=Math.abs(s-n.y);if(a<=DEDUP_DISTANCE&&i<=DEDUP_DISTANCE)return!0}return!1}w(Re,ae,{handler:function(e,t,s){var r=s.pointerType==B,n=s.pointerType==W;if(!(n&&s.sourceCapabilities&&s.sourceCapabilities.firesTouchEvents)){if(r)Ze.call(this,t,s);else if(n&&je.call(this,s))return;this.callback(e,t,s)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var We=F(u.style,"touchAction"),qe=We!==o,Ve="compute",Ne="auto",He="manipulation",ze="none",Xe="pan-x",Ge="pan-y",Ye=Je();function Ke(e,t){this.manager=e,this.set(t)}function Qe(e){if(L(e,ze))return ze;var t=L(e,Xe),s=L(e,Ge);return t&&s?ze:t||s?t?Xe:Ge:L(e,He)?He:Ne}function Je(){if(!qe)return!1;var e={},t=n.CSS&&n.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(s){e[s]=!t||n.CSS.supports("touch-action",s)})),e}Ke.prototype={set:function(e){e==Ve&&(e=this.compute()),qe&&this.manager.element.style&&Ye[e]&&(this.manager.element.style[We]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return y(this.manager.recognizers,(function(t){I(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),Qe(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,s=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,n=L(r,ze)&&!Ye[ze],a=L(r,Ge)&&!Ye[Ge],i=L(r,Xe)&&!Ye[Xe];if(n){var o=1===e.pointers.length,c=e.distance<2,d=e.deltaTime<250;if(o&&c&&d)return}if(!i||!a)return n||a&&s&ee||i&&s&te?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var et=1,tt=2,st=4,rt=8,nt=rt,at=16,it=32;function ot(e){this.options=c({},this.defaults,e||{}),this.id=D(),this.manager=null,this.options.enable=k(this.options.enable,!0),this.state=et,this.simultaneous={},this.requireFail=[]}function ct(e){return e&at?"cancel":e&rt?"end":e&st?"move":e&tt?"start":""}function dt(e){return e==J?"down":e==Q?"up":e==Y?"left":e==K?"right":""}function ut(e,t){var s=t.manager;return s?s.get(e):e}function lt(){ot.apply(this,arguments)}function mt(){lt.apply(this,arguments),this.pX=null,this.pY=null}function ht(){lt.apply(this,arguments)}function ft(){ot.apply(this,arguments),this._timer=null,this._input=null}function pt(){lt.apply(this,arguments)}function gt(){lt.apply(this,arguments)}function yt(){ot.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function St(e,t){return t=t||{},t.recognizers=k(t.recognizers,St.defaults.preset),new wt(e,t)}ot.prototype={defaults:{},set:function(e){return c(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(g(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=ut(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return g(e,"dropRecognizeWith",this)||(e=ut(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(g(e,"requireFailure",this))return this;var t=this.requireFail;return e=ut(e,this),-1===_(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(g(e,"dropRequireFailure",this))return this;e=ut(e,this);var t=_(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,s=this.state;function r(s){t.manager.emit(s,e)}s<rt&&r(t.options.event+ct(s)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),s>=rt&&r(t.options.event+ct(s))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=it},canEmit:function(){var e=0;while(e<this.requireFail.length){if(!(this.requireFail[e].state&(it|et)))return!1;e++}return!0},recognize:function(e){var t=c({},e);if(!I(this.options.enable,[this,t]))return this.reset(),void(this.state=it);this.state&(nt|at|it)&&(this.state=et),this.state=this.process(t),this.state&(tt|st|rt|at)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},w(lt,ot,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,s=e.eventType,r=t&(tt|st),n=this.attrTest(e);return r&&(s&X||!n)?t|at:r||n?s&z?t|rt:t&tt?t|st:tt:it}}),w(mt,lt,{defaults:{event:"pan",threshold:10,pointers:1,direction:se},getTouchAction:function(){var e=this.options.direction,t=[];return e&ee&&t.push(Ge),e&te&&t.push(Xe),t},directionTest:function(e){var t=this.options,s=!0,r=e.distance,n=e.direction,a=e.deltaX,i=e.deltaY;return n&t.direction||(t.direction&ee?(n=0===a?G:a<0?Y:K,s=a!=this.pX,r=Math.abs(e.deltaX)):(n=0===i?G:i<0?Q:J,s=i!=this.pY,r=Math.abs(e.deltaY))),e.direction=n,s&&r>t.threshold&&n&t.direction},attrTest:function(e){return lt.prototype.attrTest.call(this,e)&&(this.state&tt||!(this.state&tt)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=dt(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),w(ht,lt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ze]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&tt)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),w(ft,ot,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Ne]},process:function(e){var t=this.options,s=e.pointers.length===t.pointers,r=e.distance<t.threshold,n=e.deltaTime>t.time;if(this._input=e,!r||!s||e.eventType&(z|X)&&!n)this.reset();else if(e.eventType&N)this.reset(),this._timer=p((function(){this.state=nt,this.tryEmit()}),t.time,this);else if(e.eventType&z)return nt;return it},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===nt&&(e&&e.eventType&z?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),w(pt,lt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ze]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&tt)}}),w(gt,lt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:ee|te,pointers:1},getTouchAction:function(){return mt.prototype.getTouchAction.call(this)},attrTest:function(e){var t,s=this.options.direction;return s&(ee|te)?t=e.overallVelocity:s&ee?t=e.overallVelocityX:s&te&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&s&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&h(t)>this.options.velocity&&e.eventType&z},emit:function(e){var t=dt(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),w(yt,ot,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[He]},process:function(e){var t=this.options,s=e.pointers.length===t.pointers,r=e.distance<t.threshold,n=e.deltaTime<t.time;if(this.reset(),e.eventType&N&&0===this.count)return this.failTimeout();if(r&&n&&s){if(e.eventType!=z)return this.failTimeout();var a=!this.pTime||e.timeStamp-this.pTime<t.interval,i=!this.pCenter||pe(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,i&&a?this.count+=1:this.count=1,this._input=e;var o=this.count%t.taps;if(0===o)return this.hasRequireFailures()?(this._timer=p((function(){this.state=nt,this.tryEmit()}),t.interval,this),tt):nt}return it},failTimeout:function(){return this._timer=p((function(){this.state=it}),this.options.interval,this),it},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==nt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),St.VERSION="2.0.7",St.defaults={domEvents:!1,touchAction:Ve,enable:!0,inputTarget:null,inputClass:null,preset:[[pt,{enable:!1}],[ht,{enable:!1},["rotate"]],[gt,{direction:ee}],[mt,{direction:ee},["swipe"]],[yt],[yt,{event:"doubletap",taps:2},["tap"]],[ft]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Pt=1,vt=2;function wt(e,t){this.options=c({},St.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=ie(this),this.touchAction=new Ke(this,this.options.touchAction),bt(this,!0),y(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function bt(e,t){var s,r=e.element;r.style&&(y(e.options.cssProps,(function(n,a){s=F(r.style,a),t?(e.oldCssProps[s]=r.style[s],r.style[s]=n):r.style[s]=e.oldCssProps[s]||""})),t||(e.oldCssProps={}))}function It(e,t){var s=a.createEvent("Event");s.initEvent(e,!0,!0),s.gesture=t,t.target.dispatchEvent(s)}wt.prototype={set:function(e){return c(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?vt:Pt},recognize:function(e){var t=this.session;if(!t.stopped){var s;this.touchAction.preventDefaults(e);var r=this.recognizers,n=t.curRecognizer;(!n||n&&n.state&nt)&&(n=t.curRecognizer=null);var a=0;while(a<r.length)s=r[a],t.stopped===vt||n&&s!=n&&!s.canRecognizeWith(n)?s.reset():s.recognize(e),!n&&s.state&(tt|st|rt)&&(n=t.curRecognizer=s),a++}},get:function(e){if(e instanceof ot)return e;for(var t=this.recognizers,s=0;s<t.length;s++)if(t[s].options.event==e)return t[s];return null},add:function(e){if(g(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(g(e,"remove",this))return this;if(e=this.get(e),e){var t=this.recognizers,s=_(t,e);-1!==s&&(t.splice(s,1),this.touchAction.update())}return this},on:function(e,t){if(e!==o&&t!==o){var s=this.handlers;return y(M(e),(function(e){s[e]=s[e]||[],s[e].push(t)})),this}},off:function(e,t){if(e!==o){var s=this.handlers;return y(M(e),(function(e){t?s[e]&&s[e].splice(_(s[e],t),1):delete s[e]})),this}},emit:function(e,t){this.options.domEvents&&It(e,t);var s=this.handlers[e]&&this.handlers[e].slice();if(s&&s.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};var r=0;while(r<s.length)s[r](t),r++}},destroy:function(){this.element&&bt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},c(St,{INPUT_START:N,INPUT_MOVE:H,INPUT_END:z,INPUT_CANCEL:X,STATE_POSSIBLE:et,STATE_BEGAN:tt,STATE_CHANGED:st,STATE_ENDED:rt,STATE_RECOGNIZED:nt,STATE_CANCELLED:at,STATE_FAILED:it,DIRECTION_NONE:G,DIRECTION_LEFT:Y,DIRECTION_RIGHT:K,DIRECTION_UP:Q,DIRECTION_DOWN:J,DIRECTION_HORIZONTAL:ee,DIRECTION_VERTICAL:te,DIRECTION_ALL:se,Manager:wt,Input:ae,TouchAction:Ke,TouchInput:De,MouseInput:be,PointerEventInput:$e,TouchMouseInput:Re,SingleTouchInput:Ae,Recognizer:ot,AttrRecognizer:lt,Tap:yt,Pan:mt,Swipe:gt,Pinch:ht,Rotate:pt,Press:ft,on:C,off:T,each:y,merge:v,extend:P,assign:c,inherit:w,bindFn:b,prefixed:F});var kt="undefined"!==typeof n?n:"undefined"!==typeof self?self:{};kt.Hammer=St,r=function(){return St}.call(t,s,t,e),r===o||(e.exports=r)})(window,document)},161065:function(e,t,s){"use strict";s.d(t,{O:function(){return n}});var r=s(550615);const n=()=>{let e=[];return r.Z.getters["auth/authUser"].activeHelperAccess&&r.Z.getters["auth/authUser"].activeHelperAccess.permissions.forEach((t=>{let s=[];switch(t){case"chats":s=["/my/chats","/my/mass_chats"];break;case"posts":s=["/posts/create",`/${r.Z.getters["auth/authUser"].username}`,`/${r.Z.getters["auth/authUser"].id}`,`/u${r.Z.getters["auth/authUser"].id}`];break;case"stats":s=["/my/statistics"];break;default:break}e=[...new Set([...e,...s])]})),e}},914786:function(e,t){"use strict";const s=(e,t=null)=>{try{const s=localStorage.getItem(e);return null===s||"undefined"==typeof s?t:s}catch(s){return t}},r=(e,t)=>{try{return localStorage.setItem(e,t)}catch(s){}},n=e=>{try{return localStorage.removeItem(e)}catch(t){}},a=(e,t=null)=>{try{const s=sessionStorage.getItem(e);return null===s||"undefined"==typeof s?t:s}catch(s){return t}},i=(e,t)=>{try{return sessionStorage.setItem(e,t)}catch(s){}},o=e=>{try{return sessionStorage.removeItem(e)}catch(t){}};t["Z"]={getItem:s,setItem:r,removeItem:n,getSessionItem:a,setSessionItem:i,removeSessionItem:o}},378945:function(e,t,s){"use strict";s.d(t,{C:function(){return r},w:function(){return n}});const r=e=>{switch(e){case"likes":return"favorites";case"media":return"medias";default:return e}},n=(e=[],t={})=>Array.isArray(e)&&e.length&&t&&"object"===typeof t&&Object.keys(t).length?e.reduce(((e,s)=>(s&&t[s]&&e.push(t[s]),e)),[]):[]},427166:function(e,t,s){"use strict";s.d(t,{P:function(){return a}});var r=s(968929),n=s.n(r);const a=e=>{const t=new RegExp(/^ondato/gi),s=new RegExp(/ondato/gi);return Object.keys(e).reduce(((r,a)=>{const i=s.test(a)||t.test(a);if(!i)return r[a]=e[a],r;const o=a.replace(/ondato/gi,"IV");return r[n()(o)]=e[a],r}),{})}},403650:function(e,t,s){"use strict";s.d(t,{OT:function(){return o},xm:function(){return a}});const r=!0;let n="https://static.onlyfans.com";{const e="https://static.onlyfans.com".split("|").filter((e=>e));e.length&&(n=e[Math.round(Math.random()*(e.length-1))])}const a=n,i=r?`${n}/theme/onlyfans/spa/`:"/",o=r?"/theme/onlyfans/spa/icons/sprite.svg?rev=202212072129-bda26c0f29#":"/icons/sprite.svg#";s.p=i},315223:function(e,t,s){"use strict";s.d(t,{D:function(){return r}});const r=()=>{const e=document.querySelector("#recovery_mode");e?(e.style.display="block",document.querySelector("#recovery_mode_progress").style.animation="recovery_progress 15s linear",window.isRecoveryMode=!0,setTimeout((()=>{window.location.reload()}),15e3)):window.location.reload()}},975701:function(e,t,s){"use strict";s.d(t,{JW:function(){return k},tW:function(){return C},XP:function(){return R},K$:function(){return U},ZP:function(){return H},P9:function(){return T},Yz:function(){return V},gy:function(){return j},HS:function(){return W},jT:function(){return N},Es:function(){return Z},Zh:function(){return B},r:function(){return I}});s(782801);var r=s(550196),n=s(193810),a=s.n(n),i=s(428662),o=s(513218),c=s.n(o),d=s(227361),u=s.n(d),l=s(618446),m=s.n(l),h=s(550615),f=s(590594),p=s(114494),g=s(833415),y=s(914786),S=s(315223),P=(e,t)=>{if(118===u()(e,"response.data.error.code")){const t=u()(e,"response.data.error.payload.cardAuthState");return t.attempts===t.attemptsLimit?(h.Z.commit("init/setInitAuth",!1),h.Z.commit("auth/setAuthUser",null),h.Z.commit("modals/setOtpCardModal"),f.Z.push({name:"Feed",params:{isLogout:!0},query:{return_to:p.ZP.$route.query.return_to||p.ZP.$route.fullPath}})):h.Z.commit("modals/setOtpCardModal",{cardAuthState:u()(e,"response.data.error.payload.cardAuthState"),isShow:!0},{root:!0}),!1}return t},v=async(e,t,s)=>new Promise(((r,n)=>{setTimeout((async()=>{try{r(await H[e](t,s))}catch(a){n(a)}}),1e3)})),w=s(925832);const b="onlyfans.com",I="33d57ade8c02dbc5a333db99ff9ae26a",k=`https://${b}`,C="/api2/v2",T=10,$=3e3;let L;const M=r.ZP.create({baseURL:k,headers:{"Content-Type":"application/json",accept:"application/json, text/plain, */*"},params:{},withCredentials:!0,maxRedirects:0}),_={get(e,t){return E("get",e,t)},post(e,t,s){return E("post",e,t,s)},put(e,t,s){return E("put",e,t,s)},patch(e,t,s){return E("patch",e,t,s)},delete(e,t,s){return E("delete",e,t,s)}},A={},x=(e,t,s,r,n,a)=>{const i=r.headers["retry-after"]||3;A[a]||(A[a]={accept:n.accept,reject:n.reject,counter:0}),i&&0===A[a].counter?(setTimeout((()=>{_[e](t,s)}),1e3*i),A[a].counter+=1):(alert("Please try again later."),A[a].reject(r),delete A[a])},F=async(e,t,s,r)=>new Promise(((n,a)=>{const i=h.Z.getters["modals/isPreloaderShow"];p.ZP.$window.hidePreloader(),p.ZP.$once("confirmSecurityCheck",(async()=>{i&&p.ZP.$window.showPreloader();try{n(await _[e](t,s))}catch(r){a(r)}})),p.ZP.$once("declineSecurityCheck",(()=>{a({data:r.data,message:"silent"})})),p.ZP.$nextTick((()=>{p.ZP.$emit("bv::show::modal","ModalSecurityCheck")}))})),E=(e,t,s,r)=>new Promise(((n,a)=>{const{isFraudRepayment:i,isNeedIV:o}=h.Z.state.init;if((i||o)&&t===`${C}/issues/login`)return void n({});const c=`${e}${t}`;M[e](t,s,r).then((e=>{e&&(A[c]?(A[c].accept(e),delete A[c]):n&&n(e))})).catch((async r=>{if(429===r.status)x(e,t,s,r,{accept:n,reject:a},c);else if(A[c])A[c].reject(r),delete A[c];else if(400===r.status&&105===u()(r,"data.error.code")){let o=u()(r,"data.error.payload.otpState")||{};o.forceFaceOtp&&(o={faceOtp:!0,email:!1,phoneOtp:!1,appOtp:!1}),h.Z.commit("modals/setTrustModal",o,{root:!0});try{n(await F(e,t,s,r))}catch(i){i&&400===i.status&&105===u()(i,"data.error.code")?a(new Error("silent")):a(i)}}else if("session_lock"===u()(r,"data.error.code"))try{n(await v(e,t,s,r))}catch(i){a(i)}else a&&a(r)}))})),D=()=>1e12*Math.random(),U=()=>{let e=y.Z.getItem("bcTokenSha");return e||(e=a()([(new Date).getTime(),D(),D(),window.navigator.userAgent].map(btoa).join(".")),y.Z.setItem("bcTokenSha",e),e)};(0,i.ZP)(M,{retries:0,retryDelay:()=>$}),M.interceptors.request.use((e=>{if(U(),0===e.url.indexOf(`${C}/`)){e.headers={...e.headers,...(0,g.Z)(e)},e.headers["app-token"]=I;const t=h.Z.getters["auth/authUserId"];t&&(e.headers["user-id"]=t),e.headers["x-bc"]=U()}return e})),M.interceptors.response.use((e=>{if(L=void 0,e.headers){const t=e.headers["user-id"],s=h.Z.getters["auth/authUserId"];if(["/users/login-as-helper","/users/helper-logout"].every((t=>e.config.url.indexOf(`${C}${t}`)<0))&&(t&&s&&+t!==+s||400===e.status&&301===u()(e,"data.error.code")))return window.showPreloader(),p.ZP.$emit("removeAllBeforeUnloadListeners"),p.ZP.$nextTick((()=>{window.location.reload()})),e;const r=e.headers.date?+new Date(e.headers.date):Date.now();h.Z.commit("init/setCurrentDate",r);const{neededReload:n,currentRev:a}=h.Z.state.init,i=e.headers["x-of-rev"];!n&&i&&(null===a?h.Z.commit("init/setCurrentRev",i):a!==i&&h.Z.commit("init/setNeededReload",!0))}return e}),(async e=>{h.Z.commit("formApiErrors/setErrorCondition",!1),p.ZP.$emit("globalRequestErrorListeners",e);const t=e.response||e,s=u()(e,"response.headers");if(s){const e=s["user-id"],r=h.Z.getters["auth/authUserId"];if(e&&r&&+e!==+r||400===t.status&&301===u()(t,"data.error.code"))return window.showPreloader(),p.ZP.$emit("removeAllBeforeUnloadListeners"),p.ZP.$nextTick((()=>{window.location.reload()})),Promise.reject(t)}if((e instanceof Error&&"Network Error"===e.message||e&&e.request&&e.request.status>=500)&&(L?m()(L,e.config)?(L=void 0,u()(p.ZP,"$children[0].$children[0]._isMounted")?alert(p.ZP.$t("message.api_error")):p.ZP.$once("mounted",(()=>{alert(p.ZP.$t("message.api_error"))})),h.Z.commit("init/setApiError",!0)):L=void 0:({config:L}=e)),e.request){let s=!0;if((e.request.status<500||e instanceof Error&&"Network Error"===e.message)&&(s=!1),401===u()(e,"response.status")&&"SignPage"!==p.ZP.$route.name){h.Z.commit("init/setInitAuth",!1),h.Z.commit("auth/setAuthUser",null),h.Z.commit("modals/otpModalShow",!1,{root:!0}),h.Z.dispatch("logout");const e={},t=p.ZP.$route.query.return_to||p.ZP.$route.fullPath;return"/"!==t&&(e.return_to=t),f.Z.push({name:"Feed",params:{isLogout:!0},query:e}),Promise.reject(new Error("silent"))}if(s=P(e,s),"session_lock"===u()(e,"response.data.error.code")&&(s=!1),101===u()(e,"response.data.error.code")){s=!1;const t=u()(e,"response.data.error.payload.otpState")||{};h.Z.commit("modals/setOtpModal",{title:e.response.data.error.message,strong:!!u()(e,"response.data.error.payload.strong"),phone:!!t.phoneOtp&&!t.forceFaceOtp,app:!!t.appOtp&&!t.forceFaceOtp,email:!!t.email&&!t.forceFaceOtp,phoneCode:!!t.phoneCode,phoneLast4:t.phoneLast4,face:!!t.faceOtp||!!t.forceFaceOtp},{root:!0}),h.Z.commit("modals/otpModalShow",!0,{root:!0})}if(105===u()(e,"response.data.error.code")&&(s=!1),117===u()(e,"response.data.error.code"))return await(0,w.Z)(),Promise.reject(t);const r=u()(e,"request.responseURL")||u()(e,"config.url","");if(!r||-1===r.indexOf("/payments/pay")&&-1===r.indexOf("/users/login")&&-1===r.indexOf("/users/register")&&-1===r.indexOf("/users/forgot-password")||(s=!1),s){const t=new Error(r);t.name=`API error ${e.request.status}`,Sentry.withScope((s=>{s.setTag("responseStatus",e.request.status),s.setExtra("response",e.request.response),Sentry.captureException(t)}))}r&&-1!==r.indexOf("/init")&&200!==e.request.status&&(0,S.D)()}return Promise.reject(t)}));const O=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16)}`)),R=(e,t=null)=>{if(!c()(e))return"";let s=Object.keys(e).map((s=>{const r=e[s];if(![void 0,null,""].includes(r)){if("object"===typeof r){const e=t?`${t}[${s}]`:s;return R(r,e)}return t?`${t}[${Number.isInteger(+s)?"":s}]=${O(r)}`:`${s}=${O(r)}`}})).filter((e=>!!e)).join("&");return s&&!t&&(s=`?${s}`),s},Z=e=>{try{const t=new URL(e),{search:s,pathname:r}=t,n=["stripe","epayservice","payoneer"],a=[window.location.hostname,`www.${window.location.hostname}`,"onlyfans.com","www.onlyfans.com","onlyfans.com","www.onlyfans.com","of.com","www.of.com"],i=r.split("/")[1];if(i&&n.includes(i))return!1;if(!a.includes(t.hostname))return!1;const o=f.Z.getMatchedComponents(r);if(Array.isArray(o)&&o.length>1){const e=o[1];if(e&&e.isErrorPage)return!1}return s?r+s:r}catch(t){}return!1},B=e=>{let{target:t}=e;if(t&&"A"!==t.tagName&&(t=t.closest("a")),t&&"A"===t.tagName&&t.href){const{altKey:s,ctrlKey:r,metaKey:n,shiftKey:a,button:i,defaultPrevented:o}=e;if(n||s||r||a)return!1;if(o)return;if(void 0!==i&&0!==i)return!1;const c=t.getAttribute("target");return!/\b_blank\b/i.test(c)&&Z(t.href)}return!1},j=e=>{const t=B(e);if(t){e.preventDefault(),p.ZP.$emit("bv::hide::modal","ModalAlert"),p.ZP.$emit("bv::hide::modal","ModalUserAlert");let{target:s}=e;s&&"A"!==s.tagName&&(s=s.closest("a"));const r=s.closest(".toast");r&&p.ZP.$bvToast.hide(r.id),f.Z.push(t)}},W=(e,t)=>{const s=B(e);if(s){e.preventDefault(),p.ZP.$emit("bv::hide::modal","ModalAlert"),p.ZP.$emit("bv::hide::modal","ModalUserAlert");let{target:r}=e;r&&"A"!==r.tagName&&(r=r.closest("a"));const{route:n}=f.Z.resolve(s),{authorId:a}=t,{name:i,params:{userId:o}}=n;"Profile"===i&&o!==a&&(n.params.profileStatSource="post_mention");const c=r.closest(".toast");c&&p.ZP.$bvToast.hide(c.id),f.Z.push(n)}},q={},V=e=>{let t=!1;q[e]&&q[e].source&&(q[e].source.cancel(),q[e]=null,t=!0);const{CancelToken:s,Cancel:n}=r.ZP;return q[e]||(q[e]={}),q[e].source=s.source(),{cancelToken:q[e].source.token,isCancelled:t,Cancel:n}},N=e=>{const{isCancel:t}=r.ZP;return t(e)};var H=_},993043:function(e,t,s){"use strict";s.d(t,{$7:function(){return g},Bw:function(){return p},EC:function(){return u},Gl:function(){return m},Sf:function(){return l}});var r=s(227361),n=s.n(r),a=s(727484),i=s.n(a),o=s(849344),c=s(999023),d=s(596012);const u=e=>{const t=[];return Object.keys(e).forEach((s=>{Object.keys(e[s]).forEach((r=>{const n={type:r,name:String(e[s][r]),start:i()(s).toDate(),date:i()(s).format("YYYY-MM-DD")};t.push(n)}))})),t},l=e=>{const t={};if(e.forEach((e=>{const s=i()(e.publishDateTime).format("YYYY-MM-DD");t[s]?t[s].push(e):t[s]=[e]})),Object.keys(t).length){const e={},s=Object.keys(t).sort(((e,t)=>i()(e).isAfter(i()(t))?1:-1));return s.forEach((s=>{e[s]=t[s]})),e}return t},m=e=>{if(Object.keys(e).length){const t={};return Object.keys(e).forEach((s=>{const r=s.substr(0,7);t[r]||(t[r]={}),t[r][s]=Object.values(e[s]).reduce(((e,t)=>e+t))})),t}return{}},h=e=>{if(!e)return(void 0).$route;const{author:t}=e;return t.subscribedBy?{name:"Post",params:{postId:e.id,userId:t.id}}:{name:"Profile",params:{userId:t.id}}},f=async({commit:e,postsWithLinkedUsers:t,commitName:s})=>{const r={},n=[],a=[];t.forEach((e=>e.entity.linkedPosts.forEach((e=>{n.includes(e.id)||n.push(e.id),a.includes(e.author.id)||a.push(e.author.id)}))));const i=n.map((e=>(0,o.u_)(e))),d=a.map((e=>(0,c.PR)(e))),u=await Promise.all(i),l=await Promise.all(d);u&&(t.forEach((e=>{r[e.entity.id]=e.entity.linkedPosts.map((e=>{const t=u.find((t=>t.id===e.id)),s=l.find((t=>t.id===e.author.id));return{post:{...e,author:s||e.author},link:h(t)}}))})),e(s,r,{root:!0}))},p=async({commit:e,list:t,commitName:s})=>{const r=t.filter((e=>{const t=n()(e,"entity.linkedPosts.length")||0;return"post"===e.type&&t}));r.length&&await f({commit:e,postsWithLinkedUsers:r,commitName:s})},g=async({commit:e,id:t})=>{let s;try{s=await(0,d.PF)(t)}catch(r){}return s&&s.success&&e("deleteItem",t),s}},173764:function(){(()=>{window.STATIC_PAGES=[{url:"help",name:{en:"Help",fr:"Aide or Assitant",es:"Ayuda",it:"Aiuto",zh:"帮助",pt:"Ajuda",uk:"Допомога",de:"Hilfe",tw:"幫助",ro:"Ajutor",hi:"सहायता",ru:"Помощь"},type:"faq",inFooter:!0},{url:"about",name:{en:"About",fr:"Sur Nous",es:"Sobre OnlyFans",it:"Dicono di noi",zh:"关于",pt:"Sobre",uk:"Про нас",de:"Über",tw:"關於網站",ro:"Despre",hi:"बारे में",ru:"О нас"},inFooter:!0},{url:"https://blog.onlyfans.com/",name:{en:"Blog",zh:"博客",uk:"Блог",tw:"博客",hi:"ब्लॉग",ru:"Блог"},isExtLink:!0,target:"_blank",inFooter:!0},{url:"brand",name:{en:"Branding",fr:"Image de Marque",es:"La construcción de marca",zh:"品牌",pt:"Marca",uk:"Брендинг",tw:"品牌",hi:"ब्रांडिंग",ru:"Брендинг"},type:"page",target:"_blank",inFooter:!0},{url:"how",name:{en:"How it works",fr:"Comment ça marche",es:"Cómo funciona el sitio",it:"Come funziona",zh:"运作方式",pt:"Como Funciona",uk:"Як це працює",de:"So funktioniert's",tw:"網站如何運用",ro:"Cum funcționează",hi:"यह काम किस प्रकार करता है",ru:"Как это работает"},type:"how",inFooter:!0},{url:"https://store.onlyfans.com/",name:{en:"Store",fr:"E-Boutique",es:"Tienda en línea",it:"Negozio",zh:"商店",pt:"Loja",uk:"Магазин",tw:"商店",ro:"Magazin",hi:"दुकान",ru:"Магазин"},isExtLink:!0,target:"_blank",inFooter:!0},{url:"terms",name:{en:"Terms of Service",fr:"Conditions d`Utilisation",es:"Condiciones de uso",it:"Termini di Servizio",zh:"服务条款",pt:"Termos de Serviço",uk:"Умови використання",de:"Service-Bedingungen",tw:"服務條款",ro:"Termenii de utilizare",hi:"सेवा की शर्तें",ru:"Условия использования"},target:"_blank",inFooter:!0},{url:"privacy",name:{en:"Privacy",fr:"Règles de Confidentialité",es:"Privacidad",zh:"隐私",pt:"Privacidade",uk:"Конфіденційність",de:"Datenschutz",tw:"隱私",ro:"Confidențialitate",hi:"गोपनीयता",ru:"Конфиденциальность"},target:"_blank",inFooter:!0,inSidebarFooter:!0},{url:"terms#complaints-policy",name:{en:"Complaints Policy",fr:"Politique de Plaintes",es:"Reclamos y política",it:"Informativa Reclami",zh:"投诉政策",pt:"Política de reclamações",uk:"Політика відповідності",de:"Reklamationspolitik",tw:"投訴政策",ro:"Politica de plângeri",hi:"शिकायत नीति",ru:"Политика жалоб"},target:"_blank",inFooter:!0},{url:"cookies",name:{en:"Cookie Notice",fr:"Notice de Cookie",es:"Aviso sobre cookies",it:"Informativa sui Cookie",zh:"Cookie 声明",pt:"Aviso de Cookies",uk:"Сповіщення про файли cookie",de:"Cookie-Hinweise",tw:"Cookie通知",ro:"Notificare privind cookie-urile",hi:"कुकी नोटिस",ru:"Уведомление о файлах cookie"},target:"_blank",inFooter:!0,inSidebarFooter:!0},{url:"dmca",name:{en:"DMCA",fr:"Copyright DMCA",tw:"DMCA條款",hi:"डीएमसीए"},type:"page",inFooter:!0},{url:"usc2257",name:{en:"USC 2257",hi:"यूएससी"},type:"usc2257",target:"_blank",inFooter:!0},{url:"contract",name:{en:"Standard Contract between Fan and Creator",fr:"Contrat Standard entre Fan et Créateur",es:"La norma de contrato entre fan y creador",it:"Contratto Standard tra Fan e Creatore",zh:"Fan 与创作者间的标准合同",pt:"Contrato Padrão entre Fã e Criador",uk:"Стандартний контракт між шанувальником та автором",de:"Standardvertrag zwischen Fan und Urheber",tw:"粉絲和用戶的合同",ro:"Contractul standard dintre fan și creator",hi:"प्रशंसक और निर्माता के बीच मानक संपर्क",ru:"Типовой Договор между Фанатом и Автором"},target:"_blank",inFooter:!0},{url:"contacts",name:{en:"Contact",es:"Contacto",it:"Contatti",zh:"联系",pt:"Contato",uk:"Контакти",de:"Kontakt",tw:"聯繫",hi:"संपर्क",ru:"Контакты"},type:"contacts",inFooter:!1},{url:"license_form",name:"License",type:"license",inFooter:!1},{url:"https://twitter.com/onlyfans",name:"Twitter",target:"_blank",isExtLink:!0,inFooter:!1},{url:"transparency-center",name:{en:"OnlyFans Safety & Transparency Center",fr:"Centre de sécurité et de transparence OnlyFans",es:"Centro de seguridad y transparencia de OnlyFans",it:"Centro per la sicurezza e la trasparenza di OnlyFans",zh:"OnlyFans 安全與透明中心",pt:"Centro de Segurança e Transparência OnlyFans",uk:"Центр безпеки та прозорості OnlyFans",de:"OnlyFans Sicherheits- und Transparenzzentrum",tw:"OnlyFans ศูนย์ความปลอดภัยและความโปร่งใส",ro:"Centrul de siguranță și transparență OnlyFans",hi:"केवल प्रशंसक सुरक्षा और पारदर्शिता केंद्र",ru:"Центр безопасности и прозрачности OnlyFans"},type:"referrals",inFooter:!0},{url:"banking-help",name:"Adding a Bank Account",type:"page",inFooter:!1},{url:"terms-of-service",name:{en:"Terms of Service",fr:"Conditions d`Utilisation",es:"Condiciones de uso",it:"Termini di Servizio",zh:"服务条款",pt:"Termos de Serviço",uk:"Умови використання",de:"Service-Bedingungen",tw:"服務條款",ro:"Termenii de utilizare",hi:"सेवा की शर्तें",ru:"Условия использования"},type:"page",target:"_blank",inFooter:!1,inSidebarFooter:!0},{url:"tos",name:{en:"Terms of Service",fr:"Conditions d`Utilisation",es:"Condiciones de uso",it:"Termini di Servizio",zh:"服务条款",pt:"Termos de Serviço",uk:"Умови використання",de:"Service-Bedingungen",tw:"服務條款",ro:"Termenii de utilizare",hi:"सेवा की शर्तें",ru:"Условия использования"},type:"page",inFooter:!1},{url:"tosd",name:{en:"Terms of Service",fr:"Conditions d`Utilisation",es:"Condiciones de uso",it:"Termini di Servizio",zh:"服务条款",pt:"Termos de Serviço",uk:"Умови використання",de:"Service-Bedingungen",tw:"服務條款",ro:"Termenii de utilizare",hi:"सेवा की शर्तें",ru:"Условия использования"},type:"page",inFooter:!1},{url:"antitraffickingstatement",name:{en:"Anti-Slavery and Anti-Trafficking Statement",fr:"Déclaration contre l'esclavage et la traite",es:"Declaración contra la esclavitud y la trata",it:"Dichiarazione contro la schiavitù e la tratta",zh:"反奴役和反人口販賣聲明",pt:"Declaração antiescravagista e antitráfico",uk:"Заява про боротьбу з рабством і торгівлею людьми",de:"Erklärung zur Bekämpfung von Sklaverei und Menschenhandel",tw:"คำชี้แจงเกี่ยวกับการต่อต้านการเป็นทาสและการค้ามนุษย์",ro:"Declarație anti-sclavie și anti-trafic",hi:"गुलामी विरोधी और तस्करी विरोधी बयान",ru:"Заявление о борьбе с рабством и торговлей людьми"},inFooter:!0},{url:"terms#acceptable-use-policy",name:{en:"Acceptable Use Policy",fr:"Politique d'Utilisation Acceptable ",es:"Política de uso aceptable",it:"Politica di Utilizzo Accettabile",zh:"可接受使用策略",pt:"Política de Uso",uk:"Політика допустимого використання",de:"Akzeptable Nutzung",tw:"可接受的使用政策",ro:"Politica de utilizare acceptată",hi:"स्वीकार्य उपयोग नीति",ru:"Политика приемлемого использования"},target:"_blank",inFooter:!0}]})()},872308:function(e,t,s){"use strict";s.d(t,{D5:function(){return l},OH:function(){return h},Pe:function(){return u},b$:function(){return m},cT:function(){return d},cc:function(){return o},eU:function(){return f},k2:function(){return c}});var r=s(964779),n=s(720144);const a=()=>Promise.all([s.e(3983),s.e(7491),s.e(5768),s.e(6204),s.e(1796),s.e(1980),s.e(1078),s.e(6787),s.e(6230),s.e(2569),s.e(4815),s.e(7060),s.e(5350),s.e(787),s.e(9980),s.e(7225),s.e(9250),s.e(9645),s.e(7969),s.e(2576)]).then(s.t.bind(s,713983,23)),i=n["default"].extend(r.Z),o=async e=>{if(!window.streamModule){const t=await a();window.streamModule=new t.StreamModule(e)}},c=async(e,t="webrtc")=>{if(window.viewModule||(window.viewModule={}),!window.viewModule[e]){const s=await a();window.viewModule[e]=new s.ViewModule(t)}},d=()=>{window.streamModule&&window.streamModule.stopStream(!1,"StreamStoppedBeforeModuleDestroy"),delete window.streamModule},u=(e,t)=>{if(window.viewModule){const s=window.viewModule[e];s&&s.stopStream(!1,!0,t)}},l=({instance:e,leave:t=!0,reason:s})=>{window.viewModule&&window.viewModule[e]&&(t&&u(e,s),delete window.viewModule[e])},m=({vm:e,authUser:t,toUser:s,amount:r,message:n})=>{let a;return a=t.id==s.id?e.$root.$t("message.stream_tip_comment",{SUMM:`<strong>${r}</strong> `}):e.$t("message.stream_tip_comment_customer",{SUMM:`<strong>${r}</strong> `,MODEL:s.name}),n&&(a+=`<br>${n.trim()}`),a},h=(e,t)=>{const s=t||document.getElementById(`video_${e.streamUserId}`),r=document.getElementById(`video_container_${e.streamUserId}`);if(!s||!r)return;let n=0,a="100%";const o=s;let{videoWidth:c,videoHeight:d}=o;const u=d/c,l=o.offsetWidth,m=o.offsetHeight,h=m/l;u>h?(d=m,c=d/u):(c=l,d=c*u);const f=e.x*c,p=e.y*d;f&&(n=f-25+(l-c)/2,a=p+40+(m-d)/2);const g=new i({propsData:{startLeft:n,startTop:a}});g.$mount(),r.appendChild(g.$el),setTimeout((()=>{r&&r.removeChild(g.$el),g.$destroy()}),1500)},f={streamTypes:{webrtc:"WebRTC",agora:"CloudBeta",tcp:"TCP",nano:"Low latency"},canCostreamingStreamTypes:["webrtc","tcp","hls","llhls"],defaultStreamType:"webrtc"}},310569:function(e,t,s){"use strict";s.d(t,{Ao:function(){return T},BI:function(){return u},C6:function(){return r},FX:function(){return k},JX:function(){return a},PT:function(){return l},Q$:function(){return w},SX:function(){return f},U0:function(){return S},Yt:function(){return g},Z1:function(){return p},at:function(){return v},bT:function(){return c},e5:function(){return b},f_:function(){return d},hL:function(){return m},i2:function(){return h},iZ:function(){return y},jq:function(){return I},kY:function(){return C},l$:function(){return o},pK:function(){return n},vu:function(){return P},y9:function(){return i}});const r="all",n="commented",a="replied",i="mentioned",o="favorited",c="subscribed",d="tip",u="message",l="purchases",m="price_changed",h="paided_post",f="paided_message",p="system",g="deactivated_media",y="subscribe_was_expired",S="new_trial",P="soon_expire_autoprolong_disabled",v="new_stream",w="reminder_stream",b="new_tips_fund_raising",I="photo",k="gif",C="video",T=[I,k,C]},502568:function(e,t){"use strict";t["Z"]=()=>{const e=Date.now().toString(36),t=Math.random().toString(36).substring(2);return e+t}},738129:function(e,t,s){"use strict";s.d(t,{$g:function(){return u},MX:function(){return M},OW:function(){return A},S4:function(){return F},T5:function(){return l},Xg:function(){return o},at:function(){return E},lD:function(){return m},tJ:function(){return a},vc:function(){return i},vq:function(){return I},yK:function(){return _}});var r=s(437035);const n=e=>Array.isArray(e)&&e.length?e.reduce(((e,{name:t,children:s})=>t?[...e,t,...s?n(s):[]]:e),[]):[],a=n(r.H),i=n(r.Hh),o=n(r.Ii),c=["Subscribers","SubscribersByType","Promotions","Subscribes","SubscribesByType"],d=["order_field","order_dir"],u="FILTERS_SUBSCRIBERS_MODAL",l="FILTERS_SUBSCRIBERS_ALL",m="FILTERS_SUBSCRIBES_ALL",h=["total_spent","tips","duration","inactive","recommenders","signed_up_before","signed_up_after","online","spent_date_start","spent_date_end"],f=[...h,"recommender_id","promoId"],p=["paid","online"],g={[u]:h,[l]:f,[m]:p},y={"Subscribers::all":{order_field:["last_activity","users.name","expire_date","new_price","subscribe_date","total_duration","expires","unsubscribes_reasons.sort"],order_dir:["asc","desc"]},"SubscribersByType::active":{order_field:["last_activity","users.name","expire_date","new_price","subscribe_date","total_duration","expires","unsubscribes_reasons.sort"],order_dir:["asc","desc"]},"SubscribersByType::expired":{order_field:["last_activity","users.name","expire_date","subscribe_date","total_duration","is_expired","unsubscribes_reasons.sort"],order_dir:["asc","desc"]},"SubscribersByType::restricted":{order_field:["last_activity","users.name","expire_date","new_price","subscribe_date","total_duration","expires","unsubscribes_reasons.sort"],order_dir:["asc","desc"]},"SubscribersByType::blocked":{order_field:["last_activity","users.name","expire_date","new_price","subscribe_date","total_duration","expires","unsubscribes_reasons.sort"],order_dir:["asc","desc"]},"SubscribersByType::activity":{order_field:["last_activity","users.name","summ_subscribes","summ_post","summ_chat_messages","summ_call","summ_stream","summ_tips","summ_total"],order_dir:["asc","desc"]},"Promotions::promo":{order_field:["users.name","create_date","is_finished","subscribe_days","expire_date","finish_date"],order_dir:["asc","desc"]},"Subscribes::all":{order_field:["last_activity","users.name","expire_date","new_price","subscribe_date","total_duration","expires","unsubscribes_reasons.sort"],order_dir:["asc","desc"]},"SubscribesByType::active":{order_field:["last_activity","users.name","expire_date","new_price","subscribe_date","total_duration","expires","unsubscribes_reasons.sort"],order_dir:["asc","desc"]},"SubscribesByType::expired":{order_field:["last_activity","users.name","expire_date","subscribe_date","total_duration","is_expired","unsubscribes_reasons.sort"],order_dir:["asc","desc"]},"SubscribesByType::restricted":{order_field:["last_activity","users.name","expire_date","new_price","subscribe_date","total_duration","expires","unsubscribes_reasons.sort"],order_dir:["asc","desc"]},"SubscribesByType::blocked":{order_field:["last_activity","users.name","expire_date","new_price","subscribe_date","total_duration","expires","unsubscribes_reasons.sort"],order_dir:["asc","desc"]},"RestrictedUsers::all":{order_field:["last_activity","users.name","expire_date","new_price","subscribe_date","total_duration","expires","unsubscribes_reasons.sort"],order_dir:["asc","desc"]},"BlockedUsers::all":{order_field:["last_activity","users.name","expire_date","new_price","subscribe_date","total_duration","expires","unsubscribes_reasons.sort"],order_dir:["asc","desc"]},"UsersLists::all":{order_field:["last_activity","users.name","expire_date","new_price","subscribe_date","total_duration","expires","unsubscribes_reasons.sort"],order_dir:["asc","desc"]}},S=[{name:"last_activity",label:"subscribers_activity_last_title",sub:"all|active|expired|activity|restricted|blocked"},{name:"users.name",label:"subscribers_name_title",sub:"all|active|expired|activity|restricted|blocked|promo"},{name:"summ_subscribes",label:"subscribers_activity_subscribes_summ_title",sub:"activity"},{name:"summ_post",label:"subscribers_activity_posts_title",sub:"activity"},{name:"summ_chat_messages",label:"subscribers_activity_chats_summ_title",sub:"activity"},{name:"summ_stream",label:"subscribers_activity_live_streams_title",sub:"activity"},{name:"summ_tips",label:"subscribers_activity_tips_summ_title",sub:"activity"},{name:"summ_total",label:"subscribers_activity_total_summ_title",sub:"activity"},{name:"expire_date",label:"subscribers_current_subscription_title",sub:"active"},{name:"expire_date",label:"subscribers_previous_subscription_title",sub:"expired"},{name:"expire_date",label:"subscribers_subscription_title",sub:"all|restricted|blocked"},{name:"new_price",label:"subscribers_new_price_title",sub:"all|active|restricted|blocked"},{name:"subscribe_date",label:"subscribers_started_title",sub:"all|active|expired|restricted|blocked"},{name:"total_duration",label:"subscribers_total_duration_title",sub:"all|active|expired|restricted|blocked"},{name:"expires",label:"subscribers_renews_expires_title",sub:"all|active|restricted|blocked"},{name:"is_expired",label:"subscribers_expired_sort_title",sub:"expired"},{name:"unsubscribes_reasons.sort",label:"subscribers_reason_title",sub:"all|active|expired|restricted|blocked"},{name:"create_date",label:"subscribers_offer_sent_title",sub:"promo"},{name:"is_finished",label:"subscribers_offer_current_offer_title",sub:"promo"},{name:"subscribe_days",label:"subscribers_offer_duration_title",sub:"promo"},{name:"expire_date",label:"subscribers_offer_expires_title",sub:"promo"},{name:"finish_date",label:"subscribers_offer_claimed_title",sub:"promo"}];let P="";const v={},w=e=>{const{name:t,params:{type:s=""}}=e;switch(!0){case"Promotions"===t:return"promo";case["Subscribers","Subscribes","RestrictedUsers","BlockedUsers"].includes(t):return"all";case o.includes(t):return"all";default:return`${s}`}},b=e=>{const{name:t}=e,s=w(e);switch(!0){case o.includes(t):return`UsersLists::${s}`;default:return`${t}::${s}`}},I=e=>{e&&(P=b(e))},k=e=>v[`${P}::${e}`],C=e=>c.includes(e.name),T=(e,t)=>{if(!d.includes(e))return!0;const s=k(e)||[];return!!s&&s.includes(t)},$=e=>{const t=Object.entries(e.query).some((([e,t])=>!T(e,t)));return t},L=e=>Object.entries(e.query).reduce(((e,[t,s])=>T(t,s)?{...e,[t]:s}:e),{}),M=e=>(I(e),k("sortOptions")||[]),_=e=>C(e)&&$(e),A=e=>{const t=L(e);return{...e,query:t}},x=(e,t)=>{if(t&&g[t])return g[t];const{name:s}=e;return"Subscribes"===s||"SubscribesByType"===s?g[m]||[]:g[u]||[]},F=(e,t)=>{const s=x(e,t),r={...e.query};return s.reduce(((e,t)=>void 0===r[t]?e:{...e,[t]:r[t]}),{})},E=(e,t)=>{const s=x(e,t),r={...e.query};return Object.entries(r).reduce(((e,[t,r])=>s.includes(t)?e:{...e,[t]:r}),{})},D=()=>{Object.entries(y).forEach((([e,{order_field:t,order_dir:s}])=>{const[,r]=e.split("::"),n=S.filter((({name:e,sub:s})=>t.includes(e)&&s.includes(r)));v[`${e}::sortOptions`]=n,v[`${e}::order_field`]=t,v[`${e}::order_dir`]=s}))};D()},258373:function(e,t,s){var r={"./ar":[514837,4837],"./ar.js":[514837,4837],"./az":[139410,9410],"./az.js":[139410,9410],"./bg":[6916,6916],"./bg.js":[6916,6916],"./ca":[548528,8528],"./ca.js":[548528,8528],"./cs":[846664,6664],"./cs.js":[846664,6664],"./da":[99235,9235],"./da.js":[99235,9235],"./de":[639948,9948],"./de.js":[639948,9948],"./el":[832492,2492],"./el.js":[832492,2492],"./en":[224685,4685],"./en.js":[224685,4685],"./es":[482953,2953],"./es.js":[482953,2953],"./et":[749724,9724],"./et.js":[749724,9724],"./eu":[15073,5073],"./eu.js":[15073,5073],"./fa":[724910,4910],"./fa.js":[724910,4910],"./fi":[405095,5095],"./fi.js":[405095,5095],"./fr":[643786,3786],"./fr.js":[643786,3786],"./he":[265734,5734],"./he.js":[265734,5734],"./hi":[511888,1888],"./hi.js":[511888,1888],"./hr":[909084,9084],"./hr.js":[909084,9084],"./hu":[49180,9180],"./hu.js":[49180,9180],"./id":[144661,4661],"./id.js":[144661,4661],"./it":[854781,4781],"./it.js":[854781,4781],"./ja":[236890,6890],"./ja.js":[236890,6890],"./ka":[577972,7972],"./ka.js":[577972,7972],"./ko":[125706,5706],"./ko.js":[125706,5706],"./lt":[627209,7209],"./lt.js":[627209,7209],"./lv":[80309,309],"./lv.js":[80309,309],"./mn":[89517,9517],"./mn.js":[89517,9517],"./ms_MY":[446130,6130],"./ms_MY.js":[446130,6130],"./nb_NO":[898133,8133],"./nb_NO.js":[898133,8133],"./ne":[674349,4349],"./ne.js":[674349,4349],"./nl":[304374,4374],"./nl.js":[304374,4374],"./nn_NO":[130565,565],"./nn_NO.js":[130565,565],"./pl":[207406,7406],"./pl.js":[207406,7406],"./pt_BR":[906348,6348],"./pt_BR.js":[906348,6348],"./pt_PT":[200050,50],"./pt_PT.js":[200050,50],"./ro":[826226,6226],"./ro.js":[826226,6226],"./ru":[208949,8949],"./ru.js":[208949,8949],"./sk":[995066,5066],"./sk.js":[995066,5066],"./sl":[442960,2960],"./sl.js":[442960,2960],"./sq":[986419,6419],"./sq.js":[986419,6419],"./sr":[138992,8992],"./sr.js":[138992,8992],"./sr_Latin":[36257,6257],"./sr_Latin.js":[36257,6257],"./sv":[442147,2147],"./sv.js":[442147,2147],"./th":[496617,6617],"./th.js":[496617,6617],"./tr":[850107,107],"./tr.js":[850107,107],"./uk":[665287,7646],"./uk.js":[665287,7646],"./vi":[38689,8689],"./vi.js":[38689,8689],"./zh_CN":[144051,4051],"./zh_CN.js":[144051,4051],"./zh_TW":[831110,1110],"./zh_TW.js":[831110,1110]};function n(e){if(!s.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],n=t[0];return s.e(t[1]).then((function(){return s.t(n,23)}))}n.keys=function(){return Object.keys(r)},n.id=258373,e.exports=n},501078:function(e,t,s){var r={"./auth.js":397235,"./banking.js":906189,"./billingSupport.js":615675,"./bundles.js":497965,"./campaigns.js":807394,"./chats.js":835401,"./comments.js":206060,"./creditTransactions.js":474878,"./currentPlayMedia.js":928658,"./draft.js":849156,"./formApiErrors.js":979155,"./hints.js":229551,"./index.js":211988,"./init.js":901371,"./lastPosts.js":732700,"./live.js":954075,"./massMessagesStat.js":478831,"./mediaVault.js":449299,"./modals.js":172441,"./offers.js":544956,"./payments.js":702817,"./performerHelpers.js":260950,"./photoSwipe.js":802333,"./postLabels.js":784819,"./postStatCollector.js":557910,"./posts.js":274889,"./referrals.js":818474,"./releaseForms.js":50473,"./router.js":669479,"./savedForLater.js":258135,"./schedule.js":453398,"./scheduledMessage.js":355208,"./settings.js":363345,"./shopify.js":556208,"./socket.js":325928,"./statements.js":487979,"./static.js":856273,"./statistic.js":798427,"./stories.js":746382,"./streaming.js":982049,"./streams.js":966312,"./streamsPast.js":269186,"./streamsScheduled.js":971708,"./subscribers.js":79233,"./subscribes.js":514614,"./translations.js":699560,"./users.js":857107,"./usersLists.js":595097};function n(e){var t=a(e);return s(t)}function a(e){if(!s.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=a,e.exports=n,n.id=501078},448488:function(e){"use strict";if("undefined"===typeof moment){var t=new Error("Cannot find module 'moment'");throw t.code="MODULE_NOT_FOUND",t}e.exports=moment}},t={};function s(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,s),a.loaded=!0,a.exports}s.m=e,function(){s.amdO={}}(),function(){var e=[];s.O=function(t,r,n,a){if(!r){var i=1/0;for(u=0;u<e.length;u++){r=e[u][0],n=e[u][1],a=e[u][2];for(var o=!0,c=0;c<r.length;c++)(!1&a||i>=a)&&Object.keys(s.O).every((function(e){return s.O[e](r[c])}))?r.splice(c--,1):(o=!1,a<i&&(i=a));if(o){e.splice(u--,1);var d=n();void 0!==d&&(t=d)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[r,n,a]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};s.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"===typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"===typeof r.then)return r}var a=Object.create(null);s.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&n&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((function(e){i[e]=function(){return r[e]}}));return i["default"]=function(){return r},s.d(a,i),a}}(),function(){s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){s.f={},s.e=function(e){return Promise.all(Object.keys(s.f).reduce((function(t,r){return s.f[r](e,t),t}),[]))}}(),function(){s.u=function(e){return({179:"main",989:"faceApi",1326:"statements",1671:"uploader",1903:"aws-sdk",2219:"sign",2385:"hellosign",2576:"live",2681:"additionally",3077:"banking",3193:"statistics",4686:"statementsVat",5430:"static",5571:"settings",6007:"ReleaseForms",7403:"referrals",7651:"ChartJs",7797:"chats",7844:"AddReleaseDocs",8359:"eruda",8983:"report",9067:"web3",9342:"TributeJS",9777:"MakeFeedPost"}[e]||e)+".js?rev=202212072129-bda26c0f29"}}(),function(){s.miniCssF=function(e){return({179:"main",1326:"statements",2219:"sign",2576:"live",2681:"additionally",3077:"banking",3193:"statistics",4686:"statementsVat",5430:"static",5571:"settings",6007:"ReleaseForms",7403:"referrals",7797:"chats",7844:"AddReleaseDocs",8983:"report",9342:"TributeJS",9777:"MakeFeedPost"}[e]||e)+".css?rev=202212072129-bda26c0f29"}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="of-vue:";s.l=function(r,n,a,i){if(e[r])e[r].push(n);else{var o,c;if(void 0!==a)for(var d=document.getElementsByTagName("script"),u=0;u<d.length;u++){var l=d[u];if(l.getAttribute("src")==r||l.getAttribute("data-webpack")==t+a){o=l;break}}o||(c=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.setAttribute("data-webpack",t+a),o.src=r),e[r]=[n];var m=function(t,s){o.onerror=o.onload=null,clearTimeout(h);var n=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),n&&n.forEach((function(e){return e(s)})),t)return t(s)},h=setTimeout(m.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=m.bind(null,o.onerror),o.onload=m.bind(null,o.onload),c&&document.head.appendChild(o)}}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){s.p="https://static.onlyfans.com/theme/onlyfans/spa/"}(),function(){var e=function(e,t,s,r){var n=document.createElement("link");n.rel="stylesheet",n.type="text/css";var a=function(a){if(n.onerror=n.onload=null,"load"===a.type)s();else{var i=a&&("load"===a.type?"missing":a.type),o=a&&a.target&&a.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=i,c.request=o,n.parentNode.removeChild(n),r(c)}};return n.onerror=n.onload=a,n.href=t,document.head.appendChild(n),n},t=function(e,t){for(var s=document.getElementsByTagName("link"),r=0;r<s.length;r++){var n=s[r],a=n.getAttribute("data-href")||n.getAttribute("href");if("stylesheet"===n.rel&&(a===e||a===t))return n}var i=document.getElementsByTagName("style");for(r=0;r<i.length;r++){n=i[r],a=n.getAttribute("data-href");if(a===e||a===t)return n}},r=function(r){return new Promise((function(n,a){var i=s.miniCssF(r),o=s.p+i;if(t(i,o))return n();e(r,o,n,a)}))},n={2143:0};s.f.miniCss=function(e,t){var s={18:1,179:1,1282:1,1326:1,1425:1,1980:1,2219:1,2576:1,2681:1,2758:1,2905:1,3077:1,3166:1,3193:1,3314:1,3445:1,3582:1,4181:1,4352:1,4686:1,5118:1,5334:1,5430:1,5571:1,6007:1,6279:1,6699:1,6787:1,6938:1,7183:1,7248:1,7403:1,7491:1,7549:1,7654:1,7725:1,7797:1,7844:1,8303:1,8308:1,8360:1,8605:1,8640:1,8843:1,8922:1,8926:1,8952:1,8983:1,9140:1,9250:1,9307:1,9308:1,9342:1,9369:1,9446:1,9722:1,9777:1,9900:1};n[e]?t.push(n[e]):0!==n[e]&&s[e]&&t.push(n[e]=r(e).then((function(){n[e]=0}),(function(t){throw delete n[e],t})))}}(),function(){var e={2143:0};s.f.j=function(t,r){var n=s.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else if(/^(7725|9722)$/.test(t))e[t]=0;else{var a=new Promise((function(s,r){n=e[t]=[s,r]}));r.push(n[2]=a);var i=s.p+s.u(t),o=new Error,c=function(r){if(s.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var a=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",o.name="ChunkLoadError",o.type=a,o.request=i,n[1](o)}};s.l(i,c,"chunk-"+t,t)}},s.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,a,i=r[0],o=r[1],c=r[2],d=0;if(i.some((function(t){return 0!==e[t]}))){for(n in o)s.o(o,n)&&(s.m[n]=o[n]);if(c)var u=c(s)}for(t&&t(r);d<i.length;d++)a=i[d],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(u)},r=self["webpackChunkof_vue"]=self["webpackChunkof_vue"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=s.O(void 0,[3415,4998],(function(){return s(114494)}));r=s.O(r)})();